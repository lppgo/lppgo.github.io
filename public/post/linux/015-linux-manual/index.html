<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>01-Linux Manual - Even - A super concise theme for Hugo</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="lucas" /><meta name="description" content="Linux 常用命令参考手册manual..." /><meta name="keywords" content="Linux, tool" />






<meta name="generator" content="Hugo 0.93.1 with theme even" />


<link rel="canonical" href="https://lppgo.github.io/post/linux/015-linux-manual/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="01-Linux Manual" />
<meta property="og:description" content="Linux 常用命令参考手册manual..." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lppgo.github.io/post/linux/015-linux-manual/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-04-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-04-19T00:00:00+00:00" />

<meta itemprop="name" content="01-Linux Manual">
<meta itemprop="description" content="Linux 常用命令参考手册manual..."><meta itemprop="datePublished" content="2021-04-19T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-04-19T00:00:00+00:00" />
<meta itemprop="wordCount" content="24830">
<meta itemprop="keywords" content="Linux," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="01-Linux Manual"/>
<meta name="twitter:description" content="Linux 常用命令参考手册manual..."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">lppgo</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">lppgo</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">01-Linux Manual</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-04-19 </span>
        <div class="post-category">
            <a href="/categories/linux/"> Linux </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#1-文件">1: 文件</a>
      <ul>
        <li><a href="#11-查看文件内容">1.1 查看文件内容</a>
          <ul>
            <li><a href="#111-head">1.1.1 head</a></li>
            <li><a href="#112-tail">1.1.2 tail</a></li>
            <li><a href="#113-cat">1.1.3 cat</a></li>
            <li><a href="#114-nl">1.1.4 nl</a></li>
            <li><a href="#115-more">1.1.5 more</a></li>
          </ul>
        </li>
        <li><a href="#12-创建">1.2 创建</a>
          <ul>
            <li><a href="#121-touch">1.2.1 touch</a></li>
            <li><a href="#122-mkdir">1.2.2 mkdir</a></li>
            <li><a href="#123-mktemp">1.2.3 mktemp</a></li>
          </ul>
        </li>
        <li><a href="#13-删除">1.3 删除</a>
          <ul>
            <li><a href="#131-rm">1.3.1 rm</a></li>
            <li><a href="#132-rmdir">1.3.2 rmdir</a></li>
          </ul>
        </li>
        <li><a href="#14-查找文件">1.4 查找文件</a>
          <ul>
            <li><a href="#141-find">1.4.1 find</a></li>
            <li><a href="#142-locate">1.4.2 locate</a></li>
          </ul>
        </li>
        <li><a href="#15-ls">1.5 ls</a></li>
        <li><a href="#16-pwd">1.6 pwd</a></li>
        <li><a href="#17-wc">1.7 wc</a></li>
        <li><a href="#18-chattr">1.8 chattr</a></li>
        <li><a href="#19-paste">1.9 paste</a></li>
        <li><a href="#110-stat">1.10 stat</a></li>
        <li><a href="#111-grep">1.11 grep</a></li>
        <li><a href="#112-sed">1.12 sed</a>
          <ul>
            <li><a href="#1121-执行多个命令">1.12.1 执行多个命令</a></li>
            <li><a href="#1122-从文件中读取编辑器命令">1.12.2 从文件中读取编辑器命令</a></li>
            <li><a href="#1123-直接编辑">1.12.3 直接编辑</a></li>
            <li><a href="#1124-替换标记">1.12.4 替换标记</a></li>
            <li><a href="#1125-替换反斜杠">1.12.5 替换反斜杠</a></li>
            <li><a href="#1126-使用地址">1.12.6 使用地址</a></li>
            <li><a href="#1127-删除行">1.12.7 删除行</a></li>
            <li><a href="#1128-打印内容">1.12.8 打印内容</a></li>
          </ul>
        </li>
        <li><a href="#113-cd">1.13 cd</a></li>
        <li><a href="#114-cp">1.14 cp</a></li>
        <li><a href="#114-mv">1.14 mv</a></li>
        <li><a href="#115-open">1.15 open</a></li>
        <li><a href="#116-source">1.16 source</a></li>
        <li><a href="#117-tree">1.17 tree</a></li>
        <li><a href="#118-ln">1.18 ln</a></li>
        <li><a href="#119-file">1.19 file</a></li>
        <li><a href="#120-sort">1.20 sort</a></li>
        <li><a href="#121-uniq">1.21 uniq</a></li>
        <li><a href="#122-split">1.22 split</a></li>
        <li><a href="#123-vim">1.23 vim</a></li>
      </ul>
    </li>
    <li><a href="#2-系统管理">2: 系统管理</a>
      <ul>
        <li><a href="#21-nohup">2.1 nohup</a></li>
        <li><a href="#22-watch">2.2 watch</a></li>
        <li><a href="#23-ping">2.3 ping</a></li>
        <li><a href="#24-which">2.4 which</a></li>
        <li><a href="#25-shutdown">2.5 shutdown</a></li>
        <li><a href="#26-reboot">2.6 reboot</a></li>
        <li><a href="#27-uptime">2.7 uptime</a></li>
        <li><a href="#28-crontab">2.8 crontab</a></li>
        <li><a href="#29-at">2.9 at</a></li>
        <li><a href="#210-uname">2.10 uname</a></li>
        <li><a href="#211-ifconfig">2.11 ifconfig</a></li>
        <li><a href="#212-whereis">2.12 whereis</a></li>
        <li><a href="#213-chmod">2.13 chmod</a>
          <ul>
            <li><a href="#2131-文件权限码">2.13.1 文件权限码</a></li>
          </ul>
        </li>
        <li><a href="#214-chown">2.14 chown</a></li>
        <li><a href="#215-lsof">2.15 lsof</a></li>
        <li><a href="#216-systemctl">2.16 systemctl</a></li>
        <li><a href="#217-service">2.17 service</a></li>
        <li><a href="#218-free">2.18 free</a></li>
        <li><a href="#219-type">2.19 type</a></li>
        <li><a href="#220-alias">2.20 alias</a></li>
        <li><a href="#221-time">2.21 time</a></li>
        <li><a href="#222-jobs">2.22 jobs</a></li>
        <li><a href="#223-">2.23 &amp;</a></li>
      </ul>
    </li>
    <li><a href="#3-系统进程">3: 系统进程</a>
      <ul>
        <li><a href="#ps">ps</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#pstree">pstree</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#top">top</a></li>
        <li><a href="#netstat">netstat</a></li>
        <li><a href="#kill">kill</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#killall">killall</a></li>
      </ul>
    </li>
    <li><a href="#4-用户管理">4: 用户管理</a>
      <ul>
        <li><a href="#useradd">useradd</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#userdel">userdel</a></li>
        <li><a href="#passwd">passwd</a></li>
        <li><a href="#chpasswd">chpasswd</a></li>
        <li><a href="#chsh">chsh</a></li>
        <li><a href="#chfn">chfn</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#usermod">usermod</a></li>
        <li><a href="#users">users</a></li>
        <li><a href="#who">who</a></li>
        <li><a href="#w">w</a></li>
        <li><a href="#last">last</a></li>
        <li><a href="#su">su</a></li>
        <li><a href="#whoami">whoami</a></li>
      </ul>
    </li>
    <li><a href="#5-环境变量">5: 环境变量</a>
      <ul>
        <li><a href="#printenv">printenv</a></li>
        <li><a href="#set">set</a></li>
        <li><a href="#export">export</a></li>
        <li><a href="#unset">unset</a></li>
      </ul>
    </li>
    <li><a href="#6-压缩解压">6: 压缩、解压</a>
      <ul>
        <li><a href="#zip">zip</a></li>
        <li><a href="#unzip">unzip</a></li>
        <li><a href="#gzip">gzip</a></li>
        <li><a href="#bzip2">bzip2</a></li>
        <li><a href="#tar">tar</a></li>
      </ul>
    </li>
    <li><a href="#7-加解密">7: 加解密</a>
      <ul>
        <li><a href="#md5sum">md5sum</a></li>
        <li><a href="#base64">base64</a></li>
      </ul>
    </li>
    <li><a href="#8-网络">8: 网络</a>
      <ul>
        <li><a href="#ssh">ssh</a></li>
        <li><a href="#wget">wget</a></li>
        <li><a href="#curl">curl</a>
          <ul>
            <li><a href="#不传递任何参数只打印-http-响应内容">不传递任何参数只打印 HTTP 响应内容</a></li>
            <li><a href="#-s-不输出错误和进度信息-只显示正常结果">-s 不输出错误和进度信息, 只显示正常结果</a></li>
            <li><a href="#-o-指定文件名下载到本地等价于-wget">-o 指定文件名下载到本地，等价于 wget</a></li>
            <li><a href="#-o-下载文件到本地-并将-url-最后部分当做文件名">-O 下载文件到本地, 并将 URL 最后部分当做文件名</a></li>
            <li><a href="#--progress-显示进度条">&ndash;progress 显示进度条</a></li>
            <li><a href="#-l-http-请求跟随服务器重定向">-L HTTP 请求跟随服务器重定向</a></li>
            <li><a href="#-i-或---head-显示-http-响应报文-不打印响应内容">-I 或 &ndash;head 显示 HTTP 响应报文, 不打印响应内容</a></li>
            <li><a href="#-h-设置请求头">-H 设置请求头</a></li>
            <li><a href="#-x-指明-http-请求方法">-X 指明 HTTP 请求方法</a></li>
            <li><a href="#-d-要发送的实体内容">-d 要发送的实体内容</a></li>
            <li><a href="#--cookie-http-请求时携带的-cookie-信息">&ndash;cookie HTTP 请求时携带的 cookie 信息</a></li>
            <li><a href="#-v-打印整个传输过程">-v 打印整个传输过程</a></li>
            <li><a href="#-f-上传文件默认以-post-方法请求">-F 上传文件，默认以 POST 方法请求</a></li>
            <li><a href="#-u-请求授权">-u 请求授权</a></li>
            <li><a href="#--retry-请求重试">&ndash;retry 请求重试</a></li>
          </ul>
        </li>
        <li><a href="#scp">scp</a></li>
        <li><a href="#rsync">rsync</a>
          <ul>
            <li></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#9-磁盘">9: 磁盘</a>
      <ul>
        <li><a href="#df">df</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#du">du</a></li>
      </ul>
    </li>
    <li><a href="#10-包管理">10: 包管理</a>
      <ul>
        <li><a href="#yum">yum</a></li>
        <li><a href="#apt-get">apt-get</a></li>
      </ul>
    </li>
    <li><a href="#11-其他">11: 其他</a>
      <ul>
        <li><a href="#目录名称含义">目录名称含义</a></li>
        <li><a href="#重定向输入和输出">重定向输入和输出</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#管道">管道</a></li>
        <li><a href="#echo">echo</a></li>
        <li><a href="#date">date</a></li>
        <li><a href="#man">man</a></li>
        <li><a href="#sleep">sleep</a></li>
        <li><a href="#history">history</a></li>
        <li><a href="#xargs">xargs</a></li>
        <li><a href="#cal">cal</a></li>
        <li><a href="#expr">expr</a></li>
        <li><a href="#bc">bc</a></li>
        <li><a href="#timeout">timeout</a></li>
        <li><a href="#exit">exit</a></li>
        <li><a href="#basename">basename</a></li>
        <li><a href="#read">read</a></li>
        <li><a href="#tee">tee</a></li>
        <li><a href="#clear">clear</a></li>
        <li><a href="#致谢">致谢</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <ul>
<li><a href="#1-%E6%96%87%E4%BB%B6">1: 文件</a>
<ul>
<li><a href="#11-%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9">1.1 查看文件内容</a>
<ul>
<li><a href="#111-head">1.1.1 head</a></li>
<li><a href="#112-tail">1.1.2 tail</a></li>
<li><a href="#113-cat">1.1.3 cat</a></li>
<li><a href="#114-nl">1.1.4 nl</a></li>
<li><a href="#115-more">1.1.5 more</a></li>
</ul>
</li>
<li><a href="#12-%E5%88%9B%E5%BB%BA">1.2 创建</a>
<ul>
<li><a href="#121-touch">1.2.1 touch</a></li>
<li><a href="#122-mkdir">1.2.2 mkdir</a></li>
<li><a href="#123-mktemp">1.2.3 mktemp</a></li>
</ul>
</li>
<li><a href="#13-%E5%88%A0%E9%99%A4">1.3 删除</a>
<ul>
<li><a href="#131-rm">1.3.1 rm</a></li>
<li><a href="#132-rmdir">1.3.2 rmdir</a></li>
</ul>
</li>
<li><a href="#14-%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6">1.4 查找文件</a>
<ul>
<li><a href="#141-find">1.4.1 find</a></li>
<li><a href="#142-locate">1.4.2 locate</a></li>
</ul>
</li>
<li><a href="#15-ls">1.5 ls</a></li>
<li><a href="#16-pwd">1.6 pwd</a></li>
<li><a href="#17-wc">1.7 wc</a></li>
<li><a href="#18-chattr">1.8 chattr</a></li>
<li><a href="#19-paste">1.9 paste</a></li>
<li><a href="#110-stat">1.10 stat</a></li>
<li><a href="#111-grep">1.11 grep</a></li>
<li><a href="#112-sed">1.12 sed</a>
<ul>
<li><a href="#1121-%E6%89%A7%E8%A1%8C%E5%A4%9A%E4%B8%AA%E5%91%BD%E4%BB%A4">1.12.1 执行多个命令</a></li>
<li><a href="#1122-%E4%BB%8E%E6%96%87%E4%BB%B6%E4%B8%AD%E8%AF%BB%E5%8F%96%E7%BC%96%E8%BE%91%E5%99%A8%E5%91%BD%E4%BB%A4">1.12.2 从文件中读取编辑器命令</a></li>
<li><a href="#1123-%E7%9B%B4%E6%8E%A5%E7%BC%96%E8%BE%91">1.12.3 直接编辑</a></li>
<li><a href="#1124-%E6%9B%BF%E6%8D%A2%E6%A0%87%E8%AE%B0">1.12.4 替换标记</a></li>
<li><a href="#1125-%E6%9B%BF%E6%8D%A2%E5%8F%8D%E6%96%9C%E6%9D%A0">1.12.5 替换反斜杠</a></li>
<li><a href="#1126-%E4%BD%BF%E7%94%A8%E5%9C%B0%E5%9D%80">1.12.6 使用地址</a></li>
<li><a href="#1127-%E5%88%A0%E9%99%A4%E8%A1%8C">1.12.7 删除行</a></li>
<li><a href="#1128-%E6%89%93%E5%8D%B0%E5%86%85%E5%AE%B9">1.12.8 打印内容</a></li>
</ul>
</li>
<li><a href="#113-cd">1.13 cd</a></li>
<li><a href="#114-cp">1.14 cp</a></li>
<li><a href="#114-mv">1.14 mv</a></li>
<li><a href="#115-open">1.15 open</a></li>
<li><a href="#116-source">1.16 source</a></li>
<li><a href="#117-tree">1.17 tree</a></li>
<li><a href="#118-ln">1.18 ln</a></li>
<li><a href="#119-file">1.19 file</a></li>
<li><a href="#120-sort">1.20 sort</a></li>
<li><a href="#121-uniq">1.21 uniq</a></li>
<li><a href="#122-split">1.22 split</a></li>
<li><a href="#123-vim">1.23 vim</a></li>
</ul>
</li>
<li><a href="#2-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86">2: 系统管理</a>
<ul>
<li><a href="#21-nohup">2.1 nohup</a></li>
<li><a href="#22-watch">2.2 watch</a></li>
<li><a href="#23-ping">2.3 ping</a></li>
<li><a href="#24-which">2.4 which</a></li>
<li><a href="#25-shutdown">2.5 shutdown</a></li>
<li><a href="#26-reboot">2.6 reboot</a></li>
<li><a href="#27-uptime">2.7 uptime</a></li>
<li><a href="#28-crontab">2.8 crontab</a></li>
<li><a href="#29-at">2.9 at</a></li>
<li><a href="#210-uname">2.10 uname</a></li>
<li><a href="#211-ifconfig">2.11 ifconfig</a></li>
<li><a href="#212-whereis">2.12 whereis</a></li>
<li><a href="#213-chmod">2.13 chmod</a>
<ul>
<li><a href="#2131-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E7%A0%81">2.13.1 文件权限码</a></li>
</ul>
</li>
<li><a href="#214-chown">2.14 chown</a></li>
<li><a href="#215-lsof">2.15 lsof</a></li>
<li><a href="#216-systemctl">2.16 systemctl</a></li>
<li><a href="#217-service">2.17 service</a></li>
<li><a href="#218-free">2.18 free</a></li>
<li><a href="#219-type">2.19 type</a></li>
<li><a href="#220-alias">2.20 alias</a></li>
<li><a href="#221-time">2.21 time</a></li>
<li><a href="#222-jobs">2.22 jobs</a></li>
<li><a href="#223-">2.23 &amp;</a></li>
</ul>
</li>
<li><a href="#3-%E7%B3%BB%E7%BB%9F%E8%BF%9B%E7%A8%8B">3: 系统进程</a>
<ul>
<li><a href="#ps">ps</a> * <a href="#unix-%E9%A3%8E%E6%A0%BC%E5%8F%82%E6%95%B0">Unix 风格参数</a></li>
<li><a href="#pstree">pstree</a>
_ <a href="#%E6%98%BE%E7%A4%BA%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%89%80%E6%9C%89%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF">显示所有进程的所有详细信息</a>
_ <a href="#%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%BF%9B%E7%A8%8B%E5%8F%B7%E5%92%8C%E8%BF%9B%E7%A8%8B-id">显示当前所有进程的进程号和进程 id</a></li>
<li><a href="#top">top</a></li>
<li><a href="#netstat">netstat</a></li>
<li><a href="#kill">kill</a> * <a href="#%E8%BF%9B%E7%A8%8B%E4%BF%A1%E5%8F%B7">进程信号</a></li>
<li><a href="#killall">killall</a></li>
</ul>
</li>
<li><a href="#4-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86">4: 用户管理</a>
<ul>
<li><a href="#useradd">useradd</a>
_ <a href="#useradd-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0">useradd 命令行参数</a><br>
_ <a href="#%E6%9B%B4%E6%94%B9%E9%BB%98%E8%AE%A4%E5%80%BC%E5%8F%82%E6%95%B0">更改默认值参数</a></li>
<li><a href="#userdel">userdel</a></li>
<li><a href="#passwd">passwd</a></li>
<li><a href="#chpasswd">chpasswd</a></li>
<li><a href="#chsh">chsh</a></li>
<li><a href="#chfn">chfn</a> * <a href="#%E4%BF%AE%E6%94%B9%E7%9C%9F%E5%AE%9E%E5%A7%93%E5%90%8D">修改真实姓名</a></li>
<li><a href="#usermod">usermod</a></li>
<li><a href="#users">users</a></li>
<li><a href="#who">who</a></li>
<li><a href="#w">w</a></li>
<li><a href="#last">last</a></li>
<li><a href="#su">su</a></li>
<li><a href="#whoami">whoami</a></li>
</ul>
</li>
<li><a href="#5-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">5: 环境变量</a>
<ul>
<li><a href="#printenv">printenv</a></li>
<li><a href="#set">set</a></li>
<li><a href="#export">export</a></li>
<li><a href="#unset">unset</a></li>
</ul>
</li>
<li><a href="#6-%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B">6: 压缩、解压</a>
<ul>
<li><a href="#zip">zip</a></li>
<li><a href="#unzip">unzip</a></li>
<li><a href="#gzip">gzip</a></li>
<li><a href="#bzip2">bzip2</a></li>
<li><a href="#tar">tar</a></li>
</ul>
</li>
<li><a href="#7-%E5%8A%A0%E8%A7%A3%E5%AF%86">7: 加解密</a>
<ul>
<li><a href="#md5sum">md5sum</a></li>
<li><a href="#base64">base64</a></li>
</ul>
</li>
<li><a href="#8-%E7%BD%91%E7%BB%9C">8: 网络</a>
<ul>
<li><a href="#ssh">ssh</a></li>
<li><a href="#wget">wget</a></li>
<li><a href="#curl">curl</a><br>
_ <a href="#%E4%B8%8D%E4%BC%A0%E9%80%92%E4%BB%BB%E4%BD%95%E5%8F%82%E6%95%B0%E5%8F%AA%E6%89%93%E5%8D%B0-http-%E5%93%8D%E5%BA%94%E5%86%85%E5%AE%B9">不传递任何参数只打印 HTTP 响应内容</a><br>
_ <a href="#-s-%E4%B8%8D%E8%BE%93%E5%87%BA%E9%94%99%E8%AF%AF%E5%92%8C%E8%BF%9B%E5%BA%A6%E4%BF%A1%E6%81%AF-%E5%8F%AA%E6%98%BE%E7%A4%BA%E6%AD%A3%E5%B8%B8%E7%BB%93%E6%9E%9C">-s 不输出错误和进度信息, 只显示正常结果</a><br>
_ <a href="#-o-%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E5%90%8D%E4%B8%8B%E8%BD%BD%E5%88%B0%E6%9C%AC%E5%9C%B0%E7%AD%89%E4%BB%B7%E4%BA%8E-wget">-o 指定文件名下载到本地，等价于 wget</a><br>
_ <a href="#-o-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E5%88%B0%E6%9C%AC%E5%9C%B0-%E5%B9%B6%E5%B0%86-url-%E6%9C%80%E5%90%8E%E9%83%A8%E5%88%86%E5%BD%93%E5%81%9A%E6%96%87%E4%BB%B6%E5%90%8D">-O 下载文件到本地, 并将 URL 最后部分当做文件名</a><br>
_ <a href="#--progress-%E6%98%BE%E7%A4%BA%E8%BF%9B%E5%BA%A6%E6%9D%A1">&ndash;progress 显示进度条</a><br>
_ <a href="#-l-http-%E8%AF%B7%E6%B1%82%E8%B7%9F%E9%9A%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%87%8D%E5%AE%9A%E5%90%91">-L HTTP 请求跟随服务器重定向</a><br>
_ <a href="#-i-%E6%88%96---head-%E6%98%BE%E7%A4%BA-http-%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87-%E4%B8%8D%E6%89%93%E5%8D%B0%E5%93%8D%E5%BA%94%E5%86%85%E5%AE%B9">-I 或 &ndash;head 显示 HTTP 响应报文, 不打印响应内容</a><br>
_ <a href="#-h-%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E5%A4%B4">-H 设置请求头</a><br>
_ <a href="#-x-%E6%8C%87%E6%98%8E-http-%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95">-X 指明 HTTP 请求方法</a><br>
_ <a href="#-d-%E8%A6%81%E5%8F%91%E9%80%81%E7%9A%84%E5%AE%9E%E4%BD%93%E5%86%85%E5%AE%B9">-d 要发送的实体内容</a>
_ <a href="#--cookie-http-%E8%AF%B7%E6%B1%82%E6%97%B6%E6%90%BA%E5%B8%A6%E7%9A%84-cookie-%E4%BF%A1%E6%81%AF">&ndash;cookie HTTP 请求时携带的 cookie 信息</a><br>
_ <a href="#-v-%E6%89%93%E5%8D%B0%E6%95%B4%E4%B8%AA%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B">-v 打印整个传输过程</a><br>
_ <a href="#-f-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E9%BB%98%E8%AE%A4%E4%BB%A5-post-%E6%96%B9%E6%B3%95%E8%AF%B7%E6%B1%82">-F 上传文件，默认以 POST 方法请求</a><br>
_ <a href="#-u-%E8%AF%B7%E6%B1%82%E6%8E%88%E6%9D%83">-u 请求授权</a> * <a href="#--retry-%E8%AF%B7%E6%B1%82%E9%87%8D%E8%AF%95">&ndash;retry 请求重试</a></li>
<li><a href="#scp">scp</a></li>
<li><a href="#rsync">rsync</a>
_ <a href="#%E6%9C%AC%E5%9C%B0%E5%90%8C%E6%AD%A5%E6%96%87%E4%BB%B6">本地同步文件</a>
_ <a href="#%E8%BF%9C%E7%A8%8B%E5%90%8C%E6%AD%A5%E6%96%87%E4%BB%B6">远程同步文件</a>
_ <a href="#%E5%A2%9E%E9%87%8F%E5%A4%87%E4%BB%BD">增量备份</a>
_ <a href="#%E5%85%B6%E4%BB%96%E7%94%A8%E6%B3%95">其他用法</a></li>
</ul>
</li>
<li><a href="#9-%E7%A3%81%E7%9B%98">9: 磁盘</a>
<ul>
<li><a href="#df">df</a> * <a href="#%E6%8F%8F%E8%BF%B0">描述</a></li>
<li><a href="#du">du</a></li>
</ul>
</li>
<li><a href="#10-%E5%8C%85%E7%AE%A1%E7%90%86">10: 包管理</a>
<ul>
<li><a href="#yum">yum</a></li>
<li><a href="#apt-get">apt-get</a></li>
</ul>
</li>
<li><a href="#11-%E5%85%B6%E4%BB%96">11: 其他</a>
<ul>
<li><a href="#%E7%9B%AE%E5%BD%95%E5%90%8D%E7%A7%B0%E5%90%AB%E4%B9%89">目录名称含义</a></li>
<li><a href="#%E9%87%8D%E5%AE%9A%E5%90%91%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA">重定向输入和输出</a>
_ <a href="#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91">输出重定向</a>
_ <a href="#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91">输入重定向</a></li>
<li><a href="#%E7%AE%A1%E9%81%93">管道</a></li>
<li><a href="#echo">echo</a></li>
<li><a href="#date">date</a></li>
<li><a href="#man">man</a></li>
<li><a href="#sleep">sleep</a></li>
<li><a href="#history">history</a></li>
<li><a href="#xargs">xargs</a></li>
<li><a href="#cal">cal</a></li>
<li><a href="#expr">expr</a></li>
<li><a href="#bc">bc</a></li>
<li><a href="#timeout">timeout</a></li>
<li><a href="#exit">exit</a></li>
<li><a href="#basename">basename</a></li>
<li><a href="#read">read</a></li>
<li><a href="#tee">tee</a></li>
<li><a href="#clear">clear</a></li>
</ul>
</li>
</ul>
<h1 id="1-文件">1: 文件</h1>
<h2 id="11-查看文件内容">1.1 查看文件内容</h2>
<h3 id="111-head">1.1.1 head</h3>
<p>显示文件的头部内容，默认前 10 行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 显示前10行内容</span>
</span></span><span class="line"><span class="cl">$ head README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 或者显示多个文件</span>
</span></span><span class="line"><span class="cl">$ head README.md package.json
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -n 指定显示行数</span>
</span></span><span class="line"><span class="cl">$ head -n <span class="m">100</span> README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="112-tail">1.1.2 tail</h3>
<p>显示文件的末尾部分，默认后 10 行</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n</td>
<td>指定显示末尾行数</td>
</tr>
<tr>
<td>-f</td>
<td>实时监听并打印文件变化, 文件删除后不在监听</td>
</tr>
<tr>
<td>-F</td>
<td>实时监听并打印文件变化, 文件删除后继续监听</td>
</tr>
<tr>
<td>-c</td>
<td>指定显示文件最后 N 个字符</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 默认显示末尾10行</span>
</span></span><span class="line"><span class="cl">$ tail README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -n 指定显示末尾20行</span>
</span></span><span class="line"><span class="cl">$ tail -n <span class="m">20</span> README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 实时监听README.md文件变化</span>
</span></span><span class="line"><span class="cl">$ tail -f README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 根据文件名进行追踪, 如果删除后创建相同的文件名会继续追踪</span>
</span></span><span class="line"><span class="cl">$ tail -F README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示文件的最后10个字符</span>
</span></span><span class="line"><span class="cl">$ tail -c <span class="m">10</span> README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="113-cat">1.1.3 cat</h3>
<p>查看文件全部内容，如果文件太大，头部部分内容会被截掉。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 查看 README.md 文件全部内容</span>
</span></span><span class="line"><span class="cl">$ cat README.md
</span></span><span class="line"><span class="cl">$ cat README.md README2.md  <span class="c1"># 多个文件</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -n 每一行显示行号包括空行</span>
</span></span><span class="line"><span class="cl">$ cat -n README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -b 只在有内容的行显示行号</span>
</span></span><span class="line"><span class="cl">$ cat -b README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="114-nl">1.1.4 nl</h3>
<p>同样用来打印内容，与 <code>cat</code> 命令不同的是打印内容会自动加上行号, 但 <code>nl</code> 命令可以对行号做特别的定制，主要针对行号有特别高要求的用户。</p>
<ul>
<li>-b: 指定行号指定的方式
<ul>
<li>-b a 无论是否为空行一样列出行号 (等价 <code>cat -n</code>)</li>
<li>-b t 空行不列出行号, 默认 (等价 <code>cat -b</code>)</li>
</ul>
</li>
<li>-n: 列出行号表示的方法
<ul>
<li>-n ln 行号在萤幕的最左方显示</li>
<li>-n rn 行号在自己栏位的最右方显示，且不加 0</li>
<li>-n rz 行号在自己栏位的最右方显示，且加 0</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 打印内容并输出行号, 除了空号</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 等价于 cat -b README.md</span>
</span></span><span class="line"><span class="cl">$ nl README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 空行同样打印行号</span>
</span></span><span class="line"><span class="cl">$ nl -b a README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="115-more">1.1.5 more</h3>
<p>分页查看文件内容, 每次查看一屏, 每屏能显示多少内容取决于终端大小。</p>
<p>与 <code>cat</code> 命令不同，<code>cat</code> 只能一次显示全部内容，如果内容太多部分会被截取掉。</p>
<p>快捷键：</p>
<ul>
<li><code>空格</code> 或 <code>PageUp</code> - 查看下一屏内容</li>
<li><code>B</code> 或 <code>PageDown</code> - 查看上一屏内容</li>
<li><code>回车</code> - 查看下一行内容</li>
<li><code>Q</code> - 退出</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ more README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 从第10行开始显示</span>
</span></span><span class="line"><span class="cl">$ more +10 README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示查看进度</span>
</span></span><span class="line"><span class="cl">$ more -d README.md <span class="c1"># --More--(17%)[Press space to continue, &#39;q&#39; to quit.]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="12-创建">1.2 创建</h2>
<h3 id="121-touch">1.2.1 touch</h3>
<p>创建一个空文件, 如果文件存在只会修改文件的创建时间</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ touch README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="122-mkdir">1.2.2 mkdir</h3>
<p>make directory, 创建目录。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 在当前目录下创建 temp 目录</span>
</span></span><span class="line"><span class="cl">$ mkdir temp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 创建多层目录</span>
</span></span><span class="line"><span class="cl">$ mkdir -p temp/temp2/temp3
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 基于权限创建</span>
</span></span><span class="line"><span class="cl">$ mkdir -m <span class="m">777</span> temp
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="123-mktemp">1.2.3 mktemp</h3>
<p>创建临时目录或文件，Linux 使用 <code>/tmp</code> 目录来存放不需要永久保留的文件，大多数 Linux 发行版配置了系统在启动时自动删除 <code>/tmp</code> 目录的所有文件。</p>
<p>默认情况下， <code>mktemp</code> 会在本地目录中创建一个文件，只要指定一个文件名模板就行，模板可以包含任意文本文件名，在文件名末尾加上 <strong>6</strong> 个 X 就行了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 创建本地临时文件, 会在当前目录下创建一个叫 log.XXXXXX, XXXXXX是一个随机字符码，保证文件名在目录中是唯一的。</span>
</span></span><span class="line"><span class="cl">$ mktemp log.XXXXXX  <span class="c1"># log.J3awfb</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -t, 在 /tmp 目录创建临时文件, 返回绝对路径地址</span>
</span></span><span class="line"><span class="cl">$ mktemp -t log.XXXXXX <span class="c1"># /tmp/log.G5g9dX</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -d 创建临时目录, 这样就能用该目录进行任何需要的操作了，比如创建其他的临时文件</span>
</span></span><span class="line"><span class="cl">$ mktemp -d dir.XXXXXX
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="13-删除">1.3 删除</h2>
<h3 id="131-rm">1.3.1 rm</h3>
<p>删除指定目录或文件</p>
<p>注: 使用此命令需要非常小心, 一但删除无法恢复</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 删除当前目录下的 1.txt 文件</span>
</span></span><span class="line"><span class="cl">$ rm 1.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -i 删除前询问是否真的要删除，因为一旦删除无法恢复</span>
</span></span><span class="line"><span class="cl">$ rm -i README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 这条命令比较常用, 强制删除目录或文件</span>
</span></span><span class="line"><span class="cl"><span class="c1"># -r 如果是目录递归删除, -f 强制删除 不发出任何警告</span>
</span></span><span class="line"><span class="cl">$ rm -rf ./src
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="132-rmdir">1.3.2 rmdir</h3>
<p>删除指定空目录
注：<code>rmdir</code> 实际上用得并不多，因为不是很灵活，基本上使用 <code>rm</code> 代替</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 删除当前 temp 空目录, 如果不是空目录会发出警告</span>
</span></span><span class="line"><span class="cl">$ rmdir temp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -p 参数可以删除多层空目录, 发现temp3是空目录删除掉，然后接着往父级找如果还是空目录继续删除...</span>
</span></span><span class="line"><span class="cl">$ rmdir -p temp1/temp2/temp3
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -i 删除前询问确认删除</span>
</span></span><span class="line"><span class="cl">$ rmdir -i temp
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="14-查找文件">1.4 查找文件</h2>
<h3 id="141-find">1.4.1 find</h3>
<p>指定某个目录下查找文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 在当前目录递归搜索文件名为 README.md 文件</span>
</span></span><span class="line"><span class="cl">$ find . -name README.md
</span></span><span class="line"><span class="cl"><span class="c1"># 也可以指定多个目录，比如 src1 src2目录</span>
</span></span><span class="line"><span class="cl">$ find src1 src2 -name README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 通过通配符进行查找, 必须用引号括着, 这里查找所有后缀为 .md 文件</span>
</span></span><span class="line"><span class="cl">$ find . -name <span class="s2">&#34;*.md&#34;</span>
</span></span><span class="line"><span class="cl">$ find . -iname <span class="s2">&#34;*.md&#34;</span>  <span class="c1"># 忽略文件大小写</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 排除文件，只要加 ! , 排除掉所有 .md 后缀的文件</span>
</span></span><span class="line"><span class="cl">$ find . ! -name <span class="s2">&#34;*.md&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 根据类型进行过滤搜索</span>
</span></span><span class="line"><span class="cl"><span class="c1"># f 普通文件, l 符号连接</span>
</span></span><span class="line"><span class="cl"><span class="c1"># d 目录, c 字符设备</span>
</span></span><span class="line"><span class="cl"><span class="c1"># b 块设备, s 套接字, p Fifo</span>
</span></span><span class="line"><span class="cl">$ find . -type f
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 限定目录递归深度</span>
</span></span><span class="line"><span class="cl">$ find . -maxdepth <span class="m">3</span>  <span class="c1"># 最大为3个目录</span>
</span></span><span class="line"><span class="cl">$ find . -mindepth <span class="m">3</span>  <span class="c1"># 最小为3个目录</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查找文件大小大于 25k 文件</span>
</span></span><span class="line"><span class="cl">$ find /root -size +25k
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查找10天前文件 -mtime 修改时间、 -ctime 创建时间、 -atime 访问时间</span>
</span></span><span class="line"><span class="cl">$ find /root -mtime +10
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="142-locate">1.4.2 locate</h3>
<p>搜索文件，与 <code>find</code> 命令很像，但更快，因为是从数据库里查找, 通常每天会进行数据更新。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 搜索 README.md 相关文件</span>
</span></span><span class="line"><span class="cl">$ locate README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 忽略大小写</span>
</span></span><span class="line"><span class="cl">$ locate -i README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="15-ls">1.5 ls</h2>
<p>显示当前目录下的文件和目录，输出的列表是按字母排序 (某些发行版可能不一样)。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>显示目录列表的详细信息</td>
</tr>
<tr>
<td>-h</td>
<td>显示文件大小，需要和 -l 参数一起使用</td>
</tr>
<tr>
<td>-a</td>
<td>列出所有文件，包括隐藏文件</td>
</tr>
<tr>
<td>-F</td>
<td>显示文件类型</td>
</tr>
<tr>
<td>-i</td>
<td>查看 inode 编号, 每个文件都有唯一的编号</td>
</tr>
<tr>
<td>-S</td>
<td>以文件大小进行排序</td>
</tr>
<tr>
<td>-t</td>
<td>以文件修改时间排序</td>
</tr>
<tr>
<td>-r</td>
<td>输出结果倒序排列</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 显示当前目录列表</span>
</span></span><span class="line"><span class="cl">$ ls
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 列出指定目录下的列表</span>
</span></span><span class="line"><span class="cl">$ ls ./src
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示目录列表的详细信息</span>
</span></span><span class="line"><span class="cl">$ ls -l
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示目录列表详细信息和大小</span>
</span></span><span class="line"><span class="cl">$ ls -lh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 列出所有文件包括隐藏文件</span>
</span></span><span class="line"><span class="cl">$ ls -a
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -F 可以显示类型，用以区分是文件还是目录</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 后缀为 ”/“ 代表是目录，”*“ 为可执行文件，没有则为文件</span>
</span></span><span class="line"><span class="cl">$ ls -F
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 过滤文件列表, * 代表0个或多个字符， ? 代表一个字符</span>
</span></span><span class="line"><span class="cl">$ ls javasc*
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -i 查看inode编号, 每一个文件或目录都有一个唯一的编号，这个数字由内核分配给文件系统中的每一个对象</span>
</span></span><span class="line"><span class="cl">$ ls -i
</span></span></code></pre></td></tr></table>
</div>
</div><p>文件权限说明，当敲入 <code>ls -la</code> 最左侧会出现 10 个字符：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ls -la
</span></span><span class="line"><span class="cl">-rw-r--r--   <span class="m">1</span> root root     <span class="m">0</span> Jan  <span class="m">3</span> 11:01 master-stderr.log
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>[-][rwx][r-x][r--]</code> 转换为 <code>1 234 567 890</code></p>
<ul>
<li>1 代表这个文件名是目录还是文件
<ul>
<li><code>-</code> 文件</li>
<li>d 目录</li>
<li>l 链接文件</li>
<li>b 则表示为设备文件里面的可供储存的周边设备（可随机存取设备）</li>
<li>c 则表示为设备文件里面的序列埠设备，例如键盘、鼠标（一次性读取设 备）</li>
</ul>
</li>
<li>234 拥有者权限, 分别为 可读、可写、可执行</li>
<li>567 群组使用者权限, 分别为 可读、可写、可执行</li>
<li>890 其他使用者权限, 分别为 可读、可写、可执行</li>
</ul>
<p>权限的位置是不会改变的，有权限则显示，无权限则 <code>-</code> 显示。</p>
<h2 id="16-pwd">1.6 pwd</h2>
<p>是 Print Working Directory 的缩写, 显示当前工作目录</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ <span class="nb">pwd</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="17-wc">1.7 wc</h2>
<p>统计文件的行数、字数、字节数, 常见用于统计代码行数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 统计字节数</span>
</span></span><span class="line"><span class="cl">$ wc -c README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 统计行数</span>
</span></span><span class="line"><span class="cl">$ wc -l README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 统计字数</span>
</span></span><span class="line"><span class="cl">$ wc -w README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 统计字符数</span>
</span></span><span class="line"><span class="cl">$ wc -m README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="18-chattr">1.8 chattr</h2>
<p>用于修改文件属性, 这项指令可改变存放在 ext2 文件系统上的文件或目录属性。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>让文件或目录仅供附加用途</td>
</tr>
<tr>
<td>b</td>
<td>不更新文件或目录的最后存取时间</td>
</tr>
<tr>
<td>c</td>
<td>将文件或目录压缩后存放</td>
</tr>
<tr>
<td>d</td>
<td>将文件或目录排除在倾倒操作之外</td>
</tr>
<tr>
<td>i</td>
<td>不得任意更动文件或目录</td>
</tr>
<tr>
<td>s</td>
<td>保密性删除文件或目录</td>
</tr>
<tr>
<td>S</td>
<td>即时更新文件或目录</td>
</tr>
<tr>
<td>u</td>
<td>预防意外删除</td>
</tr>
<tr>
<td>-R</td>
<td>递归处理，将指令目录下的所有文件及子目录一并处理</td>
</tr>
<tr>
<td>-v&lt;版本编号&gt;</td>
<td>设置文件或目录版本</td>
</tr>
<tr>
<td>-V</td>
<td>显示指令执行过程</td>
</tr>
<tr>
<td>+&lt;属性&gt;</td>
<td>开启文件或目录的该项属性</td>
</tr>
<tr>
<td>-&lt;属性&gt;</td>
<td>关闭文件或目录的该项属性</td>
</tr>
<tr>
<td>=&lt;属性&gt;</td>
<td>指定文件或目录的该项属性</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 锁定该文件, 防止文件被修改或删除</span>
</span></span><span class="line"><span class="cl">$ chattr +i README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -i 解锁文件</span>
</span></span><span class="line"><span class="cl">$ chattr -i README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 可以使用 lsattr 查看赋予的属性</span>
</span></span><span class="line"><span class="cl">$ lsattr README.md
</span></span><span class="line"><span class="cl">----i--------e-- README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="19-paste">1.9 paste</h2>
<p>合并 N 个文件的列，相当于追加文件内容。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1.txt 和 2.txt 合并输出</span>
</span></span><span class="line"><span class="cl">$ paste 1.txt 2.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 1.txt 2.txt 合并后保存为 3.txt</span>
</span></span><span class="line"><span class="cl">$ paste 1.txt 2.txt &gt; 3.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="110-stat">1.10 stat</h2>
<p>用于显示文件或目录的状态信息</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">stat logs
</span></span><span class="line"><span class="cl"><span class="c1"># File: ‘logs/’</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Size: 16384           Blocks: 32         IO Block: 4096   directory</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Device: fd01h/64769d    Inode: 669067      Links: 5</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Access: (0755/drwxr-xr-x)  Uid: (    0/    root)   Gid: (    0/    root)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Access: 2020-07-07 17:24:23.941816812 +0800</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Modify: 2020-07-12 11:46:55.567707577 +0800</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Change: 2020-07-12 11:46:55.567707577 +0800</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Birth: -</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="111-grep">1.11 grep</h2>
<p>强大的文本搜索工具，被称为 Linux 命令三剑客之老三。</p>
<p>命令用法：grep [option] pattern file&hellip;</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-i</td>
<td>忽略大小写</td>
</tr>
<tr>
<td>-n</td>
<td>打印匹配行号</td>
</tr>
<tr>
<td>-c</td>
<td>打印匹配成功的次数</td>
</tr>
<tr>
<td>&ndash;color</td>
<td>高亮打印匹配文本</td>
</tr>
<tr>
<td>-o</td>
<td>只打印匹配到的内容</td>
</tr>
<tr>
<td>-v</td>
<td>反向查找</td>
</tr>
<tr>
<td>-E</td>
<td>正则查找</td>
</tr>
<tr>
<td>-w</td>
<td>匹配单词</td>
</tr>
<tr>
<td>-r</td>
<td>从目录下递归搜索</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 从 README.md 文件中搜索 linux 关键字</span>
</span></span><span class="line"><span class="cl">$ grep <span class="s2">&#34;linux&#34;</span> README.md
</span></span><span class="line"><span class="cl">$ grep <span class="s2">&#34;linux&#34;</span> README.md README2.md <span class="c1"># 多个文件搜索</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 高亮打印匹配文本</span>
</span></span><span class="line"><span class="cl">$ grep <span class="s2">&#34;linux&#34;</span> README.md --color
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -o 只打印匹配到的内容</span>
</span></span><span class="line"><span class="cl">$ grep -o <span class="s2">&#34;linux&#34;</span> README.md --color
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -n 打印匹配的行号</span>
</span></span><span class="line"><span class="cl">$ grep -n <span class="s2">&#34;linux&#34;</span> README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -c 只打印成功匹配的次数</span>
</span></span><span class="line"><span class="cl">$ grep -c <span class="s2">&#34;linux&#34;</span> README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -r 递归搜索目录文件</span>
</span></span><span class="line"><span class="cl">$ grep -r <span class="s2">&#34;linux&#34;</span> ./src
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 使用 glob 风格表达式搜索</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 等价于 grep -E &#34;[0-9]&#34; README.md</span>
</span></span><span class="line"><span class="cl">$ egrep <span class="s2">&#34;[0-9]&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="112-sed">1.12 sed</h2>
<p>sed(stream editor) 是一种流编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”，接着用 sed 命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。</p>
<p><code>sed</code> 主要用来自动编辑一个或多个文件、简化对文件的反复操作、编写转换程序等。</p>
<p>命令格式：<code>sed options script file...</code></p>
<p><strong>选项</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-e script</td>
<td>在处理输入时，将 script 中指定的命令添加到已有的命令中</td>
</tr>
<tr>
<td>-f file</td>
<td>在处理输入时，将 file 中指定的命令添加到已有的命令中</td>
</tr>
<tr>
<td>-n</td>
<td>不产生命令输入，使用 print 命令来完成输出</td>
</tr>
<tr>
<td>-i</td>
<td>直接编辑文件并保存</td>
</tr>
<tr>
<td>-i.bak</td>
<td>备份文件并编辑保存</td>
</tr>
</tbody>
</table>
<p>来个简单的例子：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cat test.txt
</span></span><span class="line"><span class="cl">i like apple
</span></span><span class="line"><span class="cl">i like apple
</span></span><span class="line"><span class="cl">i like apple
</span></span><span class="line"><span class="cl">i like apple
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ sed <span class="s1">&#39;s/apple/banana/&#39;</span> test.txt
</span></span><span class="line"><span class="cl">i like banana
</span></span><span class="line"><span class="cl">i like banana
</span></span><span class="line"><span class="cl">i like banana
</span></span><span class="line"><span class="cl">i like banana
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行上面例子结果就会马上显示出来。</p>
<p>命令解释: <code>sed 's/要替换的内容/替换后的内容/' 文件名</code>, s(substitute)替代</p>
<h3 id="1121-执行多个命令">1.12.1 执行多个命令</h3>
<p>如果需要执行多个命令时只要指定 <code>-e</code> 选项就可以了:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 多个命令使用分号分隔</span>
</span></span><span class="line"><span class="cl">$ sed <span class="s1">&#39;s/apple/banana/; s/i/I/&#39;</span> test.txt
</span></span><span class="line"><span class="cl">I like banana
</span></span><span class="line"><span class="cl">I like banana
</span></span><span class="line"><span class="cl">I like banana
</span></span><span class="line"><span class="cl">I like banana
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="1122-从文件中读取编辑器命令">1.12.2 从文件中读取编辑器命令</h3>
<p>当需要执行大量命令时使用 <code>-e</code> 选项就有点鸡助了, 这时候可以将命令存储在一个单独文件中，然后在执行时指定 <code>-f</code> 选项读取。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cat cmd.sed
</span></span><span class="line"><span class="cl">s/apple/banana/
</span></span><span class="line"><span class="cl">s/i/I/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 执行</span>
</span></span><span class="line"><span class="cl">$ sed -f cmd.sed test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="1123-直接编辑">1.12.3 直接编辑</h3>
<p>在执行 <code>sed</code> 时指定 <code>-i</code> 选项可以直接编辑文件并保存。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed -i <span class="s1">&#39;s/apple/banana/&#39;</span> test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果是在 <code>mac</code> 上运行会报错：</p>
<p>那是因为 mac 强制要求备份</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sed: 1: <span class="s2">&#34;test.txt&#34;</span>: undefined label <span class="s1">&#39;.txt&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 指定备份后缀 .bak 执行后将生成一个 test.txt.bak 文件</span>
</span></span><span class="line"><span class="cl">$ sed -i <span class="s1">&#39;.bak&#39;</span> <span class="s1">&#39;s/apple/banana/&#39;</span> test.txt
</span></span><span class="line"><span class="cl"><span class="c1"># 或者指定 -i.bak 选项, 会默认保存备份文件, 不需要指定备份后缀</span>
</span></span><span class="line"><span class="cl">$ sed -i.bak <span class="s1">&#39;s/apple/banana/&#39;</span> test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="1124-替换标记">1.12.4 替换标记</h3>
<p>s 命令最后有一个可选的 flags <code>s/pattern/replacement/flags</code>, 有 4 种可用的标记：</p>
<ul>
<li>数字(大于 0)，表明新文本将替换第几处模式匹配的地方</li>
<li>g, 全局匹配, 表示会替换所有匹配的文本</li>
<li>p, 表明原先的内容要先打印出来</li>
<li>w file, 将替换的结果写入到文件中</li>
</ul>
<p><strong>1、数字</strong>:</p>
<p>表明只替换每行中第二次出现的匹配模式。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cat test.txt
</span></span><span class="line"><span class="cl">i like apple apple
</span></span><span class="line"><span class="cl">i like apple apple
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ sed <span class="s1">&#39;s/apple/banana/2&#39;</span> test.txt
</span></span><span class="line"><span class="cl">i like banana apple
</span></span><span class="line"><span class="cl">i like banana apple
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>2、g</strong>:</p>
<p>在替换时如果不带 <code>g</code> 标记只会替换每行中第一次出现匹配模式。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cat test.txt
</span></span><span class="line"><span class="cl">i like apple apple
</span></span><span class="line"><span class="cl">i like apple apple
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 没有带 g 标记</span>
</span></span><span class="line"><span class="cl">$ sed <span class="s1">&#39;s/apple/banana/&#39;</span> test.txt
</span></span><span class="line"><span class="cl">i like banana apple
</span></span><span class="line"><span class="cl">i like banana apple
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 带 g 标记</span>
</span></span><span class="line"><span class="cl">$ sed <span class="s1">&#39;s/apple/banana/g&#39;</span> test.txt
</span></span><span class="line"><span class="cl">i like banana banana
</span></span><span class="line"><span class="cl">i like banana banana
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>3、p</strong>:
p 替换标记会打印与替换命令中指定的模式匹配的行，通常会与 <code>-n</code> 选项一起使用才能发挥更好的作用。</p>
<p>-n 选项会禁止 <code>sed</code> 编辑器输出，但 p 替换标记会输出修改过的行，将两者配合使用的效果就是只输出被替换命令修改过的行。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cat test.txt
</span></span><span class="line"><span class="cl">i like apple apple
</span></span><span class="line"><span class="cl">i like apple apple
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ sed -n <span class="s1">&#39;s/apple/banana/p&#39;</span> test.txt
</span></span><span class="line"><span class="cl">i like banana apple
</span></span><span class="line"><span class="cl">i like banana apple
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>4、w</strong>:</p>
<p>将命令替换的结果写入到文件中</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed <span class="s1">&#39;s/apple/banana/w 1.txt&#39;</span> test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="1125-替换反斜杠">1.12.5 替换反斜杠</h3>
<p>当遇到需要匹配反斜杠 <code>/</code> 时就很麻烦了，需要做转义：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将 /bin/sh 替换为 /bin/bash</span>
</span></span><span class="line"><span class="cl">$ sed <span class="s1">&#39;s/\/bin\/sh/\/bin\/bash/&#39;</span> test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果有大量这种反斜杠可读性就变差了， 还好 sed 提供了感叹号作为字符串分隔符：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 感叹号是一个占位符, 代表的是 / 反斜杠</span>
</span></span><span class="line"><span class="cl">$ sed <span class="s1">&#39;s!/bin/sh!/bin/bash!&#39;</span> test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="1126-使用地址">1.12.6 使用地址</h3>
<p>默认情况下 <code>sed</code> 命令会作用于所有行，如果只想作用于某些行，比如第 10 行到 100 行，则必须用行寻址（Line Addressing）。</p>
<p>有两种形式的行寻址：</p>
<ul>
<li>以数字形式表示行区间</li>
<li>以文本模式来过滤出行</li>
</ul>
<p><strong>1、数字方式的行寻址：</strong></p>
<p>以数字 2 表示只处理第 2 行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed <span class="s1">&#39;2s/apple/banana/&#39;</span> test.txt
</span></span><span class="line"><span class="cl">i like apple
</span></span><span class="line"><span class="cl">i like banana
</span></span><span class="line"><span class="cl">i like apple
</span></span><span class="line"><span class="cl">i like apple
</span></span><span class="line"><span class="cl">i like apple
</span></span></code></pre></td></tr></table>
</div>
</div><p>以区间来表示，第 2 行到 3 行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed <span class="s1">&#39;2,3s/apple/banana/&#39;</span> test.txt
</span></span><span class="line"><span class="cl">i like apple
</span></span><span class="line"><span class="cl">i like banana
</span></span><span class="line"><span class="cl">i like banana
</span></span><span class="line"><span class="cl">i like apple
</span></span><span class="line"><span class="cl">i like apple
</span></span></code></pre></td></tr></table>
</div>
</div><p>从某行开始的所有行, 用美元符号 <code>$</code> 表示末尾行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed <span class="s1">&#39;2,$s/apple/banana/&#39;</span> test.txt
</span></span><span class="line"><span class="cl">i like apple
</span></span><span class="line"><span class="cl">i like banana
</span></span><span class="line"><span class="cl">i like banana
</span></span><span class="line"><span class="cl">i like banana
</span></span><span class="line"><span class="cl">i like banana
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>2、以文本模式过滤出行</strong></p>
<p>如果只想作用于 <code>B</code> 开头的行, 则可以使用文本模式过滤, 支持正则表达式。</p>
<p>格式: <code>/pattern/command</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cat README.md
</span></span><span class="line"><span class="cl">A: Good
</span></span><span class="line"><span class="cl">B: Bad
</span></span><span class="line"><span class="cl">A: Good
</span></span><span class="line"><span class="cl">B: Bad
</span></span></code></pre></td></tr></table>
</div>
</div><p>将所有 B 开头的 Bad 改成 Good!</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed <span class="s1">&#39;/B/s/Bad/Good!/&#39;</span> test.txt
</span></span><span class="line"><span class="cl">A: Good
</span></span><span class="line"><span class="cl">B: Good!
</span></span><span class="line"><span class="cl">A: Good
</span></span><span class="line"><span class="cl">B: Good!
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>3、多个命令使用相同行寻址</strong></p>
<p>要将多个命令使用相同行寻址可以使用分隔符：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed <span class="s1">&#39;1,$s/Bad/Luck/;1,$s/Good/Nice!/&#39;</span> test.txt
</span></span><span class="line"><span class="cl">A: Nice!
</span></span><span class="line"><span class="cl">B: Luck
</span></span><span class="line"><span class="cl">A: Nice!
</span></span><span class="line"><span class="cl">B: Luck
</span></span></code></pre></td></tr></table>
</div>
</div><p>这只是其中一种办法，更好的办法是使用花括号将多条命令组合在一起：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed <span class="s1">&#39;1,${
</span></span></span><span class="line"><span class="cl"><span class="s1">s/Bad/Luck/
</span></span></span><span class="line"><span class="cl"><span class="s1">s/Good/Nice!/
</span></span></span><span class="line"><span class="cl"><span class="s1">}&#39;</span> test.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打印:</span>
</span></span><span class="line"><span class="cl">A: Nice!
</span></span><span class="line"><span class="cl">B: Luck
</span></span><span class="line"><span class="cl">A: Nice!
</span></span><span class="line"><span class="cl">B: Luck
</span></span></code></pre></td></tr></table>
</div>
</div><p>只在多个命令使用相同寻址才使用花括号。</p>
<h3 id="1127-删除行">1.12.7 删除行</h3>
<p>删除行使用 <code>d</code> 命令来执行, 使用该命令需要小心，如果不指定行寻址会删除所有行。</p>
<p>只指定 <code>d</code> 命令将删除所有行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed <span class="s1">&#39;d&#39;</span> test.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 上面并不会删除所有行，你需要指定 -i 直接编辑</span>
</span></span><span class="line"><span class="cl">$ sed -i <span class="s1">&#39;d&#39;</span> test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p>上面已经介绍过通过数字方式寻址行，同样适用删除：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 只删除第一行</span>
</span></span><span class="line"><span class="cl">$ sed <span class="s1">&#39;1d&#39;</span> test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p>或者通过数字区间</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 删除1-3行</span>
</span></span><span class="line"><span class="cl">$ sed <span class="s1">&#39;1,3d&#39;</span> test.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 删除第一行以及后面所有行</span>
</span></span><span class="line"><span class="cl">$ sed <span class="s1">&#39;1,$d&#39;</span> test.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="1128-打印内容">1.12.8 打印内容</h3>
<p>可以通过 <code>-n</code> 参数来打印指定的行内容</p>
<p>打印 10-20 行内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed -n <span class="s1">&#39;10,20p&#39;</span> README.md
</span></span></code></pre></td></tr></table>
</div>
</div><p>打印第一行内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sed -n <span class="s1">&#39;1p&#39;</span> README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="113-cd">1.13 cd</h2>
<p>进入指定目录</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 进入当前 src 目录</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> src
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 回到上一次目录</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> -
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 返回上一级目录</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> ..
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> ../../..   <span class="c1"># 返回多级</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 进入家目录</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> ~
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span>  <span class="c1"># 或者不带任何参数</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 将上一个命令的参数作为cd参数使用</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> !$
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 模糊匹配目录，有时目录名很长一个一个敲效率就很低</span>
</span></span><span class="line"><span class="cl"><span class="c1"># * 代表0个或多个字符， ? 代表一个字符</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> javasc*
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="114-cp">1.14 cp</h2>
<p>拷贝文件或目录</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将当前 README.md 文件拷贝到上一层</span>
</span></span><span class="line"><span class="cl">$ cp ./README.md ../README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -a 将原文件属性一同拷贝, 修改时间、创建时间等</span>
</span></span><span class="line"><span class="cl">$ cp -a ./README.md ../README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -r 用于递归拷贝目录</span>
</span></span><span class="line"><span class="cl">$ cp -r home ../home
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -i 如果目标文件存在会询问用户是否需要覆盖</span>
</span></span><span class="line"><span class="cl">$ cp -i README.md README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="114-mv">1.14 mv</h2>
<p><code>mv</code> 有 2 个用途：</p>
<ul>
<li>将文件或目录移动到另一个位置</li>
<li>将文件或目录重命名</li>
</ul>
<p>注：实际上 <code>mv</code> 是用来移动文件或目录，只不过有类似重命名的功能而已。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将 README.md 重命名为 README-2.md, 如果 README-2.md 存在会直接覆盖。</span>
</span></span><span class="line"><span class="cl">$ mv README.md README-2.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 将 README.md 移动到上一层目录</span>
</span></span><span class="line"><span class="cl">$ mv README.md ../README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -i 交互式操作，如果目标文件存在则进行询问是否覆盖</span>
</span></span><span class="line"><span class="cl">$ mv -i README.md ../README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -f 如果出现同名直接覆盖</span>
</span></span><span class="line"><span class="cl">$ mv -f 1.txt 2.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="115-open">1.15 open</h2>
<p><code>open</code> 命令可在 <code>linux</code> / <code>mac</code> 具有可视化界面下进行文本编辑、打开应用程序等功能。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 在mac下用Finder打开当前目录</span>
</span></span><span class="line"><span class="cl">$ open .
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 用默认应用程序打开文件</span>
</span></span><span class="line"><span class="cl">$ <span class="nv">$open</span> README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 用默认编辑器打开文件</span>
</span></span><span class="line"><span class="cl">$ open -e README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 如果是一个URL用默认浏览器打开页面</span>
</span></span><span class="line"><span class="cl">$ open https://github.com/xjh22222228/linux-manual.git
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 指定某个应用程序打开某个文件, 如果不指定文件默认直接打开程序</span>
</span></span><span class="line"><span class="cl">$ open -a /Applications/Google<span class="se">\ </span>Chrome.app README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="116-source">1.16 source</h2>
<p>在当前 Shell 环境中从指定文件读取和执行命令， 通常用于重新执行环境。</p>
<p>它有个别名 <code>.</code> 点操作符号。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 等价 . ~/.bash_profile</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">source</span> ~/.bash_profile
</span></span></code></pre></td></tr></table>
</div>
</div><p>实际上大部分开发者都没搞懂 <code>source</code> 命令。 可以把它理解为编程语言中的 <code>import</code>, <code>java/python/js</code> 都有这个，就是用来导入文件。</p>
<p>下面演示 source 用于 shell 脚本中</p>
<p>util.sh</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>getName<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> <span class="s2">&#34;Linux&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>main.sh</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="c1"># 加载文件</span>
</span></span><span class="line"><span class="cl"><span class="nb">source</span> ./util.sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 这样就可以调用 util 文件中的函数了</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="k">$(</span>getName<span class="k">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="117-tree">1.17 tree</h2>
<p>生成目录树结构, 通常用于描述项目结构。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 递归当前目录下所有文件并生成目录树</span>
</span></span><span class="line"><span class="cl">$ tree
</span></span><span class="line"><span class="cl"><span class="c1"># .</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ├── LICENSE</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ├── README.md</span>
</span></span><span class="line"><span class="cl"><span class="c1"># └── media</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     └── poster.jpg</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -I 忽略某些目录</span>
</span></span><span class="line"><span class="cl">$ tree -I <span class="s2">&#34;node_modules|.git|.svn&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 只显示目录</span>
</span></span><span class="line"><span class="cl">$ tree -d
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 指定要递归的目录层级</span>
</span></span><span class="line"><span class="cl">$ tree -L <span class="m">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="118-ln">1.18 ln</h2>
<p>将某一个文件在另外一个位置建立并产生同步的链接。 当不同的 2 个目录需要同时引用某一个文件时此命令就派上用场了。</p>
<p>软链接也可以叫符号链接：</p>
<ul>
<li>软链接，以路径的形式存在。类似于 Windows 操作系统中的快捷方式</li>
<li>软链接可以 跨文件系统 ，硬链接不可以</li>
<li>软链接可以对一个不存在的文件名进行链接</li>
<li>软链接可以对目录进行链接</li>
</ul>
<p>硬链接：</p>
<ul>
<li>硬链接，以文件副本的形式存在。但不占用实际空间, 从根本上而言就是同一个文件。</li>
<li>不允许给目录创建硬链接</li>
<li>硬链接只有在同一个文件系统中才能创建</li>
</ul>
<p>共同点：</p>
<ul>
<li>修改原文件内容创建的链接文件也会同步修改</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 默认创建硬链接</span>
</span></span><span class="line"><span class="cl">$ ln 1.md 2.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -s 创建软链接, 2.md 就相当于副本</span>
</span></span><span class="line"><span class="cl">$ ln -s 1.md 2.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -f 强制执行创建</span>
</span></span><span class="line"><span class="cl">$ ln -f README.md ./src/a.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="119-file">1.19 file</h2>
<p>查看文件类型, 比如文件、目录、二进制、符号链接等</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 输出 README.md: ASCII text</span>
</span></span><span class="line"><span class="cl">$ file README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># index.html: HTML document, UTF-8 Unicode text, with very long lines, with no line terminators</span>
</span></span><span class="line"><span class="cl">$ file index.html
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="120-sort">1.20 sort</h2>
<p>将文本内容以行为单位进行排序。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>检查文件是否已排序，若已经排序则什么都不输出</td>
</tr>
<tr>
<td>-r</td>
<td>以倒序来排序</td>
</tr>
<tr>
<td>-b</td>
<td>忽略每行开头的空格</td>
</tr>
<tr>
<td>-o</td>
<td>将排序结果输出到文件</td>
</tr>
<tr>
<td>-u</td>
<td>排序并去重，每行都是唯一的</td>
</tr>
<tr>
<td>-n</td>
<td>按照数值大小排序</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 排序并打印到终端</span>
</span></span><span class="line"><span class="cl">$ sort README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 排序并去重将结果输出到 u.md 文件，可以用来替代 uniq 命令</span>
</span></span><span class="line"><span class="cl">$ sort -u README.md -o u.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="121-uniq">1.21 uniq</h2>
<p><code>uniq</code> 命令用于检查或删除文件中重复出现的行内容。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将 1.txt 文件重复内容过滤后输出到 2.txt 文件</span>
</span></span><span class="line"><span class="cl">$ uniq 1.txt 2.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -c 在左边显示每行重复次数</span>
</span></span><span class="line"><span class="cl">$ uniq -c 1.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -d 只显示重复行内容</span>
</span></span><span class="line"><span class="cl">$ uniq -d 1.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>uniq</code> 命令有个问题，只能过滤相邻的内容，比如:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">111
</span></span><span class="line"><span class="cl">111
</span></span><span class="line"><span class="cl">222
</span></span><span class="line"><span class="cl">333
</span></span><span class="line"><span class="cl">222
</span></span></code></pre></td></tr></table>
</div>
</div><p>结果: 222 也重复但是不是相邻</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">111
</span></span><span class="line"><span class="cl">222
</span></span><span class="line"><span class="cl">333
</span></span><span class="line"><span class="cl">222
</span></span></code></pre></td></tr></table>
</div>
</div><p>解决办法是配合使用 <code>sort</code> 命令, 原理是先排序为相邻再去重(实际上只用 sort 命令就能解决)：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sort 1.txt <span class="p">|</span> uniq &gt; 2.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="122-split">1.22 split</h2>
<p>将一个文件切割成数个文件, 对于大文件来说非常实用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将 README.md 文件每10行分割成一个文件</span>
</span></span><span class="line"><span class="cl">$ split -10 README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -b 按字节分割</span>
</span></span><span class="line"><span class="cl">$ split -b <span class="m">100000</span> README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 指定分割后的文件名前缀为 READ ，分割后会自动在文件名后随机加上编号</span>
</span></span><span class="line"><span class="cl">$ split -b <span class="m">100000</span> README.md READ
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="123-vim">1.23 vim</h2>
<p>vi 编辑器是 Unix 系统最初的编辑器，在 GNU 项目将 vi 编辑器移植到开源世界时，他们决定对其做一些改进，开发人员也就将它重命名为 <code>vi improved</code>。</p>
<p><code>vim</code>(vi improved) 是 <code>vi</code> 的升级版，所以只需要知道 <code>vim</code> 即可， 是一个非强大的文本编辑器，学习成本不低，需要长期使用才能记牢每一个指令操作。</p>
<p>这是一份速查表，使用的时候注意区分大小写。</p>
<p>vim 的快捷键指令非常多，只列出一些实用性便于记忆。</p>
<p><strong>打开文件</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 最简单的打开文件方式, 如果文件不存在会开辟一段新的缓冲区域来编辑。</span>
</span></span><span class="line"><span class="cl">$ vim README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打开文件并定位到最后一行</span>
</span></span><span class="line"><span class="cl">$ vim + README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打开文件并定位到某一行, +号后面指定行数</span>
</span></span><span class="line"><span class="cl">$ vim +100 README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打开多个文件</span>
</span></span><span class="line"><span class="cl"><span class="c1"># :bn 切换下一个文件</span>
</span></span><span class="line"><span class="cl"><span class="c1"># :bp 切换上一个文件</span>
</span></span><span class="line"><span class="cl"><span class="c1"># :ls 列出所有已经打开的文件</span>
</span></span><span class="line"><span class="cl"><span class="c1"># :b2 切换到第2个文件, 2是个任意数字</span>
</span></span><span class="line"><span class="cl">$ vim 1.txt 2.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>光标定位插入</strong></p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>在当前光标位置插入</td>
</tr>
<tr>
<td>I</td>
<td>在当前光标行第一个字符插入</td>
</tr>
<tr>
<td>a</td>
<td>在当前光标后一个字符插入</td>
</tr>
<tr>
<td>A</td>
<td>光标到当前行最后一个字符插入</td>
</tr>
<tr>
<td>H</td>
<td>光标到第一行第一个字符 (是以终端大小来计算，不是原文本的第一行)</td>
</tr>
<tr>
<td>M</td>
<td>光标到中间第一行 (是以终端大小来计算)</td>
</tr>
<tr>
<td>L</td>
<td>光标到最后行第一个字符 (是以终端大小来计算)</td>
</tr>
<tr>
<td>E</td>
<td>将光标定位到右边的空格</td>
</tr>
<tr>
<td>o</td>
<td>在当前光标下一行插入</td>
</tr>
<tr>
<td>O</td>
<td>在当前光标上一行插入</td>
</tr>
<tr>
<td>:n</td>
<td>将光标定位到 n 行</td>
</tr>
</tbody>
</table>
<p><strong>撤销</strong></p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td>撤销上一次编辑内容</td>
</tr>
<tr>
<td>U</td>
<td>撤销当前光标整行内容</td>
</tr>
<tr>
<td>Ctrl + r</td>
<td>还原初始文件状态</td>
</tr>
<tr>
<td>e!</td>
<td>撤销所有修改，恢复打开文件时的状态</td>
</tr>
</tbody>
</table>
<p><strong>删除</strong></p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>dd</td>
<td>删除当前行</td>
</tr>
<tr>
<td>dj</td>
<td>删除上一行</td>
</tr>
<tr>
<td>dk</td>
<td>删除下一行</td>
</tr>
<tr>
<td>:1,$d</td>
<td>删除所有行</td>
</tr>
</tbody>
</table>
<p><strong>拷贝/粘贴</strong></p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>yy</td>
<td>拷贝当前行</td>
</tr>
<tr>
<td>p</td>
<td>在当前光标粘贴上一次拷贝的内容</td>
</tr>
</tbody>
</table>
<p><strong>搜索</strong></p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>:/text</td>
<td>从上往下查找 text，按 <code>n</code> 向下搜索, 按 <code>N</code> 想前搜索</td>
</tr>
<tr>
<td>:?text</td>
<td>从下往上查找 text，按 <code>n</code> 向下搜索, 按 <code>N</code> 想前搜索</td>
</tr>
</tbody>
</table>
<p><strong>替换</strong></p>
<p>要想匹配 <code>/</code> 需要反斜杠进行转义: <code>\/</code></p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>:s/old/new</td>
<td>找到 old 第一次出现的地方并用 new 来替换</td>
</tr>
<tr>
<td>:s/old/new/g</td>
<td>找到所有 old 出现的地方并用 new 来替换(当前屏幕)</td>
</tr>
<tr>
<td>:%s/old/new/g</td>
<td>替换整个文件中的所有 old</td>
</tr>
<tr>
<td>:%s/old/new/gc</td>
<td>替换整个文件中的所有 old，但在每次出现时询问是否替换</td>
</tr>
<tr>
<td>:n,ms/old/new/g</td>
<td>替换行号 n 和 m 之间的所有 old</td>
</tr>
</tbody>
</table>
<p><strong>退出</strong></p>
<p>先按 <code>ESC</code> 键然后再操作后面的快捷键。</p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>:w</td>
<td>写入但不退出</td>
</tr>
<tr>
<td>:w!</td>
<td>强制保存，但不退出</td>
</tr>
<tr>
<td>:q!</td>
<td>退出但不保存</td>
</tr>
<tr>
<td>:wq</td>
<td>保存写入内容并退出</td>
</tr>
<tr>
<td>:w file</td>
<td>将当前文件内容保存到 file 文件中</td>
</tr>
<tr>
<td>:qa!</td>
<td>退出所有文件并不做保存，比如打开了多个文件</td>
</tr>
</tbody>
</table>
<p><strong>设置</strong></p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>:set ignorecase</td>
<td>忽略大小写查找</td>
</tr>
<tr>
<td>:set noignorecase</td>
<td>不忽略大小写查找</td>
</tr>
<tr>
<td>:set hlsearch</td>
<td>高亮搜索结果</td>
</tr>
<tr>
<td>:set nohlsearch</td>
<td>关闭高亮搜索显示</td>
</tr>
<tr>
<td>:set hlsearch</td>
<td>高亮搜索结果</td>
</tr>
<tr>
<td>:set number</td>
<td>显示行号</td>
</tr>
<tr>
<td>:set nonumber</td>
<td>不显示行号</td>
</tr>
</tbody>
</table>
<hr>
<h1 id="2-系统管理">2: 系统管理</h1>
<h2 id="21-nohup">2.1 nohup</h2>
<p>程序以挂起方式运行。</p>
<p><code>nohup</code> 命令会自动将 STDOUT(标准输出)和 STDERR(标准错误)的消息重定向到一个名为 <code>nohup.out</code> 文件。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 例如运行一个 node.js 程序</span>
</span></span><span class="line"><span class="cl">$ nohup node main.js
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 在当前目录会出现 nohup.out 文件，里面包含了 Hello World</span>
</span></span><span class="line"><span class="cl">$ nohuo <span class="nb">echo</span> <span class="s2">&#34;Hello World&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="22-watch">2.2 watch</h2>
<p>通常用于监听 1 个命令的运行结果、定时执行命令</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 每5秒执行一次 tail 命令, 如果不指定-n 默认为2秒</span>
</span></span><span class="line"><span class="cl">$ watch -n <span class="m">5</span> <span class="s2">&#34;tail README.md&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -d 高亮显示变化内容</span>
</span></span><span class="line"><span class="cl">$ watch -n <span class="m">5</span> -d <span class="s2">&#34;tail README.md&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="23-ping">2.3 ping</h2>
<p>测试目标地址是否可连接、延迟度</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 测试 github.com 连通性, 按 ctrl + C 停止</span>
</span></span><span class="line"><span class="cl">$ ping github.com
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ping 5次后断开</span>
</span></span><span class="line"><span class="cl">$ ping -c <span class="m">5</span> xiejiahe.com
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 每5秒ping 一次</span>
</span></span><span class="line"><span class="cl">$ ping -i <span class="m">5</span> xiejiahe.com
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="24-which">2.4 which</h2>
<p>查找某个命令存储在哪个位置, 输出绝对路径, <code>which</code> 会在环境变量 <code>$PATH</code> 设置的目录里去查找。</p>
<p>注: 可以通过 <code>echo $PATH</code> 查看设置的目录。</p>
<p>只有内建命令才会正常打印，判断是否内建命令可以通过 <a href="#type">type</a> 检查。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ which top  <span class="c1"># /usr/bin/top</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查找pwd发现会找不到，因为 pwd 是shell内置命令</span>
</span></span><span class="line"><span class="cl">$ which <span class="nb">pwd</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打印多个命令</span>
</span></span><span class="line"><span class="cl"> <span class="nv">$which</span> ls vi
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="25-shutdown">2.5 shutdown</h2>
<p>将系统关机或重启操作。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 什么参数都不加，默认会在1分钟后关机</span>
</span></span><span class="line"><span class="cl">$ shutdown
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 在将系统的服务停掉之后就重新开机</span>
</span></span><span class="line"><span class="cl">$ shutdown -r now
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 关闭系统并切断电源</span>
</span></span><span class="line"><span class="cl">$ shutdown -h now <span class="c1"># 立即关机, 实际上调用 init 0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 把前一个关机或重启取消掉</span>
</span></span><span class="line"><span class="cl">$ shutdown -c
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 设定一个时间关机,  &#34;&amp;&#34; 符号表示后台模式，让出CLI</span>
</span></span><span class="line"><span class="cl">$ shutdown -h 05:33 <span class="p">&amp;</span>
</span></span><span class="line"><span class="cl">$ shutdown +5 <span class="s2">&#34;5分钟后关机&#34;</span> <span class="c1"># 5分钟后关机，同时送出警告信息给登入用户：</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="26-reboot">2.6 reboot</h2>
<p>有点类似 <code>shutdown</code> 命令， 用于重新启动系统。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 重启系统</span>
</span></span><span class="line"><span class="cl">$ reboot
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -f 强制重启</span>
</span></span><span class="line"><span class="cl">$ reboot -f
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 用于模拟重新启动系统，不会真实重启，数据会写入 /var/log/wtmp</span>
</span></span><span class="line"><span class="cl">$ reboot -w
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 在重新启动之前关闭所有网络界面</span>
</span></span><span class="line"><span class="cl">$ reboot -i
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="27-uptime">2.7 uptime</h2>
<p>查看系统负载信息， 此命令非常简单，没有太多的参数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 21:51:53 当前时间</span>
</span></span><span class="line"><span class="cl"><span class="c1"># up 750 days, 13:24  当前系统运行的天数，小时，分钟 （从上次开机起计算）</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 1 user 当前系统登录用户数</span>
</span></span><span class="line"><span class="cl"><span class="c1"># load average: 0.08, 0.07, 0.06    一分钟、5分钟、15分钟平均负载, 这3个值不能大于CPU个数，如果大于了说明系统负载高，性能低。</span>
</span></span><span class="line"><span class="cl">$ uptime <span class="c1"># 21:51:53 up 750 days, 13:24,  1 user,  load average: 0.08, 0.07, 0.06</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="28-crontab">2.8 crontab</h2>
<p>周期性执行任务, 通常用于定时执行作业。</p>
<p><code>* * * * *</code> 分别含义：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">*    *    *    *    *
</span></span><span class="line"><span class="cl">┬    ┬    ┬    ┬    ┬
</span></span><span class="line"><span class="cl">│    │    │    │    │
</span></span><span class="line"><span class="cl">│    │    │    │    │
</span></span><span class="line"><span class="cl">│    │    │    │    └───── 一周中的某一天 <span class="o">(</span><span class="m">0</span> - 7<span class="o">)</span>  0或7代表是星期日
</span></span><span class="line"><span class="cl">│    │    │    └────────── 月份 <span class="o">(</span><span class="m">1</span> - 12<span class="o">)</span>
</span></span><span class="line"><span class="cl">│    │    └─────────────── 一个月的某一天 <span class="o">(</span><span class="m">1</span> - 31<span class="o">)</span>
</span></span><span class="line"><span class="cl">│    └──────────────────── 小时 <span class="o">(</span><span class="m">0</span> - 23<span class="o">)</span>
</span></span><span class="line"><span class="cl">└───────────────────────── 分钟 <span class="o">(</span><span class="m">0</span> - 59<span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 列出该用户设置</span>
</span></span><span class="line"><span class="cl">$ crontab -l
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 编辑该用户设置</span>
</span></span><span class="line"><span class="cl">$ crontab -e
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 删除该用户设置</span>
</span></span><span class="line"><span class="cl">$ crontab -r
</span></span></code></pre></td></tr></table>
</div>
</div><p>例子：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 每天18点18分执行 echo `date` &gt; README.md</span>
</span></span><span class="line"><span class="cl"><span class="m">18</span> <span class="m">18</span> * * * <span class="nb">echo</span> <span class="sb">`</span>date<span class="sb">`</span> &gt; README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 每一分钟执行</span>
</span></span><span class="line"><span class="cl">* * * * */1 <span class="nb">echo</span> <span class="sb">`</span>date<span class="sb">`</span> &gt; README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 每个月的第一天中午12点</span>
</span></span><span class="line"><span class="cl"><span class="m">00</span> <span class="m">12</span> <span class="m">1</span> * * 命令
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 每个月的最后一天就比较麻烦了, 需要配合 date 命令和 if 流程语句来实现</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 这里 if 语句检查明天的日期是不是01，如果是今天就是最后一天</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 每天中午12点检查今天是不是最后一天</span>
</span></span><span class="line"><span class="cl"><span class="m">00</span> <span class="m">12</span> * * * <span class="k">if</span> <span class="o">[</span> <span class="sb">`</span>date +%d -d tomorrow<span class="sb">`</span> <span class="o">=</span> <span class="m">01</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span> <span class="p">;</span> 要执行的命令
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="29-at">2.9 at</h2>
<p>在指定时间执行指令，<code>at</code> 命令时间参数相当复杂，只需要了解常用即可。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-d</td>
<td>删除已经设定的任务, atrm 别名</td>
</tr>
<tr>
<td>-v</td>
<td>显示任务将被执行的时间</td>
</tr>
<tr>
<td>-c</td>
<td>打印任务的内容到标准输出</td>
</tr>
<tr>
<td>-f</td>
<td>指定文件读取任务</td>
</tr>
</tbody>
</table>
<p>设定任务, 执行后进入交互输入要执行的指令, 按 <code>Ctrl+D</code> 完成并退出。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 三天后的下午 5点</span>
</span></span><span class="line"><span class="cl">$ at 5pm+3 days
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 明天上午 11点11分</span>
</span></span><span class="line"><span class="cl">$ at 11:11 tomorrow
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 今天上午 11点11分</span>
</span></span><span class="line"><span class="cl">$ at 11:11
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 当前时间之后1分钟</span>
</span></span><span class="line"><span class="cl"><span class="c1"># year 年</span>
</span></span><span class="line"><span class="cl"><span class="c1"># month 月</span>
</span></span><span class="line"><span class="cl"><span class="c1"># day 日</span>
</span></span><span class="line"><span class="cl"><span class="c1"># hours 小时</span>
</span></span><span class="line"><span class="cl"><span class="c1"># minutes 分钟</span>
</span></span><span class="line"><span class="cl">$ at now +1 minutes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 也可以通过管道执行，免去交互</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;ls&#34;</span> <span class="p">|</span> at 11:11
</span></span></code></pre></td></tr></table>
</div>
</div><p>指定文件运行脚本</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ at 11:11 -f /opt/script.sh
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看当前任务队列</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ atq
</span></span><span class="line"><span class="cl"><span class="m">2</span>       Sat Jan <span class="m">30</span> 11:46:00 <span class="m">2021</span> a root
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看指定任务内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 2为编号</span>
</span></span><span class="line"><span class="cl">$ at -c <span class="m">2</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>删除已经设定的任务</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1 是编号, 通过 atq 查看</span>
</span></span><span class="line"><span class="cl">$ at -d <span class="m">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 等价</span>
</span></span><span class="line"><span class="cl">$ atrm <span class="m">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="210-uname">2.10 uname</h2>
<p>打印系统信息</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>打印系统所有信息</td>
</tr>
<tr>
<td>-r</td>
<td>打印系统版本</td>
</tr>
<tr>
<td>-n</td>
<td>打印网络节点主机名称</td>
</tr>
<tr>
<td>-p</td>
<td>打印处理器名称</td>
</tr>
<tr>
<td>-m</td>
<td>打印主机的硬件架构名称</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 不带任何参数打印当前操作系统内核名称</span>
</span></span><span class="line"><span class="cl">$ uname <span class="c1"># Linux , 等价于 uname -s</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打印系统所有信息</span>
</span></span><span class="line"><span class="cl">$ uname -a
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -r 打印系统版本 , 如果次版本号都是偶数，说明是一个稳定版</span>
</span></span><span class="line"><span class="cl">$ uname -r <span class="c1"># 3.10.0-514.26.2.el7.x86_64</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打印网络节点主机名称</span>
</span></span><span class="line"><span class="cl">$ uname -n <span class="c1"># Yin.local</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打印处理器名称</span>
</span></span><span class="line"><span class="cl">$ uname -p <span class="c1"># i386</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打印主机的硬件架构名称</span>
</span></span><span class="line"><span class="cl">$ uname -m <span class="c1"># x86_64</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="211-ifconfig">2.11 ifconfig</h2>
<p>配置或显示系统网卡的网络参数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 显示所有网络参数信息</span>
</span></span><span class="line"><span class="cl">$ ifconfig
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 配置网卡IP地址</span>
</span></span><span class="line"><span class="cl">$ ifconfig eth0 192.168.1.111
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="212-whereis">2.12 whereis</h2>
<p>用来定位指令的二进制程序、源代码文件和 man 手册页等相关文件的路径。</p>
<p>注意：<code>whereis</code> 是从数据库里查找的，因此特别快，默认情况下一星期更新一次数据，所以有时会查找删除的数据或者刚建立的数据无法找到问题。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 查找 nginx</span>
</span></span><span class="line"><span class="cl">$ whereis nginx <span class="c1"># nginx: /usr/sbin/nginx /usr/lib64/nginx /etc/nginx /usr/share/nginx /usr/share/man/man8/nginx.8.gz /usr/share/man/man3/nginx.3pm.gz</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -b 指定只查找二进制</span>
</span></span><span class="line"><span class="cl">$ where -b nginx <span class="c1"># nginx: /usr/sbin/nginx /usr/lib64/nginx /etc/nginx /usr/share/nginx</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -m 指定查找说明文件 man</span>
</span></span><span class="line"><span class="cl">$ whereis -m nginx <span class="c1"># nginx: /usr/share/man/man8/nginx.8.gz /usr/share/man/man3/nginx.3pm.gz</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="213-chmod">2.13 chmod</h2>
<p>修改文件或目录权限</p>
<p>chmod [参数选项] [mode, 八进制或符号表示] files&hellip;</p>
<ul>
<li><code>u</code> 符号代表当前用户。</li>
<li><code>g</code> 符号代表和当前用户在同一个组的用户，以下简称组用户。</li>
<li><code>o</code> 符号代表其他用户。</li>
<li><code>a</code> 符号代表所有用户。</li>
<li><code>r</code> 符号代表读权限以及八进制数 4。</li>
<li><code>w</code> 符号代表写权限以及八进制数 2。</li>
<li><code>x</code> 符号代表执行权限以及八进制数 1。</li>
<li><code>X</code> 符号代表如果目标文件是可执行文件或目录，可给其设置可执行权限。</li>
<li><code>s</code> 符号代表设置权限 suid 和 sgid，使用权限组合 u+s 设定文件的用户的 ID 位，g+s 设置组用户 ID 位。</li>
<li><code>t</code> 符号代表只有目录或文件的所有者才可以删除目录下的文件。</li>
<li><code>+</code> 符号代表添加目标用户相应的权限。</li>
<li><code>-</code> 符号代表删除目标用户相应的权限。</li>
<li><code>=</code> 符号代表添加目标用户相应的权限，删除未提到的权限。</li>
</ul>
<h3 id="2131-文件权限码">2.13.1 文件权限码</h3>
<table>
<thead>
<tr>
<th>权限</th>
<th>二进制值</th>
<th>八进制值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>&mdash;</td>
<td>000</td>
<td>0</td>
<td>没有任何权限</td>
</tr>
<tr>
<td>&ndash;x</td>
<td>001</td>
<td>1</td>
<td>只有执行权限</td>
</tr>
<tr>
<td>-w-</td>
<td>010</td>
<td>2</td>
<td>只有写入权限</td>
</tr>
<tr>
<td>-wx</td>
<td>011</td>
<td>3</td>
<td>有写入和执行权限</td>
</tr>
<tr>
<td>r&ndash;</td>
<td>100</td>
<td>4</td>
<td>只有读取权限</td>
</tr>
<tr>
<td>r-x</td>
<td>101</td>
<td>5</td>
<td>有读取和执行权限</td>
</tr>
<tr>
<td>rw-</td>
<td>110</td>
<td>6</td>
<td>有读取和写入权限</td>
</tr>
<tr>
<td>rwx</td>
<td>111</td>
<td>7</td>
<td>有全部权限</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># README.md 文件设为所有用户可读取</span>
</span></span><span class="line"><span class="cl">$ chmod a+r README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -R 递归目录下所有文件</span>
</span></span><span class="line"><span class="cl">$ chmod a+r src/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 也可以用八进制符号表示</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3个数字分别为 x,y,z 表示User、Group、及Other的权限。</span>
</span></span><span class="line"><span class="cl"><span class="c1"># r=4, w=2, x=1</span>
</span></span><span class="line"><span class="cl">$ chmod <span class="m">777</span> README.md <span class="c1"># 等价于 chmod a=rwx README.md</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="214-chown">2.14 chown</h2>
<p>用来变更文件或目录的拥有者或所属群组</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将 README.md 文件拥有者设为 byroot</span>
</span></span><span class="line"><span class="cl">$ chown byroot README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 使用-R递归处理文件</span>
</span></span><span class="line"><span class="cl">$ chown -R byroot src/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 改变所属群组, 拥有者设为 byroot 群组设为 byrootgroup</span>
</span></span><span class="line"><span class="cl">$ chown byroot:byrootgroup README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="215-lsof">2.15 lsof</h2>
<p>全名 list open files, 列出当前系统已经被打开的文件。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">## 打印所有打开文件的的列表</span>
</span></span><span class="line"><span class="cl">$ lsof
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看指定端口被占用情况</span>
</span></span><span class="line"><span class="cl">$ lsof -i:8080
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -p 列出指定进程号所打开的文件</span>
</span></span><span class="line"><span class="cl">$ lsof -p <span class="m">6112</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="216-systemctl">2.16 systemctl</h2>
<p>系统服务管理器指令, 通常用来设置某个服务器默认开机启动或关闭。</p>
<p>命令：<code>systemctl [command] [unit]</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 立即启动服务</span>
</span></span><span class="line"><span class="cl">$ systemctl start nginx.service
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 立即停止服务</span>
</span></span><span class="line"><span class="cl">$ systemctl stop nginx.service
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 重启服务，stop 后 start</span>
</span></span><span class="line"><span class="cl">$ systemctl restart nginx.service
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 重新载入服务, 一般情况下重新载入新的配置</span>
</span></span><span class="line"><span class="cl">$ systemctl reload nginx.service
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 下次开机时默认启动服务</span>
</span></span><span class="line"><span class="cl">$ systemctl <span class="nb">enable</span> nginx.service
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 下次开机时不会启动服务</span>
</span></span><span class="line"><span class="cl">$ systemctl disable nginx.service
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看某个服务状态信息</span>
</span></span><span class="line"><span class="cl">$ systemctl status nginx.service
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 当前服务是否正在运行中</span>
</span></span><span class="line"><span class="cl">$ systemctl is-active nginx.service
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看服务开机有没有默认启动</span>
</span></span><span class="line"><span class="cl">$ systemctl is-enable nginx.service
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="217-service">2.17 service</h2>
<p>管理操作系统服务的命令, 是 Redhat Linux 兼容的发行版中用来控制系统服务的实用工具，它以启动、停止、重新启动和关闭系统服务，还可以显示所有系统服务的当前状态。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 启动 docker 服务</span>
</span></span><span class="line"><span class="cl">$ service docker start
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看 docker 状态</span>
</span></span><span class="line"><span class="cl">$ service docker status
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 停止 docker 服务</span>
</span></span><span class="line"><span class="cl">$ service docker stop
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 重新启动 docker 服务</span>
</span></span><span class="line"><span class="cl">$ service docker restart
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看所有服务状态</span>
</span></span><span class="line"><span class="cl">$ service --status-all
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="218-free">2.18 free</h2>
<p>显示内存使用情况</p>
<p>选项</p>
<ul>
<li>b 字节单位显示</li>
<li>k KB 单位显示</li>
<li>m MB 单位显示</li>
<li>g GB 单位显示</li>
<li>s&lt;秒&gt; 每 S 秒监控内存使用情况</li>
</ul>
<p>解释：</p>
<ul>
<li>total 内存总数</li>
<li>used 已使用内存</li>
<li>free 空闲内存</li>
<li>shared 当前已废弃内存</li>
<li>buff/cache 缓存内存数</li>
<li>1204660 可用内存数</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ free
</span></span><span class="line"><span class="cl"><span class="c1"># 输出以下, 默认以字节为单位</span>
</span></span><span class="line"><span class="cl">              total        used        free      shared  buff/cache   available
</span></span><span class="line"><span class="cl">Mem:        <span class="m">1882192</span>      <span class="m">485312</span>      <span class="m">448424</span>         <span class="m">704</span>      <span class="m">948456</span>     <span class="m">1204660</span>
</span></span><span class="line"><span class="cl">Swap:             <span class="m">0</span>           <span class="m">0</span>           <span class="m">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># MB单位显示</span>
</span></span><span class="line"><span class="cl">$ free - m
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 10秒执行一次查询</span>
</span></span><span class="line"><span class="cl">$ free -s <span class="m">10</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="219-type">2.19 type</h2>
<p><code>type</code> 命令有 2 个作用：</p>
<ul>
<li>用来查找命令的位置，类似 which 命令</li>
<li>检测某个命令是内建命令还是外部命令</li>
</ul>
<p>普及：内建命令和外部命令的区别：内建命令不会衍生出子进程，而外部命令会衍生出一个子进程然后执行命令, 所以内建命令执行效率要高。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># cd is a shell builtin  表示这是shell内建命令</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">type</span> <span class="nb">cd</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ps is hashed (/usr/bin/ps)  表示这是一个外部命令</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">type</span> ps
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="220-alias">2.20 alias</h2>
<p>设置命令别名，用于简化较长的命令。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 列出所有已设置的别名</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">alias</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 设置别名</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">alias</span> <span class="nv">ll</span><span class="o">=</span><span class="s1">&#39;ls -l&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>删除别名</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 删除所有别名</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">unalias</span> -a
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 删除指定别名</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">unalias</span> ll
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="221-time">2.21 time</h2>
<p>测试某条命令执行所需花费时间</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># time 后面跟着要测试的命令</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 输出:  0.02s user 0.01s system 0% cpu 6.233 total</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">time</span> curl https://github.com/xjh22222228/linux-manual
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="222-jobs">2.22 jobs</h2>
<p>显示当前运行在后台模式中的所有用户的进程（作业）</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>打印进程的 PID 和作业号以及作业命令</td>
</tr>
<tr>
<td>-n</td>
<td>只列出上次 shell 发出的通知后改变了状态的作业</td>
</tr>
<tr>
<td>-p</td>
<td>只列出作业的 PID（进程 ID）</td>
</tr>
<tr>
<td>-r</td>
<td>只列出运行中的作业</td>
</tr>
<tr>
<td>-s</td>
<td>只列出已停止的作业</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 先来启一个后台作业进程, &amp; 符号表示后台运行</span>
</span></span><span class="line"><span class="cl">$ sleep <span class="m">100</span> <span class="p">&amp;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 查看后台作业</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">jobs</span> <span class="c1"># 输出：[1]+  Running       sleep 3 &amp;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>相关命令 <a href="#&amp;">&amp;</a></p>
<h2 id="223-">2.23 &amp;</h2>
<p><code>&amp;</code> 符号表示后台运行, 只要在命令后面加上 <code>&amp;</code> 符号即可。</p>
<p>如果一个命令运行的时间非常长，比如处理文件、HTTP 请求时就可以在后台运行，这样就可以让出 shell 继续执行其他命令。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 模拟了休眠100秒并在后台运行</span>
</span></span><span class="line"><span class="cl">$ sleep <span class="m">100</span> <span class="p">&amp;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>你可以通过 <a href="#jobs">jobs</a> 命令来查看后台作业。</p>
<hr>
<h1 id="3-系统进程">3: 系统进程</h1>
<h2 id="ps">ps</h2>
<p>查看当前系统进程状态。</p>
<p><code>ps</code> 命令非常复杂，且参数极多，由于 <code>ps</code> 历史问题，参数风格支持了三种 <code>UNIX</code>/<code>BSD</code>/``GNU` 这里不详细的介绍，感兴趣可以自行了解。</p>
<ul>
<li>Unix 风格参数 - 前面加单破折线</li>
<li>BSD 风格的参数 - 前面不加破折线</li>
<li>GNU 风格长参数 - 前面加双破折线</li>
</ul>
<h4 id="unix-风格参数">Unix 风格参数</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-A</td>
<td>显示所有进程</td>
</tr>
<tr>
<td>-N</td>
<td>显示与指定参数不符的所有进程</td>
</tr>
<tr>
<td>-a</td>
<td>显示除控制进程和无终端进程外的所有进程</td>
</tr>
<tr>
<td>-d</td>
<td>显示除控制进程外的所有进程</td>
</tr>
<tr>
<td>-e</td>
<td>显示所有进程</td>
</tr>
<tr>
<td>-C cmdlist</td>
<td>显示包含在 cmdlist 列表中的进程</td>
</tr>
<tr>
<td>-G grplist</td>
<td>显示组 ID 在 grplist 列表中的进程</td>
</tr>
<tr>
<td>-U userlist</td>
<td>显示属主的用户 ID 在 userlist 列表中的进程</td>
</tr>
<tr>
<td>-g grplist</td>
<td>显示会话或组 ID 在 grplist 列表中的进程</td>
</tr>
<tr>
<td>-p pidlist</td>
<td>显示 PID 在 pidlist 列表中的进程</td>
</tr>
<tr>
<td>-s sesslist</td>
<td>显示会话 ID 在 sesslist 列表中的进程</td>
</tr>
<tr>
<td>-t ttylist</td>
<td>显示终端 ID 在 ttylist 列表中的进程</td>
</tr>
<tr>
<td>-u userlist</td>
<td>显示有效用户 ID 在 userlist 列表中的进程</td>
</tr>
<tr>
<td>-F</td>
<td>显示更多额外输出（相对-f 参数而言）</td>
</tr>
<tr>
<td>-O format</td>
<td>显示默认的输出列以及 format 列表指定的特定列</td>
</tr>
<tr>
<td>-M</td>
<td>显示进程的安全信息</td>
</tr>
<tr>
<td>-c</td>
<td>显示进程的额外条调度器信息</td>
</tr>
<tr>
<td>-l</td>
<td>显示长列表</td>
</tr>
<tr>
<td>-o format</td>
<td>仅显示由 format 指定的列表</td>
</tr>
<tr>
<td>-y</td>
<td>不要显示进程标记（process tag, 表明进程状态的标记）</td>
</tr>
<tr>
<td>-Z</td>
<td>显示安全标签（security context）信息</td>
</tr>
<tr>
<td>-H</td>
<td>用层级格式来显示进程（树状，用来显示父进程）</td>
</tr>
<tr>
<td>-n namelist</td>
<td>定义了 WCHAN 列显示的值</td>
</tr>
<tr>
<td>-w</td>
<td>采用宽输出模式，不限宽显示</td>
</tr>
<tr>
<td>-L</td>
<td>显示进程中的线程</td>
</tr>
<tr>
<td>-V</td>
<td>显示 PS 命令的版本号</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 显示所有进程信息</span>
</span></span><span class="line"><span class="cl">$ ps -A
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示指定用户进程信息</span>
</span></span><span class="line"><span class="cl">$ ps -u root
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示所有进程信息包括命令行</span>
</span></span><span class="line"><span class="cl">$ ps -ef  <span class="c1"># -e 等价于 -A  , 即等价于 ps -Af</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 这是 BSD 风格参数，列出所有正在内存中的进程</span>
</span></span><span class="line"><span class="cl">$ ps aux
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 配合 grep 查询指定进程</span>
</span></span><span class="line"><span class="cl">$ ps -ef <span class="p">|</span> grep nginx
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="pstree">pstree</h2>
<p>pstree 命令以树状图的方式展现进程之间的派生关系。</p>
<h4 id="显示所有进程的所有详细信息">显示所有进程的所有详细信息</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ pstree -a
</span></span><span class="line"><span class="cl"><span class="c1"># 输出信息：</span>
</span></span><span class="line"><span class="cl">├─AliSecGuard
</span></span><span class="line"><span class="cl">  ├─assist_daemon
</span></span><span class="line"><span class="cl">  │   └─7*<span class="o">[{</span>assist_daemon<span class="o">}]</span>
</span></span><span class="line"><span class="cl">  ├─atd -f
</span></span><span class="line"><span class="cl">  ├─auditd -n
</span></span><span class="line"><span class="cl">  │   └─<span class="o">{</span>auditd<span class="o">}</span>
</span></span><span class="line"><span class="cl">  ├─crond -n
</span></span><span class="line"><span class="cl">  ├─dbus-daemon --system --address<span class="o">=</span>systemd: --nofork --nopidfile --systemd-activation
</span></span><span class="line"><span class="cl">  ├─dhclient -H debug010000002015 -1 -q -lf /var/lib/dhclient/dhclient--eth0.lease -pf /var/run/dhclient-eth0.pid eth0
</span></span><span class="line"><span class="cl">  ├─frps -c ./frps.ini
</span></span><span class="line"><span class="cl">  │   └─2*<span class="o">[{</span>frps<span class="o">}]</span>
</span></span><span class="line"><span class="cl">  ├─nginx
</span></span><span class="line"><span class="cl">  │   └─nginx
</span></span><span class="line"><span class="cl">  ├─ntpd -u ntp:ntp -g
</span></span><span class="line"><span class="cl">  ├─polkitd --no-debug
</span></span><span class="line"><span class="cl">  │   └─5*<span class="o">[{</span>polkitd<span class="o">}]</span>
</span></span><span class="line"><span class="cl">  ├─rsyslogd -n
</span></span><span class="line"><span class="cl">  │   └─2*<span class="o">[{</span>rsyslogd<span class="o">}]</span>
</span></span><span class="line"><span class="cl">  ├─sshd -D
</span></span><span class="line"><span class="cl">  │   └─sshd
</span></span><span class="line"><span class="cl">  │       └─bash
</span></span><span class="line"><span class="cl">  │           └─pstree -a
</span></span><span class="line"><span class="cl">  ├─systemd-journal
</span></span><span class="line"><span class="cl">  ├─systemd-logind
</span></span><span class="line"><span class="cl">  ├─systemd-udevd
</span></span><span class="line"><span class="cl">  └─tuned -Es /usr/sbin/tuned -l -P
</span></span><span class="line"><span class="cl">      └─4*<span class="o">[{</span>tuned<span class="o">}]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="显示当前所有进程的进程号和进程-id">显示当前所有进程的进程号和进程 id</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ pstree -p
</span></span><span class="line"><span class="cl"><span class="c1"># 输出信息：</span>
</span></span><span class="line"><span class="cl">systemd<span class="o">(</span>1<span class="o">)</span>─┬─AliSecGuard<span class="o">(</span>9347<span class="o">)</span>─┬─<span class="o">{</span>AliSecGuard<span class="o">}(</span>9348<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─agetty<span class="o">(</span>474<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─agetty<span class="o">(</span>475<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─assist_daemon<span class="o">(</span>1356<span class="o">)</span>─┬─<span class="o">{</span>assist_daemon<span class="o">}(</span>1370<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │                     ├─<span class="o">{</span>assist_daemon<span class="o">}(</span>1371<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │                     ├─<span class="o">{</span>assist_daemon<span class="o">}(</span>1372<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │                     ├─<span class="o">{</span>assist_daemon<span class="o">}(</span>1870<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │                     ├─<span class="o">{</span>assist_daemon<span class="o">}(</span>1871<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │                     ├─<span class="o">{</span>assist_daemon<span class="o">}(</span>1872<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │                     └─<span class="o">{</span>assist_daemon<span class="o">}(</span>1873<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─atd<span class="o">(</span>459<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─auditd<span class="o">(</span>368<span class="o">)</span>───<span class="o">{</span>auditd<span class="o">}(</span>375<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─crond<span class="o">(</span>455<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─dbus-daemon<span class="o">(</span>440<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─dhclient<span class="o">(</span>680<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─nginx<span class="o">(</span>9605<span class="o">)</span>───nginx<span class="o">(</span>9608<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─ntpd<span class="o">(</span>766<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─polkitd<span class="o">(</span>448<span class="o">)</span>─┬─<span class="o">{</span>polkitd<span class="o">}(</span>489<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │              ├─<span class="o">{</span>polkitd<span class="o">}(</span>490<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │              ├─<span class="o">{</span>polkitd<span class="o">}(</span>491<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │              ├─<span class="o">{</span>polkitd<span class="o">}(</span>492<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │              └─<span class="o">{</span>polkitd<span class="o">}(</span>493<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─rsyslogd<span class="o">(</span>740<span class="o">)</span>─┬─<span class="o">{</span>rsyslogd<span class="o">}(</span>769<span class="o">)</span>
</span></span><span class="line"><span class="cl">           │               └─<span class="o">{</span>rsyslogd<span class="o">}(</span>770<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─sshd<span class="o">(</span>4007<span class="o">)</span>───sshd<span class="o">(</span>21896<span class="o">)</span>───bash<span class="o">(</span>21898<span class="o">)</span>───pstree<span class="o">(</span>21921<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─systemd-journal<span class="o">(</span>326<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─systemd-logind<span class="o">(</span>445<span class="o">)</span>
</span></span><span class="line"><span class="cl">           ├─systemd-udevd<span class="o">(</span>350<span class="o">)</span>
</span></span><span class="line"><span class="cl">           └─tuned<span class="o">(</span>743<span class="o">)</span>─┬─<span class="o">{</span>tuned<span class="o">}(</span>1004<span class="o">)</span>
</span></span><span class="line"><span class="cl">                        ├─<span class="o">{</span>tuned<span class="o">}(</span>1006<span class="o">)</span>
</span></span><span class="line"><span class="cl">                        ├─<span class="o">{</span>tuned<span class="o">}(</span>1009<span class="o">)</span>
</span></span><span class="line"><span class="cl">                        └─<span class="o">{</span>tuned<span class="o">}(</span>1011<span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="top">top</h2>
<p>实时查看系统执行中的程序, top 命令跟 <code>ps</code> 命令相似，但它是实时的。</p>
<p>默认情况下 <code>top</code> 命令启动时会按照 <code>%CPU</code> 值对进程排序。</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>PID</td>
<td>进程的 ID</td>
</tr>
<tr>
<td>USER</td>
<td>进程的优先级</td>
</tr>
<tr>
<td>PR</td>
<td>进程的优先级</td>
</tr>
<tr>
<td>NI</td>
<td>进程的谦让度值</td>
</tr>
<tr>
<td>VIRT</td>
<td>进程占用的虚拟内存总量</td>
</tr>
<tr>
<td>RES</td>
<td>进程占用的物理内存总量</td>
</tr>
<tr>
<td>SHR</td>
<td>进程和其他进程共享的内存总量</td>
</tr>
<tr>
<td>S</td>
<td>进程的状态（D=可中断的休眠状态，R 在运行状态，S 休眠状态，T 跟踪状态或停止状态，Z=僵化状态）</td>
</tr>
<tr>
<td>%CPU</td>
<td>进程使用的 CPU 时间比例</td>
</tr>
<tr>
<td>%MEM</td>
<td>进程使用的内存占可用内存的比例</td>
</tr>
<tr>
<td>TIME+</td>
<td>自进程启动到目前为止的 CPU 时间总量</td>
</tr>
<tr>
<td>COMMAND</td>
<td>进程所对应的命令行名称，也就是启动的程序名</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 实时监听进程变化</span>
</span></span><span class="line"><span class="cl"><span class="c1">#  PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND</span>
</span></span><span class="line"><span class="cl"><span class="c1">#    1 root      20   0  125124   3612   2428 S  0.0  0.2   0:04.88 systemd</span>
</span></span><span class="line"><span class="cl">$ top
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示2条</span>
</span></span><span class="line"><span class="cl">$ top -n <span class="m">2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示指定的进程信息</span>
</span></span><span class="line"><span class="cl">$ top -pid &lt;pid&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看进程所有的线程</span>
</span></span><span class="line"><span class="cl">$ top -H -p &lt;pid&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="netstat">netstat</h2>
<p>查看网络系统状态信息</p>
<p><strong>参数说明：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>a 或&ndash;all</td>
<td>显示所有连线中的 Socket</td>
</tr>
<tr>
<td>A&lt;网络类型&gt;或&ndash;&lt;网络类型&gt;</td>
<td>列出该网络类型连线中的相关地址</td>
</tr>
<tr>
<td>c 或&ndash;continuous</td>
<td>持续列出网络状态</td>
</tr>
<tr>
<td>C 或&ndash;cache</td>
<td>显示路由器配置的快取信息</td>
</tr>
<tr>
<td>e 或&ndash;extend</td>
<td>显示网络其他相关信息</td>
</tr>
<tr>
<td>F 或&ndash;fib</td>
<td>显示 FIB</td>
</tr>
<tr>
<td>g 或&ndash;groups</td>
<td>显示多重广播功能群组组员名单</td>
</tr>
<tr>
<td>h 或&ndash;help</td>
<td>在线帮助</td>
</tr>
<tr>
<td>i 或&ndash;interfaces</td>
<td>显示网络界面信息表单</td>
</tr>
<tr>
<td>l 或&ndash;listening</td>
<td>显示监控中的服务器的 Socket</td>
</tr>
<tr>
<td>M 或&ndash;masquerade</td>
<td>显示伪装的网络连线</td>
</tr>
<tr>
<td>n 或&ndash;numeric</td>
<td>直接使用 IP 地址，而不通过域名服务器</td>
</tr>
<tr>
<td>N 或&ndash;netlink 或&ndash;symbolic</td>
<td>显示网络硬件外围设备的符号连接名称</td>
</tr>
<tr>
<td>o 或&ndash;timers</td>
<td>显示计时器</td>
</tr>
<tr>
<td>p 或&ndash;programs</td>
<td>显示正在使用 Socket 的程序识别码和程序名称</td>
</tr>
<tr>
<td>r 或&ndash;route</td>
<td>显示 Routing Table</td>
</tr>
<tr>
<td>s 或&ndash;statistics</td>
<td>显示网络工作信息统计表</td>
</tr>
<tr>
<td>t 或&ndash;tcp</td>
<td>显示 TCP 传输协议的连线状况</td>
</tr>
<tr>
<td>u 或&ndash;udp</td>
<td>显示 UDP 传输协议的连线状况</td>
</tr>
<tr>
<td>v 或&ndash;verbose</td>
<td>显示指令执行过程</td>
</tr>
<tr>
<td>V 或&ndash;version</td>
<td>显示版本信息</td>
</tr>
<tr>
<td>w 或&ndash;raw</td>
<td>显示 RAW 传输协议的连线状况</td>
</tr>
<tr>
<td>x 或&ndash;unix</td>
<td>此参数的效果和指定&quot;-A unix&quot;参数相同</td>
</tr>
<tr>
<td>-ip 或&ndash;inet</td>
<td>此参数的效果和指定&quot;-A inet&quot;参数相同</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 列出所有占用端口</span>
</span></span><span class="line"><span class="cl">$ netstat -ntlp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示所有网络状况</span>
</span></span><span class="line"><span class="cl">$ netstat -a
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示所有tcp网络状况</span>
</span></span><span class="line"><span class="cl">$ netstat -at
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示所有udp网络状况</span>
</span></span><span class="line"><span class="cl">$ netstat -au
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 配合grep命令查看某个端口被占用情况</span>
</span></span><span class="line"><span class="cl">$ netstat -ap <span class="p">|</span> grep <span class="m">8080</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="kill">kill</h2>
<p>结束程序，kill 命令只支持进程 id 杀死，不支持进程名称。</p>
<h4 id="进程信号">进程信号</h4>
<table>
<thead>
<tr>
<th>信号</th>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>HUP</td>
<td>挂起</td>
</tr>
<tr>
<td>2</td>
<td>INT</td>
<td>中断</td>
</tr>
<tr>
<td>3</td>
<td>QUIT</td>
<td>结束运行</td>
</tr>
<tr>
<td>9</td>
<td>KILL</td>
<td>无条件终止</td>
</tr>
<tr>
<td>11</td>
<td>SEGV</td>
<td>段错误</td>
</tr>
<tr>
<td>15</td>
<td>TERM</td>
<td>尽可能终止</td>
</tr>
<tr>
<td>17</td>
<td>STOP</td>
<td>无条件停止运行，但不终止</td>
</tr>
<tr>
<td>18</td>
<td>TSTP</td>
<td>停止或暂停，但继续在后台运行</td>
</tr>
<tr>
<td>19</td>
<td>CONT</td>
<td>在 STOP 或 TSTP 之后恢复执行</td>
</tr>
</tbody>
</table>
<p>注：程序进程 id 可通过 <code>top</code> 等命令查看。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 杀死 pid 为88 进程，不带参数默认等价 kill -15</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">kill</span> <span class="m">88</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 无条件终止进程，以下是等价，可以用进程名称信号</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">kill</span> -KILL <span class="m">88</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">kill</span> -9 <span class="m">88</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示信号</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">kill</span> -l
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 杀死指定用户的所有进程</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">kill</span> -u nginx
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="killall">killall</h2>
<p>杀死进程，可以杀死多个进程，比 <code>kill</code> 要强大, 支持通过进程名称杀死, 还支持通配符。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 杀死以tcp进程名称开头的所有进程</span>
</span></span><span class="line"><span class="cl">$ killall tcp*
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h1 id="4-用户管理">4: 用户管理</h1>
<h2 id="useradd">useradd</h2>
<p>给系统添加新用户</p>
<p>注：</p>
<ul>
<li>在创建新用户时如果不指定具体的值，就会使用系统那些默认值。</li>
<li>在创建新用户时如果未指定密码，需要使用 <code>passwd</code> 命令进行更改。</li>
</ul>
<h4 id="useradd-命令行参数">useradd 命令行参数</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c comment</td>
<td>给新用户添加备注</td>
</tr>
<tr>
<td>-d home_dir</td>
<td>为主目录指定一个名字（如果不想用登录名作为主目录名的话）</td>
</tr>
<tr>
<td>-e expire_date</td>
<td>用 YYYY-MM-DD 格式指定一个账户过期的日期</td>
</tr>
<tr>
<td>-f inactive_days</td>
<td>指定这个账户密码过期后多少天这个账户被禁用；0 表示密码已过期就立即禁用，1 表示禁用这个功能</td>
</tr>
<tr>
<td>-g initial_group</td>
<td>指定用户登录组的 GID 或组名</td>
</tr>
<tr>
<td>-G group</td>
<td>指定用户除登录组之外所属的一个或多个附加组</td>
</tr>
<tr>
<td>-k</td>
<td>必须和-m 一起使用，将/etc/skel 目录的内容复制到用户的 HOME 目录</td>
</tr>
<tr>
<td>-m</td>
<td>创建用户的 HOME 目录</td>
</tr>
<tr>
<td>-M</td>
<td>不创建用户的 HOME 目录（当默认设置里要求创建时才使用这个选项）</td>
</tr>
<tr>
<td>-n</td>
<td>创建一个与用户登录名同名的新租</td>
</tr>
<tr>
<td>-r</td>
<td>创建系统账户</td>
</tr>
<tr>
<td>-p passwd</td>
<td>为用户账户指定默认密码 (需要使用 openssl 把明文进行加密后设置，否则无效)</td>
</tr>
<tr>
<td>-s shell</td>
<td>指定默认的登录 shell</td>
</tr>
<tr>
<td>-u uid</td>
<td>为账户指定唯一的 UID</td>
</tr>
</tbody>
</table>
<h4 id="更改默认值参数">更改默认值参数</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b default_home</td>
<td>更改默认的创建用户 HOME 目录的位置</td>
</tr>
<tr>
<td>-e expiration_date</td>
<td>更改默认的心账户的过期日期</td>
</tr>
<tr>
<td>-f inactive</td>
<td>更改默认的心用户从密码过期到账户被禁用的天数</td>
</tr>
<tr>
<td>-g group</td>
<td>更改默认的组名称或 GID</td>
</tr>
<tr>
<td>-s shell</td>
<td>更改默认的登录 shell</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># -D, 查看默认值</span>
</span></span><span class="line"><span class="cl">$ useradd -D
</span></span><span class="line"><span class="cl"><span class="c1"># 输出：</span>
</span></span><span class="line"><span class="cl"><span class="nv">GROUP</span><span class="o">=</span><span class="m">100</span>                <span class="c1"># 新用户会被添加到GID为100的公共组</span>
</span></span><span class="line"><span class="cl"><span class="nv">HOME</span><span class="o">=</span>/home               <span class="c1"># 新用户的HOME目录将位于 /home/loginname</span>
</span></span><span class="line"><span class="cl"><span class="nv">INACTIVE</span><span class="o">=</span>-1              <span class="c1"># 新用户账户密码在过期后不会被禁用</span>
</span></span><span class="line"><span class="cl"><span class="nv">EXPIRE</span><span class="o">=</span>                  <span class="c1"># 新用户账户未被设置过期日期</span>
</span></span><span class="line"><span class="cl"><span class="nv">SHELL</span><span class="o">=</span>/bin/bash          <span class="c1"># 新用户账户将bash shell作为默认shell</span>
</span></span><span class="line"><span class="cl"><span class="nv">SKEL</span><span class="o">=</span>/etc/skel           <span class="c1"># 系统会将/etc/skel目录下的内容复制到用户的HOME目录下</span>
</span></span><span class="line"><span class="cl"><span class="nv">CREATE_MAIL_SPOOL</span><span class="o">=</span>yes    <span class="c1"># 系统为该用户账户在mail目录下创建一个用于接收邮件的文件</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 创建一个 test 用户, -m 创建 /home/test 目录</span>
</span></span><span class="line"><span class="cl">$ useradd -m <span class="nb">test</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 创建一个用户并设置密码</span>
</span></span><span class="line"><span class="cl">$ useradd -m <span class="nb">test</span> <span class="c1"># 不指定-p，因为需要加密那样很麻烦</span>
</span></span><span class="line"><span class="cl">$ passwd <span class="nb">test</span> <span class="c1"># 通过passwd修改指定用户密码</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>添加新用户后可以执行 <code>cat /etc/passwd</code> 查看用户列表。</p>
<h2 id="userdel">userdel</h2>
<p>删除用户</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 删除用户，默认会从 /etc/passwd 文件中删除用户信息，而不会删除系统中属于该账户的任何文件</span>
</span></span><span class="line"><span class="cl">$ userdel 用户名
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -r 用来删除用户目录， 之前创建的 /home/用户名 就不存在了, 使用-r参数需要小心，要检查是否有重要文件。</span>
</span></span><span class="line"><span class="cl">$ userdel -r 用户名
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="passwd">passwd</h2>
<p>修改用户密码, 只有 <code>root</code> 用户才有权限修改别人的密码。</p>
<p>使用 <code>passwd</code> 一般用于修改单个用户密码，如果想批量修改那么需要 <code>chpasswd</code> 命令。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 如果不指定用户名，修改的是自己当前用户密码， 回车后输入新密码</span>
</span></span><span class="line"><span class="cl">$ passwd
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 修改指定用户密码，比如test用户</span>
</span></span><span class="line"><span class="cl">$ passwd <span class="nb">test</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="chpasswd">chpasswd</h2>
<p>类似 <code>passwd</code> 命令也是用于修改用户密码，但它支持批量修改用户。</p>
<p><code>chpasswd</code> 命令从标准输入自动读取登录名和密码对（由冒号分割）列表，给密码加密。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 利用输入重定向从文本中读取</span>
</span></span><span class="line"><span class="cl">$ chpasswd &lt; users.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 从标准输入读取</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="s1">&#39;test:fff33300..a&#39;</span> <span class="p">|</span> chpasswd
</span></span></code></pre></td></tr></table>
</div>
</div><p>user.txt 内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">test:helloworld0123..
</span></span><span class="line"><span class="cl">test1:fff33300..
</span></span><span class="line"><span class="cl">admin:youyouyou00..11
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="chsh">chsh</h2>
<p><code>chsh</code> 命令用于修改默认用户登录 shell。</p>
<p>修改后重新启动 Shell 即可生效（exit/logout），或重新启动系统。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 必须使用完整路径，不能使用shell名</span>
</span></span><span class="line"><span class="cl">$ chsh -s /bin/zsh
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看当前 <code>Shell</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="nv">$SHELL</span> <span class="c1"># /bin/zsh</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>列出当前所有已安装的 Shell</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cat /etc/shells
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># /bin/bash</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /bin/csh</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /bin/dash</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /bin/ksh</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /bin/sh</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /bin/tcsh</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /bin/zsh</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="chfn">chfn</h2>
<p>主要用于更改账号的个人信息。这些信息保存在 <code>/etc/passwd</code> 下。</p>
<p>默认情况下如果不提供参数将进入问答式逐一设置。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f</td>
<td>真实姓名</td>
</tr>
<tr>
<td>-h</td>
<td>家中电话</td>
</tr>
<tr>
<td>-o</td>
<td>办公地址</td>
</tr>
<tr>
<td>-p</td>
<td>办公室电话</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 修改 root 账号信息</span>
</span></span><span class="line"><span class="cl">$ chfn root
</span></span><span class="line"><span class="cl"><span class="c1"># Changing finger information for root.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Name [xiejiahe]:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Office [ZhuHai]:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Office Phone [13xxxxxxxxx]:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Home Phone [13xxxxxxxxx]:</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="修改真实姓名">修改真实姓名</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ chfn -f root
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="usermod">usermod</h2>
<p><code>usermod</code> 命令是用于账号修改工具中最强大的一个，它能用来修改 <code>/etc/passwd</code> 文件中的大部分字段。</p>
<p>注意：确保需要修改的用户已下线。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>修改用户账号的登录名</td>
</tr>
<tr>
<td>-p</td>
<td>修改账号的密码</td>
</tr>
<tr>
<td>-L</td>
<td>锁定账号，使用户无法登录</td>
</tr>
<tr>
<td>-U</td>
<td>解除锁定，使用户能登录</td>
</tr>
<tr>
<td>-l</td>
<td>修改用户账号的登录名</td>
</tr>
<tr>
<td>-d</td>
<td>修改用户登录时的目录</td>
</tr>
<tr>
<td>-c</td>
<td>修改用户备注信息</td>
</tr>
<tr>
<td>-s</td>
<td>修改用户登录时默认 shell</td>
</tr>
<tr>
<td>-u</td>
<td>修改用户的 UID</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将 root 登录名修改为 root123</span>
</span></span><span class="line"><span class="cl">$ usermod -l root root123
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 锁定 test 账号</span>
</span></span><span class="line"><span class="cl">$ usermod -L <span class="nb">test</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 当用户登录时目录为 /etc 下</span>
</span></span><span class="line"><span class="cl">$ usermod -d /etc root
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 修改UID</span>
</span></span><span class="line"><span class="cl">$ usermod -u <span class="m">888</span> root
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="users">users</h2>
<p>显示当前登录系统的所有用户的用户列表</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ users
</span></span><span class="line"><span class="cl"><span class="c1"># xiejiahe</span>
</span></span><span class="line"><span class="cl"><span class="c1"># root</span>
</span></span><span class="line"><span class="cl"><span class="c1"># admin</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="who">who</h2>
<p>显示当前所有用户登录信息</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 显示当前登录系统的用户</span>
</span></span><span class="line"><span class="cl">$ who
</span></span><span class="line"><span class="cl">xiejiahe console  Jun <span class="m">15</span> 21:38
</span></span><span class="line"><span class="cl">xiejiahe ttys001  Jun <span class="m">15</span> 21:44
</span></span><span class="line"><span class="cl">xiejiahe ttys002  Jun <span class="m">15</span> 21:44
</span></span><span class="line"><span class="cl">xiejiahe ttys003  Jun <span class="m">15</span> 21:44
</span></span><span class="line"><span class="cl">xiejiahe ttys004  Jun <span class="m">15</span> 21:44
</span></span><span class="line"><span class="cl">xiejiahe ttys005  Jun <span class="m">15</span> 21:44
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示登录账号名和总人数</span>
</span></span><span class="line"><span class="cl">$ who -q
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示上次系统启动时间</span>
</span></span><span class="line"><span class="cl">$ who -b  <span class="c1"># reboot   ~        Jun 15 21:38</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="w">w</h2>
<p>查看当前登入系统的用户信息, 有哪些用户正在登陆, 以及他们正在执行的程序。</p>
<p>此命令与 <code>who</code> 相似，默认情况下比 <code>who</code> 命令输出内容更详细。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ w
</span></span><span class="line"><span class="cl"><span class="c1"># 输出</span>
</span></span><span class="line"><span class="cl"> 22:44:33 up <span class="m">748</span> days, 14:16,  <span class="m">1</span> user,  load average: 0.04, 0.03, 0.05
</span></span><span class="line"><span class="cl">USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
</span></span><span class="line"><span class="cl">root     pts/0    183.11.111.11    22:40    1.00s  0.03s  0.00s w
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="last">last</h2>
<p>显示用户最近登录信息</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ last <span class="c1"># root     pts/0        183.58.247.64    Sun Jan  5 13:57 - 14:28  (00:30)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 指定显示条目数</span>
</span></span><span class="line"><span class="cl">$ last -n <span class="m">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="su">su</h2>
<p>切换到其他用户。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 切换到 root 身份</span>
</span></span><span class="line"><span class="cl">$ su -
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 切换到 admin 身份</span>
</span></span><span class="line"><span class="cl">$ su admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -c 执行完指令后切换回原身份</span>
</span></span><span class="line"><span class="cl">$ su -c ls admin
</span></span></code></pre></td></tr></table>
</div>
</div><p>可以通过以下指令查找当前系统用户列表</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cat /etc/passwd
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="whoami">whoami</h2>
<p>显示自身的用户名称, 此命令等价于 <code>id -un</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ whoami
</span></span><span class="line"><span class="cl"><span class="c1"># root</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h1 id="5-环境变量">5: 环境变量</h1>
<h2 id="printenv">printenv</h2>
<p>列出全局环境变量, 有个 <code>env</code> 命令很像，但 <code>printenv</code> 可以打印变量的值。</p>
<p>普及：所有系统环境变量都是大写字母，用于区分普通用户的环境变量。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 列出所有全局环境变量</span>
</span></span><span class="line"><span class="cl">$ printenv
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 也可以显示指定全局环境变量的值, 等价于 echo $HOME</span>
</span></span><span class="line"><span class="cl">$ printenv HOME <span class="c1"># /root</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="set">set</h2>
<p>列出所有全局变量、局部变量和普通用户定义的变量，按照字母顺序对结果进行排序。</p>
<p>注意：所有系统全局变量都是大写，用户定义的环境变量全部采用小写，这是标准规范。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ <span class="nb">set</span>
</span></span><span class="line"><span class="cl"><span class="c1"># OPTIND=1</span>
</span></span><span class="line"><span class="cl"><span class="c1"># OSTYPE=linux-gnu</span>
</span></span><span class="line"><span class="cl"><span class="c1"># PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span>
</span></span><span class="line"><span class="cl"><span class="c1"># PIPESTATUS=([0]=&#34;0&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ...</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="export">export</h2>
<p>导出环境变量, 可以把一个局部变量导出成全局环境变量</p>
<p>注意：export 只有在当前 Shell 有效，退出后将失效</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 先声明一个局部环境变量</span>
</span></span><span class="line"><span class="cl">$ <span class="nv">my_var</span><span class="o">=</span><span class="s1">&#39;Hello&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 然后将其导出全局环境变量</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> my_var
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="unset">unset</h2>
<p>删除环境变量</p>
<p>注意：unset 只在当前 shell 删除环境变量，假如环境变量设置在 <code>~/.bash_profile</code> 等文件中用户重新启动依然生效。如果是在子进程删除全局环境变量只在子进程有效，不会影响父进程。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 删除 HOME 环境变量，前面不需要带 $ 符号</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">unset</span> HOME
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h1 id="6-压缩解压">6: 压缩、解压</h1>
<h2 id="zip">zip</h2>
<p>归档数据，将目录或文件归档为 <code>.zip</code> 格式， zip 不是 Linux 中的标准归档工具, 是为了支持 windows 而存在。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 归档文件</span>
</span></span><span class="line"><span class="cl">$ zip README.zip README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 归档目录需要 -r 递归处理</span>
</span></span><span class="line"><span class="cl">$ zip -r temp.zip temp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -S 包含系统隐藏文件</span>
</span></span><span class="line"><span class="cl">$ zip -r -S temp.zip temp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 指定归档效率 1-9</span>
</span></span><span class="line"><span class="cl">$ zip -r -9 temp.zip temp
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -j 消除文件夹, 这样解压后只有 README.md 文件而不是带有 src 文件夹</span>
</span></span><span class="line"><span class="cl">$ zip -j temp.zip src/README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="unzip">unzip</h2>
<p>提取 <code>zip</code> 归档的文件或目录</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将 demo.zip 提取到当前目录下</span>
</span></span><span class="line"><span class="cl">$ unzip demo.zip
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 列表 demo.zip 文件内容，但不提取</span>
</span></span><span class="line"><span class="cl">$ unzip -v demo.zip
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -d 指定将文件提取到 src 目录下</span>
</span></span><span class="line"><span class="cl">$ unzip demo.zip -d src
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="gzip">gzip</h2>
<p>GNU 压缩/解压工具，用 Lempel-Ziv 编码，格式为 <code>.gz</code>, 压缩后原文件将被删除</p>
<p>注意：gzip 不能用于压缩整个目录, 只能用于压缩一个文件, 如果需要压缩整个目录可以考虑使用 <a href="#zip">zip</a> 命令。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 压缩 README.md 文件, 压缩完成后 README.md 文件会被删除</span>
</span></span><span class="line"><span class="cl">$ gzip README.md <span class="c1"># README.md.gz</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 递归压缩目录下的所有文件, 每个文件都会被压缩为 .gz 然后删除</span>
</span></span><span class="line"><span class="cl">$ gzip -r ./logs
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 加 -v 显示压缩执行过程</span>
</span></span><span class="line"><span class="cl">$ gzip -rv ./logs
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 压缩 .tar 后缀文件</span>
</span></span><span class="line"><span class="cl">$ gzip -r src.tar  <span class="c1"># 压缩后为 src.tar.gz</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -d 解压gzip压缩后的文件，解压后 .gz 文件会被删除</span>
</span></span><span class="line"><span class="cl">$ gzip -d README.md.gz
</span></span><span class="line"><span class="cl">$ gzip -dr ./logs <span class="c1"># 或者递归解压目录下所有 .gz</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="bzip2">bzip2</h2>
<p>采用 Burrows-Wheeler 块排序文本压缩算法和霍夫曼编码，将文件压缩成 <code>.bz2</code> 格式，也可用于解压 <code>.bz2</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 压缩 README.md 文件</span>
</span></span><span class="line"><span class="cl">$ bzip2 README.md     <span class="c1"># 不保留源文件 README.md.bz2</span>
</span></span><span class="line"><span class="cl">$ bzip2 -k README.md  <span class="c1"># -k 保留源文件</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 解压</span>
</span></span><span class="line"><span class="cl">$ bzip2 -d README.md.bz2  <span class="c1"># 源文件将被删除</span>
</span></span><span class="line"><span class="cl">$ bzip2 -dk README.md.bz2  <span class="c1"># -k 保留源文件</span>
</span></span><span class="line"><span class="cl">$ bzip -dt README.md.bz2 <span class="c1"># -t --test 测试解压, 实际不解压，模拟整个解压过程</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="tar">tar</h2>
<p>归档数据，是 Linux 中标准归档工具。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-A</td>
<td>将一个已有 tar 归档文件追加到另一个已有 tar 归档文件</td>
</tr>
<tr>
<td>-c</td>
<td>创建一个新的 tar 归档文件</td>
</tr>
<tr>
<td>-d</td>
<td>检查归档文件和文件系统的不同之处</td>
</tr>
<tr>
<td>-r</td>
<td>追加文件到已有 tar 归档文件结尾</td>
</tr>
<tr>
<td>-t</td>
<td>列出已有 tar 归档文件的内容</td>
</tr>
<tr>
<td>-u</td>
<td>将比 tar 归档文件中已有的同名文件新的文件追加到该 tar 归档文件中</td>
</tr>
<tr>
<td>-x</td>
<td>从已有的 tar 归档文件中提取文件</td>
</tr>
<tr>
<td>-f</td>
<td>输出结果到文件或设备 file</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># -c 创建一个归档文件</span>
</span></span><span class="line"><span class="cl">$ tar -cvf demo.tar src/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -x 提取归档文件内容</span>
</span></span><span class="line"><span class="cl">$ tar -xvf demo.tar
</span></span><span class="line"><span class="cl">$ tar -xvf demo.tar.gz <span class="c1"># tar命令是可以提取 gzip 压缩后的文件</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h1 id="7-加解密">7: 加解密</h1>
<h2 id="md5sum">md5sum</h2>
<p>计算和校验文件报文摘要</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 计算文件md5</span>
</span></span><span class="line"><span class="cl">$ mmd5sum README.md <span class="c1"># d41d8cd98f00b204e9800998ecf8427e  README.md</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 校验文件, 查看文件是否被篡改过</span>
</span></span><span class="line"><span class="cl">$ md5sum README.md &gt; README.md5 <span class="c1"># 计算文件md5并保存在 README.md5 , 保存的文件名和后缀可以随意命名</span>
</span></span><span class="line"><span class="cl">$ md5sum -c README.md5 <span class="c1"># -c 从指定的文件读取md5并校验, 会从当前目录寻找 README.md</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="base64">base64</h2>
<p>base64 编码/解码文件或标准输入输出</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 编码字符串</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">printf</span> <span class="s2">&#34;hello world&#34;</span><span class="p">|</span>base64 <span class="c1"># aGVsbG8gd29ybGQ=</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 解码字符串</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">printf</span> <span class="nv">aGVsbG8gd29ybGQ</span><span class="o">=</span><span class="p">|</span>base64 -d <span class="c1"># hello world</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 编码文件, 将结果保存在 decode.txt</span>
</span></span><span class="line"><span class="cl">$ base64 README.md &gt; decode.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 从标准输入中读取已经进行base64编码的内容进行解码</span>
</span></span><span class="line"><span class="cl">$ base64 -d decode.txt
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h1 id="8-网络">8: 网络</h1>
<h2 id="ssh">ssh</h2>
<p>远程连接服务器工具</p>
<p>命令：<code>ssh [-p port] [user@]hostname [command]</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 最简单的连接方式</span>
</span></span><span class="line"><span class="cl">$ ssh root@192.168.0.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 指定端口号连接</span>
</span></span><span class="line"><span class="cl">$ ssh -p <span class="m">23</span> root@192.168.0.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 执行远程服务器命令, 比如创建目录</span>
</span></span><span class="line"><span class="cl">$ ssh root@192.168.0.0 <span class="s2">&#34;mkdir -p /home/test&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 在远程服务器执行本地脚本</span>
</span></span><span class="line"><span class="cl">$ ssh root@192.168.0.0 &lt; shell.sh
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="wget">wget</h2>
<p>用于从网络下载文件到本地</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 下载某个文件</span>
</span></span><span class="line"><span class="cl">$ wget https://www.xiejiahe.com/robots.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 指定下载后文件名</span>
</span></span><span class="line"><span class="cl">$ wget -O ro.txt https://www.xiejiahe.com/robots.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 断开续传，一般用于大文件，防止重新下载</span>
</span></span><span class="line"><span class="cl">$ wget -c https://www.xiejiahe.com/robots.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 使用后台下载, 对于大文件非常有用</span>
</span></span><span class="line"><span class="cl">$ wget -b https://www.xiejiahe.com/robots.txt
</span></span><span class="line"><span class="cl">$ tail -f wget-log   <span class="c1"># 查看后台下载进度</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="curl">curl</h2>
<p><code>curl</code> 是一个非常强大的网络传输工具, 利用 URL 规则在命令行下工作的文件传输工具。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-s, &ndash;silent</td>
<td>不输出错误和进度信息, 只显示正常结果</td>
</tr>
<tr>
<td>-o, &ndash;output</td>
<td>将结果输出到文件中</td>
</tr>
<tr>
<td>-O, &ndash;remote-name</td>
<td>下载文件到本地，并将 URL 最后部分当做文件名</td>
</tr>
<tr>
<td>-L</td>
<td>HTTP 请求跟随服务器重定向</td>
</tr>
<tr>
<td>-I, &ndash;head</td>
<td>显示 HTTP 响应报文</td>
</tr>
<tr>
<td>-H</td>
<td>设置请求头</td>
</tr>
<tr>
<td>-X</td>
<td>指定 HTTP 请求方法，大写字母</td>
</tr>
<tr>
<td>-d</td>
<td>HTTP 请求实体内容</td>
</tr>
<tr>
<td>&ndash;cookie</td>
<td>指定发送 cookie</td>
</tr>
<tr>
<td>-v</td>
<td>打印整个传输过程</td>
</tr>
<tr>
<td>-F, &ndash;form</td>
<td>上传文件</td>
</tr>
<tr>
<td>-u</td>
<td>指定用户名密码授权</td>
</tr>
<tr>
<td>&ndash;progress</td>
<td>显示进度条</td>
</tr>
<tr>
<td>-f, &ndash;fail</td>
<td>连接失败时不显示 http 错误</td>
</tr>
<tr>
<td>&ndash;retry</td>
<td>请求重试</td>
</tr>
</tbody>
</table>
<p>注意：参数不分前后</p>
<h3 id="不传递任何参数只打印-http-响应内容">不传递任何参数只打印 HTTP 响应内容</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl https://github.com/xjh22222228/linux-manual
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-s-不输出错误和进度信息-只显示正常结果">-s 不输出错误和进度信息, 只显示正常结果</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl -s https://github.com/xjh22222228/linux-manual
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-o-指定文件名下载到本地等价于-wget">-o 指定文件名下载到本地，等价于 wget</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将响应内容保存到 1.txt 文件</span>
</span></span><span class="line"><span class="cl">$ curl https://github.com/xjh22222228/linux-manual -o 1.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-o-下载文件到本地-并将-url-最后部分当做文件名">-O 下载文件到本地, 并将 URL 最后部分当做文件名</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 文件名为 linux-manual</span>
</span></span><span class="line"><span class="cl">$ curl https://github.com/xjh22222228/linux-manual -O
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="--progress-显示进度条">&ndash;progress 显示进度条</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl https://github.com/xjh22222228/linux-manual --progress
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-l-http-请求跟随服务器重定向">-L HTTP 请求跟随服务器重定向</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl -L https://github.com/xjh22222228/linux-manual
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-i-或---head-显示-http-响应报文-不打印响应内容">-I 或 &ndash;head 显示 HTTP 响应报文, 不打印响应内容</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl -I https://github.com/xjh22222228/linux-manual
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-h-设置请求头">-H 设置请求头</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl -H <span class="s1">&#39;Content-Type: application/json&#39;</span> -H <span class="s1">&#39;Content-Type: application/json&#39;</span> https://github.com/xjh22222228/linux-manual
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-x-指明-http-请求方法">-X 指明 HTTP 请求方法</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl -X POST https://github.com/xjh22222228/linux-manual
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-d-要发送的实体内容">-d 要发送的实体内容</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl -X POST -d <span class="s1">&#39;{&#34;key&#34;:&#34;value&#34;}&#39;</span> https://github.com/xjh22222228/linux-manual
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="--cookie-http-请求时携带的-cookie-信息">&ndash;cookie HTTP 请求时携带的 cookie 信息</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl --cookie <span class="s2">&#34;age=18;name=xjh&#34;</span> https://github.com/xjh22222228/linux-manual
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-v-打印整个传输过程">-v 打印整个传输过程</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl -v https://github.com/xjh22222228/linux-manual
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-f-上传文件默认以-post-方法请求">-F 上传文件，默认以 POST 方法请求</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># file 是字段名, =@ 必须存在</span>
</span></span><span class="line"><span class="cl">$ curl https://example.com/upload -F <span class="s2">&#34;file=@/home/demo.png&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="-u-请求授权">-u 请求授权</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl -u root:password ftp://demo/README.md
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="--retry-请求重试">&ndash;retry 请求重试</h3>
<p>请求失败时设置重试次数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ curl http://example.com --retry <span class="m">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="scp">scp</h2>
<p>加密的方式在本地主机和远程主机之间复制文件</p>
<p>注：需要有读写权限，否则会无法操作。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 从远程主机下载文件到本地</span>
</span></span><span class="line"><span class="cl">$ scp root@192.168.0.100:/root/file.zip /home/file.zip
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 从远程主机下载目录到本地，需要 -r 递归</span>
</span></span><span class="line"><span class="cl">$ scp -r root@192.168.0.100:/root/dir  /home/dir
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 从本地主机上传文件到远程主机</span>
</span></span><span class="line"><span class="cl">$ scp /home/file.zip root@192.168.0.100:/root/file.zip
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># # 从本地主机上传目录到远程主机，需要 -r 递归</span>
</span></span><span class="line"><span class="cl">$ scp -r /home/dir root@192.168.0.100:/root/dir
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="rsync">rsync</h2>
<p><code>rsync</code> 命令是一个远程数据同步工具，可通过 LAN/WAN 快速同步多台主机间的文件。rsync 使用所谓的“rsync 算法”来使本地和远程两个主机之间的文件达到同步，这个算法只传送两个文件的不同部分，而不是每次都整份传送，因此速度相当快。</p>
<p><code>rsync</code> 非常强大，可以用来替代 <code>cp</code> / <code>mv</code> / <code>scp</code> 等命令。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-r</td>
<td>递归拷贝子目录</td>
</tr>
<tr>
<td>-a</td>
<td>递归拷贝子目录，但同步元数据信息，比如修改时间，创建时间，权限等</td>
</tr>
<tr>
<td>-n</td>
<td>模拟执行结果</td>
</tr>
<tr>
<td>-v</td>
<td>显示执行过程</td>
</tr>
<tr>
<td>-z</td>
<td>压缩传输</td>
</tr>
<tr>
<td>&ndash;exclude</td>
<td>排除文件</td>
</tr>
<tr>
<td>&ndash;include</td>
<td>包含文件</td>
</tr>
<tr>
<td>&ndash;progress</td>
<td>显示传输进度信息</td>
</tr>
<tr>
<td>&ndash;link-dest</td>
<td>指定增量备份的基准目录</td>
</tr>
</tbody>
</table>
<p>source 有没有斜杠影响同步结果：</p>
<ul>
<li>有斜杠 - dst 目录下只有 source 文件</li>
<li>无斜杠 - dst 目录包含 source 目录</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 无斜杠, dst 目录下只有 source目录</span>
</span></span><span class="line"><span class="cl">$ rsync -r <span class="nb">source</span> dst
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 有斜杠, dst 目录下包含 source 所有文件，没有source目录</span>
</span></span><span class="line"><span class="cl">$ rsync -r source/ dst
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="本地同步文件">本地同步文件</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># -r 表示递归拷贝子目录，将 source 拷贝到 dst 目录下</span>
</span></span><span class="line"><span class="cl">$ rsync -r <span class="nb">source</span> dst <span class="c1"># dst 目录下就有 source</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 可以将多个source 拷贝到指定目录下</span>
</span></span><span class="line"><span class="cl">$ rsync -r source1 source2 dst
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -a替代-r, 同步元数据信息，比如修改时间，创建时间，权限等</span>
</span></span><span class="line"><span class="cl">$ rsync -a <span class="nb">source</span> dst
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="远程同步文件">远程同步文件</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 本地同步到远程, 本地 docs 目录同步到远程 home/docs 下</span>
</span></span><span class="line"><span class="cl">$ rsync -rv ~/docs root@192.168.0.0:/home/docs
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 远程同步到本地, 将远程 /home/docs 目录同步到本地 ~/docs 下</span>
</span></span><span class="line"><span class="cl">$ rsync -rv root@192.168.0.0:/home/docs ~/docs
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="增量备份">增量备份</h4>
<p><code>rsync</code> 最大的特点就是支持增量备份，所谓增量备份指的是只同步有变动的文件。</p>
<p><code>rsync</code> 默认就是增量备份的，但可以添加 <code>--link-dest</code> 参数指定基准目录进行比较，找出有变动的文件。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># --link-dest 后面跟着基准目录，然后会跟 source 进行一一比较，找出变动的文件进行同步</span>
</span></span><span class="line"><span class="cl">$ rsync -a --link-dest compare <span class="nb">source</span> dest
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="其他用法">其他用法</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 排除文件</span>
</span></span><span class="line"><span class="cl">$ rsync -r --exclude<span class="o">=</span><span class="s2">&#34;.git&#34;</span> <span class="nb">source</span> dst
</span></span><span class="line"><span class="cl"><span class="c1"># 大括号指定多个排除模式</span>
</span></span><span class="line"><span class="cl">$ rsync -r --exclude<span class="o">={</span><span class="s2">&#34;.git&#34;</span>, <span class="s2">&#34;.svn&#34;</span><span class="o">}</span> <span class="nb">source</span> dst
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 包含文件</span>
</span></span><span class="line"><span class="cl">$ rsync -r --include<span class="o">=</span><span class="s2">&#34;src/&#34;</span> <span class="nb">source</span> dst
</span></span><span class="line"><span class="cl"><span class="c1"># 大括号指定多个包含模式</span>
</span></span><span class="line"><span class="cl">$ rsync -r --include<span class="o">={</span><span class="s2">&#34;src/&#34;</span>, <span class="s2">&#34;tests/&#34;</span><span class="o">}</span> <span class="nb">source</span> dst
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h1 id="9-磁盘">9: 磁盘</h1>
<h2 id="df">df</h2>
<p>查看已挂载的磁盘使用情况。</p>
<h4 id="描述">描述</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>Filesystem</td>
<td>设备的设备位置文件</td>
</tr>
<tr>
<td>Size</td>
<td>能容纳多少个 1024 字节大小的块</td>
</tr>
<tr>
<td>Used</td>
<td>已用了多少个 1024 字节大小的块</td>
</tr>
<tr>
<td>Avail</td>
<td>还有多少个 1024 字节大小的块可用</td>
</tr>
<tr>
<td>Use%</td>
<td>已用空间所占的比例</td>
</tr>
<tr>
<td>Mounted on</td>
<td>设备挂载到了哪个挂载点上</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 显示每个有数据的已挂载文件系统</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Filesystem     1K-blocks    Used Available Use% Mounted on</span>
</span></span><span class="line"><span class="cl"><span class="c1"># /dev/vda1       41151808 1853208  37185168   5% /</span>
</span></span><span class="line"><span class="cl">$ df
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 格式化大小，以kb以上进行显示</span>
</span></span><span class="line"><span class="cl">$ df -h
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看全部文件系统信息</span>
</span></span><span class="line"><span class="cl">$ df -a
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="du">du</h2>
<p>显示文件或目录所占用的磁盘空间</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-m</td>
<td>以 mb 单位显示大小</td>
</tr>
<tr>
<td>-h</td>
<td>自动格式化单位，以 K, M, G 为单位</td>
</tr>
<tr>
<td>-s</td>
<td>只显示总大小，列出最后累计的值</td>
</tr>
<tr>
<td>-c</td>
<td>显示当前所有已列出文件总大小</td>
</tr>
<tr>
<td>-b</td>
<td>以 bytes 为单位显示大小</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 默认显示当前目录的所有文件、目录、和子目录的磁盘使用情况</span>
</span></span><span class="line"><span class="cl">$ du
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看指定文件所占用磁盘空间</span>
</span></span><span class="line"><span class="cl">$ du README.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看指定目录所占用磁盘空间, 输出的最后一行是累计总大小</span>
</span></span><span class="line"><span class="cl">$ du src
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -h 以K，M，G为单位，提高信息的可读性。</span>
</span></span><span class="line"><span class="cl">$ du -h src
</span></span><span class="line"><span class="cl">20K    src
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -s 只显示总大小，列出最后累计的值</span>
</span></span><span class="line"><span class="cl">$ du -s src
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示当前所有已列出文件总大小</span>
</span></span><span class="line"><span class="cl">$ du -c
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h1 id="10-包管理">10: 包管理</h1>
<h2 id="yum">yum</h2>
<p>基于 RPM 的软件包管理器, 特点安装快捷，命令简洁好记。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 安装</span>
</span></span><span class="line"><span class="cl">$ yum install 包名
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 指定 -y 安装时自动全部 yes</span>
</span></span><span class="line"><span class="cl">$ yum -y install 包名
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查找包</span>
</span></span><span class="line"><span class="cl">$ yum search 包名
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示所有已安装的包</span>
</span></span><span class="line"><span class="cl">$ yum list
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 升级包</span>
</span></span><span class="line"><span class="cl">$ yum update 包名
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 只删除软件包而保留配置文件和数据文件</span>
</span></span><span class="line"><span class="cl">$ yum remove 包名
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 删除软件和它的所有配置文件</span>
</span></span><span class="line"><span class="cl">$ yum erase 包名
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 清除缓存</span>
</span></span><span class="line"><span class="cl">$ yum clean all
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示安装包信息</span>
</span></span><span class="line"><span class="cl">$ yum info 包名
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 检查可更新的包程序</span>
</span></span><span class="line"><span class="cl">$ yum check-update
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="apt-get">apt-get</h2>
<p><code>apt-get命令</code> 是 Debian Linux 发行版中的 APT 软件包管理工具。所有基于 Debian 的发行都使用这个包管理系统。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 安装一个docker软件</span>
</span></span><span class="line"><span class="cl">$ apt-get install docker
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 卸载软件，保留配置文件</span>
</span></span><span class="line"><span class="cl">$ apt-get remove docker
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 卸载软件并删除配置文件</span>
</span></span><span class="line"><span class="cl">$ apt-get –purge remove docker
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 更新所有已安装的软件包</span>
</span></span><span class="line"><span class="cl">$ apt-get upgrade
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 删除软件备份，主要用来释放空间</span>
</span></span><span class="line"><span class="cl">$ apt-get clean
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h1 id="11-其他">11: 其他</h1>
<h2 id="目录名称含义">目录名称含义</h2>
<table>
<thead>
<tr>
<th>目录名</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td>虚拟目录的根目录，通常不会在这里存储文件</td>
</tr>
<tr>
<td>/bin</td>
<td>二进制目录，存放许多用户级的 GNU 工具</td>
</tr>
<tr>
<td>/boot</td>
<td>启动目录，存放启动文件</td>
</tr>
<tr>
<td>/dev</td>
<td>设备目录，Linux 在这里创建设备节点</td>
</tr>
<tr>
<td>/etc</td>
<td>系统配置文件目录</td>
</tr>
<tr>
<td>/home</td>
<td>主目录，Linux 在这里创建用户目录</td>
</tr>
<tr>
<td>/lib</td>
<td>库目录，存放系统和应用程序的库文件</td>
</tr>
<tr>
<td>/media</td>
<td>媒体目录，可移动媒体设备的常用挂载点</td>
</tr>
<tr>
<td>/mnt</td>
<td>挂载目录，另一个可移动媒体设备的常用挂载点</td>
</tr>
<tr>
<td>/opt</td>
<td>可选目录，常用于存放第三方软件包和数据文件</td>
</tr>
<tr>
<td>/proc</td>
<td>进程目录，存放现有硬件及当期进程的相关信息</td>
</tr>
<tr>
<td>/root</td>
<td>ROOT 用户的主目录</td>
</tr>
<tr>
<td>/sbin</td>
<td>系统二进制目录，存放许多 GNU 管理员级工具</td>
</tr>
<tr>
<td>/run</td>
<td>运行目录，存放系统运作时的运行时数据</td>
</tr>
<tr>
<td>/srv</td>
<td>服务目录，存放本地服务的相关文件</td>
</tr>
<tr>
<td>/sys</td>
<td>系统目录，存放系统硬件信息的相关文件</td>
</tr>
<tr>
<td>/tmp</td>
<td>临时目录，可以在该目录中创建和删除临时工作文件</td>
</tr>
<tr>
<td>/usr</td>
<td>用户二进制目录，大量用户级的 GNU 工具和数据文件都存储在这里(Unix Software Resource)</td>
</tr>
<tr>
<td>/var</td>
<td>可变目录，用以存放经常变化的文件，比如日志文件</td>
</tr>
</tbody>
</table>
<h2 id="重定向输入和输出">重定向输入和输出</h2>
<h4 id="输出重定向">输出重定向</h4>
<p>将命令输出的内容发送到一个文件中叫做 <code>输出重定向</code> 。 使用 <code>&gt;</code> 大于号。</p>
<p>下面展示了几个例子</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 例子一：</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="s2">&#34;Hello World&#34;</span> &gt; log.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 例子二：</span>
</span></span><span class="line"><span class="cl">$ ps -ef &gt; ps.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 例子三：</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">history</span> &gt; a.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p>有时不想覆盖文件而是追加内容，比如日志，可以使用 <code>&gt;&gt;</code> 2 个大于号。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="s2">&#34;H&#34;</span> &gt;&gt; log.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="输入重定向">输入重定向</h4>
<p>和输出重定向正好相反，将文件的内容定向到命令。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 统计input.txt文本行数</span>
</span></span><span class="line"><span class="cl">$ wc -l &lt; input.txt <span class="c1"># 等价于 wc -l input.txt</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>还有一种叫内联重定向，比较少见，但也挺有用。 使用 2 个 <code>&lt;&lt;</code> 小于号。然后跟着一个开头标记和结尾标记。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 统计行数，输出2</span>
</span></span><span class="line"><span class="cl">$ wc -l <span class="s">&lt;&lt; EOF
</span></span></span><span class="line"><span class="cl"><span class="s">第一行
</span></span></span><span class="line"><span class="cl"><span class="s">第二行
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>开头标记必须和结尾标记一致，标记名称可以是任何字符串。</p>
<p>下面这个也是可以的。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 输出2</span>
</span></span><span class="line"><span class="cl">$ wc -l <span class="s">&lt;&lt; Hello
</span></span></span><span class="line"><span class="cl"><span class="s">第一行
</span></span></span><span class="line"><span class="cl"><span class="s">第二行
</span></span></span><span class="line"><span class="cl"><span class="s">Hello</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="管道">管道</h2>
<p>将一个命令的输出作为另一个命令的输入称为管道。 管道用 <code>|</code> 符号表示。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 将 ls 输出内容作为 wc 输入</span>
</span></span><span class="line"><span class="cl">$ ls <span class="p">|</span> wc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 执行一个脚本，这没有什么意义，只是一个例子</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="s2">&#34;./bash.sh&#34;</span> <span class="p">|</span> bash
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="echo">echo</h2>
<p>输出字符串或者变量</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n</td>
<td>打印时不加换行符</td>
</tr>
<tr>
<td>-e</td>
<td>解析字符</td>
</tr>
</tbody>
</table>
<p>注: 一般情况下字符串不必加双引号, 如果包含转义字符就必须要加</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 在终端输出 Hello World</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="s2">&#34;Hello World&#34;</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> Hello World    <span class="c1"># 也可以不加双引号</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="s2">&#34;Hello\nWorld&#34;</span> <span class="c1"># 必须加双引号, 否则无法转义</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打印系统环境变量，如果变量不存在输出为空</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="nv">$PATH</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># &gt; 输出重定向，将内容输出到文件中</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> Hello World &gt; 1.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -n 不换行, 默认情况下会换行</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> -n Hello<span class="p">;</span> <span class="nb">echo</span> World
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -e 解析字符, 比如让字体输出颜色</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> -e <span class="s2">&#34;\033[1;32m绿色\033[0m&#34;</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> -e <span class="s2">&#34;\n换行\n&#34;</span> <span class="c1"># 解析 \n 作为换行</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="date">date</h2>
<p>显示或设置系统时间日期</p>
<table>
<thead>
<tr>
<th>格式化符号</th>
<th>描述</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>%%</td>
<td>百分号</td>
<td></td>
</tr>
<tr>
<td>%a</td>
<td>当地缩写的工作日名称（例如，Sun）</td>
<td></td>
</tr>
<tr>
<td>%A</td>
<td>当地完整的工作日名称（例如，Sunday）</td>
<td></td>
</tr>
<tr>
<td>%b</td>
<td>当地缩写的月份名称（例如，Jan）</td>
<td></td>
</tr>
<tr>
<td>%B</td>
<td>当地完整的月份名称（例如，January）</td>
<td></td>
</tr>
<tr>
<td>%c</td>
<td>当地的日期和时间（例如，Thu Mar 3 23:05:25 2005）</td>
<td></td>
</tr>
<tr>
<td>%C</td>
<td>世纪，和 <code>%Y</code> 类似，但是省略后两位（例如，20）</td>
<td></td>
</tr>
<tr>
<td>%d</td>
<td>一月中的一天（例如，01）</td>
<td></td>
</tr>
<tr>
<td>%D</td>
<td>日期，等价于 <code>%m/%d/%y</code></td>
<td></td>
</tr>
<tr>
<td>%e</td>
<td>一月中的一天，格式使用空格填充，等价于 <code>%_d</code></td>
<td></td>
</tr>
<tr>
<td>%F</td>
<td>完整的日期；等价于 <code>%+4Y-%m-%d</code></td>
<td></td>
</tr>
<tr>
<td>%g</td>
<td>ISO 标准计数周的年份的最后两位数字</td>
<td></td>
</tr>
<tr>
<td>%G</td>
<td>ISO 标准计数周的年份，通常只对 <code>%V</code> 有用</td>
<td></td>
</tr>
<tr>
<td>%h</td>
<td>等价于 <code>%b</code></td>
<td></td>
</tr>
<tr>
<td>%H</td>
<td>小时，范围（00..23）24 小时制</td>
<td></td>
</tr>
<tr>
<td>%I</td>
<td>小时，范围（00..12）12 小时制</td>
<td></td>
</tr>
<tr>
<td>%j</td>
<td>一年中的一天，范围（001..366）</td>
<td></td>
</tr>
<tr>
<td>%k</td>
<td>小时，使用空格填充，范围（0..23），等价于 <code>%_H</code></td>
<td></td>
</tr>
<tr>
<td>%l</td>
<td>小时，使用空格填充，范围（1..12），等价于 <code>%_I</code></td>
<td></td>
</tr>
<tr>
<td>%m</td>
<td>月，范围（01..12）</td>
<td></td>
</tr>
<tr>
<td>%M</td>
<td>分钟，范围（00..59）</td>
<td></td>
</tr>
<tr>
<td>%n</td>
<td>换行符</td>
<td></td>
</tr>
<tr>
<td>%N</td>
<td>纳秒，范围（000000000..000000000）</td>
<td></td>
</tr>
<tr>
<td>%p</td>
<td>用于表示当地的 AM 或 PM，如果未知则为空白</td>
<td></td>
</tr>
<tr>
<td>%P</td>
<td>类似于 <code>%p</code> ，但用小写表示</td>
<td></td>
</tr>
<tr>
<td>%q</td>
<td>季度，范围（1..4）</td>
<td></td>
</tr>
<tr>
<td>%r</td>
<td>当地以 12 小时表示的时钟时间（例如，11:11:04 PM）</td>
<td></td>
</tr>
<tr>
<td>%R</td>
<td>24 小时每分钟；等价于 <code>%H:%M</code></td>
<td></td>
</tr>
<tr>
<td>%s</td>
<td>自协调世界时 1970 年 01 月 01 日 00 时 00 分以来的秒数</td>
<td></td>
</tr>
<tr>
<td>%S</td>
<td>秒数，范围（00..60）</td>
<td></td>
</tr>
<tr>
<td>%t</td>
<td>水平制表符</td>
<td></td>
</tr>
<tr>
<td>%T</td>
<td>时间；等价于 <code>%H:%M:%S</code></td>
<td></td>
</tr>
<tr>
<td>%u</td>
<td>一周中的一天（1..7），1 代表星期一</td>
<td></td>
</tr>
<tr>
<td>%U</td>
<td>一年中的第几周，周日作为一周的起始（00..53）</td>
<td></td>
</tr>
<tr>
<td>%V</td>
<td>ISO 标准计数周，该方法将周一作为一周的起始（01..53）</td>
<td></td>
</tr>
<tr>
<td>%w</td>
<td>一周中的一天（0..6），0 代表星期天</td>
<td></td>
</tr>
<tr>
<td>%W</td>
<td>一年中的第几周，周一作为一周的起始（00..53）</td>
<td></td>
</tr>
<tr>
<td>%x</td>
<td>当地的日期表示（例如，12/31/99）</td>
<td></td>
</tr>
<tr>
<td>%X</td>
<td>当地的时间表示（例如，23:13:48）</td>
<td></td>
</tr>
<tr>
<td>%y</td>
<td>年份后两位数字，范围（00..99）</td>
<td></td>
</tr>
<tr>
<td>%Y</td>
<td>年份</td>
<td></td>
</tr>
<tr>
<td>%z</td>
<td>+hhmm 格式的数值化时区格式（例如，-0400）</td>
<td></td>
</tr>
<tr>
<td>%:z</td>
<td>+hh:mm 格式的数值化时区格式（例如，-04:00）</td>
<td></td>
</tr>
<tr>
<td>%::z</td>
<td>+hh:mm:ss 格式的数值化时区格式（例如，-04:00:00）</td>
<td></td>
</tr>
<tr>
<td>%:::z</td>
<td>数值化时区格式，相比上一个格式增加&rsquo;:&lsquo;以显示必要的精度（例如，-04，+05:30）</td>
<td></td>
</tr>
<tr>
<td>%Z</td>
<td>时区缩写（如 EDT）</td>
<td></td>
</tr>
<tr>
<td>-</td>
<td>(连字符) 不要填充相应的字段。</td>
<td></td>
</tr>
<tr>
<td>_</td>
<td>(下划线) 使用空格填充相应的字段。</td>
<td></td>
</tr>
<tr>
<td>0</td>
<td>(数字 0) 使用数字 0 填充相应的字段。</td>
<td></td>
</tr>
<tr>
<td>+</td>
<td>用数字 0 填充，未来年份大于 4 位数字则在前面加上&rsquo;+&lsquo;号。</td>
<td></td>
</tr>
<tr>
<td>^</td>
<td>允许的情况下使用大写。</td>
<td></td>
</tr>
<tr>
<td>#</td>
<td>允许的情况下将默认的大写转换为小写，默认的小写转换为大写。</td>
<td></td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 显示当前时间</span>
</span></span><span class="line"><span class="cl">$ date
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 格式化当前时间</span>
</span></span><span class="line"><span class="cl">$ date +<span class="s2">&#34;%Y-%m-%d %H:%M.%S&#34;</span> <span class="c1"># 2020-07-01 00:00.00</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 设置系统时间</span>
</span></span><span class="line"><span class="cl">$ date -s  <span class="c1"># 设置当前时间, 须root</span>
</span></span><span class="line"><span class="cl">$ date -s <span class="s2">&#34;2020-07-01 00:00:00&#34;</span> <span class="c1"># 设置指定时间</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="man">man</h2>
<p>查看指令帮助手册</p>
<p><strong>man 信息说明</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME</td>
<td>显示命令名和一段简短的描述</td>
</tr>
<tr>
<td>SYNOPSIS</td>
<td>命令的语法</td>
</tr>
<tr>
<td>CONFI GURATION</td>
<td>命令配置信息</td>
</tr>
<tr>
<td>DESCRIPTION</td>
<td>命令的一般性描述</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>命令选项描述</td>
</tr>
<tr>
<td>EXIT STATUS</td>
<td>命令的退出状态指示</td>
</tr>
<tr>
<td>RETURN VALUE</td>
<td>命令的返回值</td>
</tr>
<tr>
<td>ERRORS</td>
<td>命令的错误消息</td>
</tr>
<tr>
<td>ENVIRONMENT</td>
<td>描述所使用的环境变量</td>
</tr>
<tr>
<td>FILES</td>
<td>命令用到的文件</td>
</tr>
<tr>
<td>VERSIONS</td>
<td>命令的版本信息</td>
</tr>
<tr>
<td>CONFORMING TO</td>
<td>命令所遵从的标准</td>
</tr>
<tr>
<td>NOTES</td>
<td>其他有帮助的资料</td>
</tr>
<tr>
<td>BUGS</td>
<td>提供提交 BUG 的途径</td>
</tr>
<tr>
<td>EXAMPLE</td>
<td>展示命令的用法</td>
</tr>
<tr>
<td>AUTHORS</td>
<td>命令开发人员的信息</td>
</tr>
<tr>
<td>COPYRIGHT</td>
<td>命令源代码的版权状况</td>
</tr>
<tr>
<td>SEE ALSO</td>
<td>与该命令类型的其他命令</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 查看 ls 指令帮助手册</span>
</span></span><span class="line"><span class="cl">$ man ls
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 可以通过数字来阅读某一部分内容, 比如阅读第一部分</span>
</span></span><span class="line"><span class="cl">$ man <span class="m">1</span> ls
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -a 在所有手册中查找</span>
</span></span><span class="line"><span class="cl">$ man -a ls
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -k, 搜索关键字, 如果忘记了完整的命令可以通过关键字搜索出来，比如 nginx</span>
</span></span><span class="line"><span class="cl">$ man -k ngi
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="sleep">sleep</h2>
<p>将目前动作延迟一段时间, 通常用于脚本当中</p>
<p>时间参数, 这是可选的，默认 s：</p>
<ul>
<li>s 秒</li>
<li>m 分钟</li>
<li>h 小时</li>
<li>d 天</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 5秒后输出 Hello</span>
</span></span><span class="line"><span class="cl">$ sleep 5s<span class="p">;</span> <span class="nb">echo</span> Hello
</span></span></code></pre></td></tr></table>
</div>
</div><p>下面是一段 Shell 脚本， 延迟 10 秒后再去请求</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl">sleep 10s
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl https://www.xiejiahe.com/
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="history">history</h2>
<p>列出当前系统使用过的命令，通常保存在 <code>~/.bash_history</code> 文件中，注意的是只有在 Shell 退出时才写入到文件。</p>
<p>如果是在 <code>mac</code> 下运行会有差异。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 列出当前使用过的命令</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">history</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 指定要显示的条数, mac 下不支持</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">history</span> <span class="m">50</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 清除历史命令</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">history</span> -c <span class="c1"># 清空历史命令</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">history</span> -d 编号 <span class="c1"># 清除指定编号</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -a 强制写入到 ~/.bash_history 文件中而不用等shell退出才写入</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">history</span> -a
</span></span></code></pre></td></tr></table>
</div>
</div><p>执行历史命令, 在 <code>mac</code> 下运行需要回车确认。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 指定编号, 例如运行 1001 编号的命令</span>
</span></span><span class="line"><span class="cl">$ !1001
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 执行历史最后一条命令</span>
</span></span><span class="line"><span class="cl">$ !!
</span></span></code></pre></td></tr></table>
</div>
</div><p>永久清除历史记录, 默认情况下只执行 <code>hisotry -c</code> 只会清除当前 Shell：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 先把 .bash_history 文件所有内容删除，然后再次强制写入</span>
</span></span><span class="line"><span class="cl">$ sed -i <span class="s2">&#34;d&#34;</span> ~/.bash_history <span class="o">&amp;&amp;</span> <span class="nb">history</span> -a
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="xargs">xargs</h2>
<p>给命令传递参数的一个过滤器，也是组合多个命令的一个工具, <code>将左侧的标准输出放进右侧标准输入</code>。</p>
<p>此命令可以将多次操作简便为一次操作。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 统计代码</span>
</span></span><span class="line"><span class="cl">$ find -name <span class="s2">&#34;*.js&#34;</span> <span class="p">|</span> xargs wc -l <span class="c1"># 等价于 wc -l a.js b.js c.js ...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 批量下载文件</span>
</span></span><span class="line"><span class="cl">$ cat download.txt <span class="p">|</span> xargs wget
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="cal">cal</h2>
<p>显示当前日历</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cal
</span></span><span class="line"><span class="cl"><span class="c1"># 输出</span>
</span></span><span class="line"><span class="cl">     June <span class="m">2020</span>
</span></span><span class="line"><span class="cl">Su Mo Tu We Th Fr Sa
</span></span><span class="line"><span class="cl">    <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span>  <span class="m">5</span>  <span class="m">6</span>
</span></span><span class="line"><span class="cl"> <span class="m">7</span>  <span class="m">8</span>  <span class="m">9</span> <span class="m">10</span> <span class="m">11</span> <span class="m">12</span> <span class="m">13</span>
</span></span><span class="line"><span class="cl"><span class="m">14</span> <span class="m">15</span> <span class="m">16</span> <span class="m">17</span> <span class="m">18</span> <span class="m">19</span> <span class="m">20</span>
</span></span><span class="line"><span class="cl"><span class="m">21</span> <span class="m">22</span> <span class="m">23</span> <span class="m">24</span> <span class="m">25</span> <span class="m">26</span> <span class="m">27</span>
</span></span><span class="line"><span class="cl"><span class="m">28</span> <span class="m">29</span> <span class="m">30</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 显示临近3个月, -3 是固定不能更改数字</span>
</span></span><span class="line"><span class="cl">$ cal -3
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打印今天是今年的第几天</span>
</span></span><span class="line"><span class="cl">$ cal -j
</span></span><span class="line"><span class="cl"><span class="c1"># 输出：今天日期会高亮显示</span>
</span></span><span class="line"><span class="cl">       October <span class="m">2020</span>
</span></span><span class="line"><span class="cl"> Su  Mo  Tu  We  Th  Fr  Sa
</span></span><span class="line"><span class="cl">                <span class="m">275</span> <span class="m">276</span> <span class="m">277</span>
</span></span><span class="line"><span class="cl"><span class="m">278</span> <span class="m">279</span> <span class="m">280</span> <span class="m">281</span> <span class="m">282</span> <span class="m">283</span> <span class="m">284</span>
</span></span><span class="line"><span class="cl"><span class="m">285</span> <span class="m">286</span> <span class="m">287</span> <span class="m">288</span> <span class="m">289</span> <span class="sb">`</span>290<span class="sb">`</span> <span class="m">291</span>
</span></span><span class="line"><span class="cl"><span class="m">292</span> <span class="m">293</span> <span class="m">294</span> <span class="m">295</span> <span class="m">296</span> <span class="m">297</span> <span class="m">298</span>
</span></span><span class="line"><span class="cl"><span class="m">299</span> <span class="m">300</span> <span class="m">301</span> <span class="m">302</span> <span class="m">303</span> <span class="m">304</span> <span class="m">305</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 打印今年1月-12月份日历</span>
</span></span><span class="line"><span class="cl">$ cal -y
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="expr">expr</h2>
<p>执行数学运算，expr 命令比较鸡助，通常在 shell 脚本当中看到。但在 shell 脚本也不建议用。</p>
<p>expr 后面每个表达式都要有一个空格，否则是不合法。</p>
<p>注：expr 只支持整数运算，这是一个限制。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 3</span>
</span></span><span class="line"><span class="cl">$ expr <span class="m">1</span> + <span class="m">2</span>
</span></span><span class="line"><span class="cl">$ expr 1+2 <span class="c1"># 这样是不行的</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 在浮点数计算时会丢失小数， 这里等于 2</span>
</span></span><span class="line"><span class="cl">$ expr <span class="m">5</span> / <span class="m">2</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="bc">bc</h2>
<p>bash 计算器，用来执行数学运算， 与 <code>expr</code> 不同，因为 <code>expr</code> 命令不支持浮点数运算，所以可以用 <code>bc</code> 命令替代。</p>
<p>bash 计算器实际上是一种编程语言，它允许在命令行中输入浮点表达式，然后解释并计算该表达式。最后返回结果。</p>
<p><code>bc</code> 大多数情况下是在 shell 脚本中使用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 敲 bc 然后回车进入交互式， 输入 quit 退出</span>
</span></span><span class="line"><span class="cl">$ bc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">scale</span><span class="o">=</span><span class="m">2</span>  <span class="c1"># 保留几位小数，默认是0</span>
</span></span><span class="line"><span class="cl"><span class="m">5</span> / <span class="m">2</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 输出 2.50</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="timeout">timeout</h2>
<p>在指定时长范围内执行命令，并在规定时间结束后停止进程。</p>
<p>意思是在规定时间内必须完成，否则停止进程。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 模拟超过3秒, 因为sleep阻塞5秒所以在3秒内无法完成，则停止进程</span>
</span></span><span class="line"><span class="cl">$ timeout <span class="m">3</span> sleep <span class="m">5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 比如打包, 1分钟内要打包完成，否则停止进程</span>
</span></span><span class="line"><span class="cl">$ timeout <span class="m">60</span> npm run build
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="exit">exit</h2>
<p>退出当前登录 Shell, 或使用快捷键 <code>Ctrl + D</code>。</p>
<p>等价命令 <code>logout</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ <span class="nb">exit</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="basename">basename</h2>
<p>打印目录或者文件的基本名称。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 输出：index.html</span>
</span></span><span class="line"><span class="cl">$ basename /www/index.html
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 输出：www</span>
</span></span><span class="line"><span class="cl">$ basename /www/
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="read">read</h2>
<p><code>read</code> 命令从标准输入（键盘）或另一个文件描述符中接收输入。 通常用在 Shell 脚本, 在收到输入后，read 命令会将数据存放进一个变量。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-t</td>
<td>指定输入字符的最大等待时间</td>
</tr>
<tr>
<td>-p</td>
<td>提示信息</td>
</tr>
<tr>
<td>-s</td>
<td>隐藏输入，比如密码信息</td>
</tr>
<tr>
<td>-n</td>
<td>限制输入字符的最大长度</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 最简单用法, data 是自定义变量名，用户输入内容并回车后结束</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">read</span> data <span class="c1"># echo $data  会打印用户输入的内容</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -p 指定提示符</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">read</span> -p 确认要删除吗？ data
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -t 指定超时（秒）</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">read</span> -t <span class="m">5</span> -p 确认要删除吗？ data
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># —s 隐藏用户输入，比如密码，实际上是将文本颜色设置成背景颜色一样</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">read</span> -s -p <span class="s2">&#34;请输入您的密码：&#34;</span> data
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="tee">tee</h2>
<p>tee 命令相当于管道的一个 T 型接头，它将从 <code>STDIN标准输入</code> 过来的数据同时发往两处，一处是 <code>STDOUT</code> ，另一处是 tee 命令指定的文件名。</p>
<p>tee 命令通常用于 shell 脚本当中。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># date内容打印到屏幕上并且重定向输出到 date.txt 文件中</span>
</span></span><span class="line"><span class="cl">$ date <span class="p">|</span> tee date.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -a 以追加方式，默认情况下会覆盖输出文件内容</span>
</span></span><span class="line"><span class="cl">$ date <span class="p">|</span> tee -a date.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>tee</code> 命令只是一个语法糖，如果不用 <code>tee</code> 可以这样做：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1、将date结果保存到 var 变量中</span>
</span></span><span class="line"><span class="cl">$ <span class="nv">var</span><span class="o">=</span><span class="k">$(</span>date<span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2、将结果打印到屏幕上 STDOUT</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="nv">$var</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 3、将结果重定向到文件</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="nv">$var</span> &gt; date.txt
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="clear">clear</h2>
<p>用于清除当前终端所有信息，本质上只是向后翻了一页，往上滚动还能看到之前的操作信息</p>
<p>注：笔者用得比较多的是 <code>command + K</code> 可以完全清除终端所有操作信息。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ clear
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="致谢">致谢</h2>
<p>部分内容从《Linux 命令行与 Shell 脚本编程大全》和 互联网 进行整理出来， 如有错误，欢迎指正，谢谢！</p>
<p><a href="#">⬆ 回顶部</a></p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">lucas</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2021-04-19
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/linux/">Linux</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/golang/005-net.http-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">01-Golang net/http 性能优化</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/golang/001-go%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E7%A5%9E%E5%99%A8%E6%B1%87%E6%80%BB/">
            <span class="next-text nav-default">01-Go开发效率神器汇总</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:golpp@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="http://localhost:1313" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="http://localhost:1313" class="iconfont icon-twitter" title="twitter"></a>
      <a href="http://localhost:1313" class="iconfont icon-facebook" title="facebook"></a>
      <a href="https://github.com/lppgo" class="iconfont icon-github" title="github"></a>
      <a href="http://localhost:1313" class="iconfont icon-weibo" title="weibo"></a>
      <a href="https://github.com/lppgo" class="iconfont icon-gitlab" title="gitlab"></a>
      <a href="http://localhost:1313" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="https://lppgo.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2015 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span>李平平</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.64437849d125a2d603b3e71d6de5225d641a32d17168a58106e0b61852079683.js"></script>



<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>




</body>
</html>
