<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Even - A super concise theme for Hugo</title>
<meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=Cache-Control content="no-transform"><meta http-equiv=Cache-Control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content><meta name=description content="Hugo theme even example site."><meta name=keywords content="Hugo,theme,even"><meta name=generator content="Hugo 0.147.0 with theme even"><link rel=canonical href=https://lppgo.github.io/><link href=https://lppgo.github.io/index.xml rel=alternate type=application/rss+xml title="Even - A super concise theme for Hugo"><link href=https://lppgo.github.io/index.xml rel=feed type=application/rss+xml title="Even - A super concise theme for Hugo"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:url" content="https://lppgo.github.io/"><meta property="og:site_name" content="Even - A super concise theme for Hugo"><meta property="og:title" content="Even - A super concise theme for Hugo"><meta property="og:description" content="Hugo theme even example site."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Even - A super concise theme for Hugo"><meta itemprop=description content="Hugo theme even example site."><meta itemprop=datePublished content="2025-09-06T00:00:00+00:00"><meta itemprop=dateModified content="2025-09-06T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Even - A super concise theme for Hugo"><meta name=twitter:description content="Hugo theme even example site."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>lppgo</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>lppgo</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><section id=posts class=posts><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/dockerk8s/007-docker%E6%B8%85%E7%90%86/>01-docker清理</a></h1><div class=post-meta><span class=post-time>2021-05-05</span><div class=post-category><a href=/categories/docker/>Docker</a></div></div></header><div class=post-content><div class=post-summary><ul><li><a href=#docker-%E6%B8%85%E7%90%86%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95>Docker 清理常用方法</a><ul><li><a href=#1docker-%E7%A7%AF%E7%B4%AF%E7%9A%84%E4%B8%9C%E8%A5%BF>1：Docker 积累的东西</a></li><li><a href=#2%E4%BD%BF%E7%94%A8-docker-%E6%B8%85%E7%90%86>2：使用 docker 清理</a><ul><li><a href=#21docker-system>2.1：docker system</a></li><li><a href=#21-%E6%B8%85%E7%90%86%E5%B7%B2%E7%BB%8F%E5%81%9C%E6%AD%A2%E7%9A%84%E5%AE%B9%E5%99%A8>2.1: 清理已经停止的容器</a></li><li><a href=#22-%E6%B8%85%E7%90%86%E7%A3%81%E7%9B%98%E5%8D%B7>2.2: 清理磁盘卷</a></li><li><a href=#23-%E6%B8%85%E7%90%86%E9%95%9C%E5%83%8F>2.3: 清理镜像</a></li><li><a href=#24-%E6%B8%85%E7%90%86%E7%BD%91%E7%BB%9C>2.4: 清理网络</a></li><li><a href=#25-%E4%BD%BF%E7%94%A8-docker-compose-%E6%B8%85%E7%90%86>2.5: 使用 docker-compose 清理</a></li><li><a href=#26docker-system-prune>2.6: docker system prune</a></li></ul></li></ul></li></ul><h1 id=docker-清理常用方法>Docker 清理常用方法</h1><p>Docker 基于 Linux 内核通过操作系统和虚拟容器调用 CGroup, Namespace 等系统接口完成资源的分配与相互隔离，依赖系统资源运行，在分配回收过程中会产生一些垃圾，比如 docker stop 容器后没有执行 docker rm 删除。</p></div><div class=read-more><a href=/post/dockerk8s/007-docker%E6%B8%85%E7%90%86/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/linux/019-localhost%E4%B8%8E127.0.0.1%E4%B8%8E0.0.0.0%E4%B8%8E%E6%9C%AC%E6%9C%BAip%E7%9A%84%E5%8C%BA%E5%88%AB/>01-localhost与127.0.0.1与0.0.0.0与本机IP的区别</a></h1><div class=post-meta><span class=post-time>2021-05-01</span><div class=post-category><a href=/categories/linux/>Linux</a></div></div></header><div class=post-content><div class=post-summary><ul><li><a href=#1-localhost>1: localhost</a></li><li><a href=#2-127001>2: 127.0.0.1</a></li><li><a href=#3-0000>3: 0.0.0.0</a></li><li><a href=#4-%E6%9C%AC%E6%9C%BA-ip>4: 本机 IP</a></li></ul><h1 id=1-localhost>1: localhost</h1><p>首先 localhost 是一个域名，在过去它指向 127.0.0.1 这个 IP 地址。在操作系统支持 ipv6 后，它同时还指向 ipv6 的地址 [::1]
在 Windows 中，这个域名是预定义的，从 hosts 文件中可以看出：</p></div><div class=read-more><a href=/post/linux/019-localhost%E4%B8%8E127.0.0.1%E4%B8%8E0.0.0.0%E4%B8%8E%E6%9C%AC%E6%9C%BAip%E7%9A%84%E5%8C%BA%E5%88%AB/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/golang/007-go%E8%AF%AD%E8%A8%80-grpc%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/>01-Go语言 grpc入门教程</a></h1><div class=post-meta><span class=post-time>2021-04-28</span><div class=post-category><a href=/categories/go/>Go</a></div></div></header><div class=post-content><div class=post-summary><ul><li><a href=#go-%E8%AF%AD%E8%A8%80-grpc-%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B>go 语言 grpc 入门教程</a><ul><li><a href=#1-%E5%AE%89%E8%A3%85-go-%E8%AF%AD%E8%A8%80-grpc-%E5%8C%85>1: 安装 go 语言 grpc 包</a></li><li><a href=#2%E5%AE%89%E8%A3%85-protobuf-%E7%BC%96%E8%AF%91%E5%99%A8>2:安装 protobuf 编译器</a><ul><li><a href=#21-%E5%AE%89%E8%A3%85-protoc-%E7%BC%96%E8%AF%91%E5%99%A8>2.1 安装 protoc 编译器</a></li><li><a href=#22-%E5%AE%89%E8%A3%85%E7%BC%96%E8%AF%91%E5%99%A8-go-%E8%AF%AD%E8%A8%80%E6%8F%92%E4%BB%B6>2.2 安装编译器 go 语言插件</a></li></ul></li><li><a href=#3-example-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84>3: Example 目录结构</a></li><li><a href=#4-%E5%AE%9A%E4%B9%89%E6%9C%8D%E5%8A%A1>4: 定义服务</a></li><li><a href=#5-%E7%BC%96%E8%AF%91-proto-%E5%8D%8F%E8%AE%AE%E6%96%87%E4%BB%B6>5: 编译 proto 协议文件</a></li><li><a href=#6-%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%BB%A3%E7%A0%81>6: 实现服务端代码</a></li><li><a href=#7%E5%AE%9E%E7%8E%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81>7:实现客户端代码</a></li><li><a href=#8-%E4%BD%BF%E7%94%A8-grpc-gateway>8: 使用 grpc-gateway</a><ul><li><a href=#81-%E5%AE%89%E8%A3%85-grpc-hateway>8.1 安装 grpc-hateway</a></li></ul></li><li><a href=#82-%E4%BF%AE%E6%94%B9-xproto-%E6%96%87%E4%BB%B6>8.2 修改 x.proto 文件</a></li><li><a href=#83-%E7%94%9F%E6%88%90-pbgo-%E4%BB%A3%E7%A0%81>8.3 生成 pb.go 代码</a></li></ul></li></ul><h1 id=go-语言-grpc-入门教程>go 语言 grpc 入门教程</h1><blockquote><p>前置知识点
1: <a href=https://www.tizi365.com/archives/367.html>protobuf 语法</a>
2: <a href=https://www.tizi365.com/archives/391.html>grpc 核心概念</a></p></div><div class=read-more><a href=/post/golang/007-go%E8%AF%AD%E8%A8%80-grpc%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/rust/003-rust%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/>01-Rust基本语法</a></h1><div class=post-meta><span class=post-time>2021-04-27</span><div class=post-category><a href=/categories/rust/>Rust</a></div></div></header><div class=post-content><div class=post-summary><ul><li><a href=#rust-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95>rust 基本语法</a><ul><li><a href=#1-%E5%8F%98%E9%87%8F>1: 变量</a></li><li><a href=#2-float-%E7%B1%BB%E5%9E%8B>2: float 类型</a></li><li><a href=#3-%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8Btuple-%E5%85%83%E7%BB%84arraryslice>3: 复合类型:tuple 元组，arrary,slice</a></li><li><a href=#4-%E5%AD%97%E7%AC%A6%E4%B8%B2>4: 字符串</a></li><li><a href=#5-%E6%9D%A1%E4%BB%B6%E5%88%86%E6%94%AF>5: 条件分支</a></li><li><a href=#6-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5>6: 循环语句</a></li><li><a href=#7-%E6%89%80%E6%9C%89%E6%9D%83-ownership>7: 所有权 ownership</a><ul><li><a href=#71-%E6%89%80%E6%9C%89%E6%9D%83---%E5%8F%98%E9%87%8F>7.1 所有权&mdash;变量</a></li><li><a href=#72-%E6%89%80%E6%9C%89%E6%9D%83---%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0>7.2 所有权&mdash;函数参数</a></li><li><a href=#73-%E6%89%80%E6%9C%89%E6%9D%83---%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC>7.3 所有权&mdash;函数返回值</a></li></ul></li><li><a href=#8-%E5%BC%95%E7%94%A8-reference-%E5%92%8C%E7%A7%9F%E5%80%9F-borrow>8: 引用 Reference 和租借 Borrow</a></li><li><a href=#9-%E6%82%AC%E6%8C%82%E5%BC%95%E7%94%A8-dangling-reference>9: 悬挂引用 Dangling Reference</a></li><li><a href=#10-struct>10: Struct</a></li><li><a href=#11-%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B-enum>11: 枚举类型 enum</a></li><li><a href=#12->12: &mldr;</a></li></ul></li></ul><h1 id=rust-基本语法>rust 基本语法</h1><h2 id=1-变量>1: 变量</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=w>   </span><span class=k>fn</span> <span class=nf>f0</span><span class=p>(){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;--------变量-----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>a</span><span class=o>=</span><span class=mi>12</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>=</span><span class=mi>100</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;a is </span><span class=si>{1}</span><span class=s>,b is </span><span class=si>{0}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=s>&#34;{}&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;add(): </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=n>b</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 变量重新赋值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>c</span><span class=o>=</span><span class=mi>5</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;c is  首次声明:</span><span class=si>{0}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>c</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>66</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;c is  重新赋值:</span><span class=si>{0}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>c</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 变量重新绑定,变量的值可以&#34;重新绑定&#34;，但在&#34;重新绑定&#34;以前不能私自被改变
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// 重影（Shadowing）
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>a</span><span class=w> </span>:<span class=kt>i32</span><span class=o>=</span><span class=mi>11</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;a is重新绑定</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>a</span><span class=p>)</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 常量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>D</span>: <span class=kt>i32</span> <span class=o>=</span><span class=w> </span><span class=mi>99</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;常量D:</span><span class=si>{0}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>D</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>a</span>:<span class=kt>u64</span> <span class=o>=</span><span class=mi>123</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;a is重新绑定</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>a</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 重影（Shadowing）
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// 重影与可变变量的赋值不是一个概念，重影是指用同一个名字重新代表另一个
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// 变量实体，其类型、可变属性和值都可以变化。但可变变量赋值仅能发生值的变化。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=mi>5</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>x</span><span class=o>=</span><span class=n>x</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>x</span><span class=o>=</span><span class=n>x</span><span class=o>*</span><span class=mi>2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;the value of x is:</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>x</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// rust 不支持自动返回值类型判断
</span></span></span><span class=line><span class=cl><span class=c1>// 如果没有明确函数返回值类型，函数将被认为是&#34;纯过程“,不允许产生返回值，return不能有返回值表达式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>fn</span> <span class=nf>add</span><span class=p>(</span><span class=n>a</span>:<span class=kt>i32</span><span class=p>,</span><span class=n>b</span>:<span class=kt>i32</span><span class=p>)</span>-&gt;<span class=kt>i32</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>a</span><span class=o>+</span><span class=n>b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=2-float-类型>2: float 类型</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>f1</span><span class=p>(){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;--------float类型-----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=mf>2.0</span><span class=p>;</span><span class=w> </span><span class=c1>//f64
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>y</span>: <span class=kt>f32</span> <span class=o>=</span><span class=w> </span><span class=mf>3.0</span><span class=p>;</span><span class=c1>//f32
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;x is </span><span class=si>{0}</span><span class=s>,y is </span><span class=si>{1}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>x</span><span class=p>,</span><span class=n>y</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>ok</span><span class=w>  </span><span class=o>=</span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;ok is </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>ok</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ok</span><span class=o>=</span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;ok is </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>ok</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=3-复合类型tuple-元组arraryslice>3: 复合类型:tuple 元组，arrary,slice</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>f2</span><span class=p>(){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;--------复合类型:tuple,array,slice-----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 复合类型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// tuple元组 ,用一对()包括的一组数据，可以包含不同种类的数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>tup</span>:<span class=p>(</span><span class=kt>i32</span><span class=p>,</span><span class=kt>f64</span><span class=p>,</span><span class=kt>u8</span><span class=p>,</span><span class=kt>char</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mf>9.9</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=sc>&#39;a&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;元组 tup: </span><span class=si>{}</span><span class=s> </span><span class=si>{}</span><span class=s> </span><span class=si>{}</span><span class=s> </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>tup</span><span class=p>.</span><span class=mi>0</span><span class=p>,</span><span class=n>tup</span><span class=p>.</span><span class=mi>1</span><span class=p>,</span><span class=n>tup</span><span class=p>.</span><span class=mi>2</span><span class=p>,</span><span class=n>tup</span><span class=p>.</span><span class=mi>3</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;元组 tup: </span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>tup</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;元组 tup: </span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>tup</span><span class=p>.</span><span class=mi>3</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 数组,用[]包含相同类型的数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>];</span><span class=w> </span><span class=c1>//a是一个长度为5的数组
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=s>&#34;go&#34;</span><span class=p>,</span><span class=s>&#34;rust&#34;</span><span class=p>,</span><span class=s>&#34;java&#34;</span><span class=p>];</span><span class=c1>//b是一个长度是4的字符串数组
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>c</span>: <span class=p>[</span><span class=kt>i32</span><span class=p>;</span><span class=mi>5</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>];</span><span class=c1>//c是一个长度是5，类型是i32的数组
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;数组a 的a[0]元素 : </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>a</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;数组b 的元素: </span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>b</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;数组c 是长度是</span><span class=si>{}</span><span class=s>类型是</span><span class=si>{}</span><span class=s>的数组:</span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>c</span><span class=p>.</span><span class=n>len</span><span class=p>(),</span><span class=s>&#34;i32&#34;</span><span class=p>,</span><span class=n>c</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// slice 切片是对数据值的部分引用
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// 1:字符串切片
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;broadcast&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>part1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>s</span><span class=p>[</span><span class=o>..</span><span class=mi>5</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>part2</span><span class=w> </span><span class=o>=&amp;</span><span class=n>s</span><span class=p>[</span><span class=mi>5</span><span class=o>..</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 2:对象被部分引用，禁止更改值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// s.push_str(&#34;,aod&#34;);//TODO 错误:s被部分引用，禁止修改其值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;字符串切片:</span><span class=si>{}</span><span class=s>=</span><span class=si>{}</span><span class=s>+</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>s</span><span class=p>,</span><span class=n>part1</span><span class=p>,</span><span class=n>part2</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 3:非字符串切片
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// let a=[1,2,3,4,5];
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>patr3</span><span class=w> </span><span class=o>=&amp;</span><span class=n>a</span><span class=p>[</span><span class=mi>1</span><span class=o>..</span><span class=mi>3</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>patr3</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;非字符串切片part3:</span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>patr3</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=4-字符串>4: 字符串</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>f3</span><span class=p>(){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// rust中的字符串通常指 &amp;str, String
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// rust内部的字符串默认是使用utf-8编码格式的(String和&amp;str),
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// 而内置的char类型是4字节长度的，存储的是Unicode字符，所以Rust里面的字符串不能视为char类型的数组，而更接近u8类型的数组
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 分的比较清.简单的可以理解为: &amp;str 是分配在栈上, String分配在堆上.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;--------str String  初始化 ...-----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;food&#34;</span><span class=p>);</span><span class=w> </span><span class=c1>// 在堆上分配内存
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;as_ptr()打印堆内存的地址: </span><span class=si>{:p}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>as_ptr</span><span class=p>());</span><span class=w> </span><span class=c1>// 打印堆内存的地址
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;&amp;a 打印变量a 在栈上的地址: </span><span class=si>{:p}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>a</span><span class=p>);</span><span class=w> </span><span class=c1>// 打印变量a 在栈上的地址
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{}</span><span class=s> </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>len</span><span class=p>(),</span><span class=n>a</span><span class=p>.</span><span class=n>capacity</span><span class=p>());</span><span class=w> </span><span class=c1>// 字符串在堆内存中的字节长度, 不是字符长度!!!
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>a</span><span class=p>.</span><span class=n>reserve</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span><span class=w> </span><span class=c1>// 增加堆的内存长度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{}</span><span class=s> </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>a</span><span class=p>.</span><span class=n>len</span><span class=p>(),</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>capacity</span><span class=p>());</span><span class=w> </span><span class=c1>// 总字节容量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// 切片
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>e</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>a</span><span class=p>[</span><span class=mi>1</span><span class=o>..</span><span class=mi>3</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;切片 e: </span><span class=si>{:?}</span><span class=s>,len是:</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>e</span><span class=p>,</span><span class=n>e</span><span class=p>.</span><span class=n>len</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=kt>str</span>: <span class=nb>String</span> <span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>new</span><span class=p>();</span><span class=w> </span><span class=c1>// 创建空字符串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;str: </span><span class=si>{}</span><span class=s> , len: </span><span class=si>{}</span><span class=s>, cap: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=kt>str</span><span class=p>,</span><span class=kt>str</span><span class=p>.</span><span class=n>len</span><span class=p>(),</span><span class=kt>str</span><span class=p>.</span><span class=n>capacity</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>str2</span>: <span class=nb>String</span> <span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;hello rust&#34;</span><span class=p>);</span><span class=w> </span><span class=c1>// 创建堆内存
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;str2: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>str2</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>str3</span>: <span class=nb>String</span> <span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>with_capacity</span><span class=p>(</span><span class=mi>20</span><span class=p>);</span><span class=w> </span><span class=c1>// 创建20字节的空堆内存
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;str3: </span><span class=si>{}</span><span class=s>, cap: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>str3</span><span class=p>,</span><span class=n>str3</span><span class=p>.</span><span class=n>capacity</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>str4</span>: <span class=kp>&amp;</span><span class=nb>&#39;static</span> <span class=kt>str</span> <span class=o>=</span><span class=w> </span><span class=s>&#34;the tao of rust&#34;</span><span class=p>;</span><span class=w> </span><span class=c1>// 静态变量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;str4: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>str4</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>str5</span>: <span class=nb>String</span> <span class=o>=</span><span class=w> </span><span class=n>str4</span><span class=p>.</span><span class=n>chars</span><span class=p>().</span><span class=n>filter</span><span class=p>(</span><span class=o>|</span><span class=n>c</span><span class=o>|</span><span class=w> </span><span class=o>!</span><span class=n>c</span><span class=p>.</span><span class=n>is_whitespace</span><span class=p>()).</span><span class=n>collect</span><span class=p>();</span><span class=w> </span><span class=c1>// .chars() 返回 各字符
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;str5: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>str5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>str6</span>: <span class=nb>String</span> <span class=o>=</span><span class=w> </span><span class=n>str4</span><span class=p>.</span><span class=n>to_owned</span><span class=p>();</span><span class=w> </span><span class=c1>// 与 to_string() 基本相同
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;str6: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>str6</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>str7</span>: <span class=nb>String</span> <span class=o>=</span><span class=w> </span><span class=n>str4</span><span class=p>.</span><span class=n>to_string</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;str7: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>str7</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=kt>str</span>: <span class=kp>&amp;</span><span class=kt>str</span> <span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>str4</span><span class=p>[</span><span class=mi>11</span><span class=o>..</span><span class=mi>15</span><span class=p>];</span><span class=w> </span><span class=c1>// 取静态字符串的部分内容, 学名 切片 (slice)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;str: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=kt>str</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;--------字符串增加 ...-----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>hello</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;hello,&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>hello</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=sc>&#39;R&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>hello</span><span class=p>.</span><span class=n>push_str</span><span class=p>(</span><span class=s>&#34;-Rust&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>hello</span><span class=p>.</span><span class=n>insert_str</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=s>&#34;-&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;hello字符串增加1: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>hello</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>suffix</span><span class=w> </span><span class=o>=</span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;-rust&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>hello</span><span class=o>=</span><span class=n>hello</span><span class=o>+&amp;</span><span class=n>suffix</span><span class=p>;</span><span class=w> </span><span class=c1>//NOTE: +后面的对象要带&amp;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;hello字符串增加2: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>hello</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;--------字符串遍历 ...-----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;good evening...&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>s</span>: <span class=nb>String</span> <span class=o>=</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>chars</span><span class=p>().</span><span class=n>enumerate</span><span class=p>().</span><span class=n>map</span><span class=p>(</span><span class=o>|</span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=n>c</span><span class=p>)</span><span class=o>|</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=n>i</span><span class=o>%</span><span class=mi>2</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>c</span><span class=p>.</span><span class=n>to_lowercase</span><span class=p>().</span><span class=n>to_string</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=k>else</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>c</span><span class=p>.</span><span class=n>to_uppercase</span><span class=p>().</span><span class=n>to_string</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}).</span><span class=n>collect</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;s遍历: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>s</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;--------字符串位置查询以及子串...-----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=5-条件分支>5: 条件分支</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>f4</span><span class=p>(){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;--------条件判断语句...-----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// if
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>12</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>b</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=n>a</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>b</span><span class=o>=</span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=n>a</span><span class=o>&lt;</span><span class=mi>0</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>b</span><span class=o>=-</span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=k>else</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>b</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;b is </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>b</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 三元条件表达式 (A?B:C)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>a</span><span class=o>=</span><span class=mi>3</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>number</span><span class=o>=</span><span class=k>if</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>{</span><span class=mi>1</span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=o>-</span><span class=mi>1</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;number is </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>number</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// match  多条件分支
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// TODO match 除了能够对enum类型进行分支选择以外，还可以对整数、浮点数、字符和字符串切片引用（&amp;str）类型的数据进行分支选择。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>// TODO 其中，浮点数类型被分支选择虽然合法，但不推荐这样使用，因为精度问题可能会导致分支错误。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=s>&#34;abc&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>match</span><span class=w> </span><span class=n>n</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s>&#34;abc&#34;</span><span class=o>=&gt;</span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;Yes&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>_</span><span class=o>=&gt;</span><span class=p>{},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// TODO: if let语句
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>    if let 匹配值 = 源变量 {
</span></span></span><span class=line><span class=cl><span class=cm>        语句块
</span></span></span><span class=line><span class=cl><span class=cm>    }else{
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>    }
</span></span></span><span class=line><span class=cl><span class=cm>    */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>enum</span> <span class=nc>Book</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Papery</span><span class=p>(</span><span class=kt>u32</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Electronic</span><span class=p>(</span><span class=nb>String</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>book</span><span class=o>=</span><span class=n>Book</span>::<span class=n>Electronic</span><span class=p>(</span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;url&#34;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=kd>let</span><span class=w> </span><span class=n>Book</span>::<span class=n>Papery</span><span class=p>(</span><span class=n>index</span><span class=p>)</span><span class=o>=</span><span class=n>book</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;Papery:</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>index</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=k>else</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;not papery book&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=6-循环语句>6: 循环语句</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>f5</span><span class=p>(){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;--------循环语句...-----------&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>i</span>: <span class=kt>i32</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=n>i</span><span class=o>&lt;</span><span class=mi>4</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;i:</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>i</span><span class=o>=</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>arr</span><span class=o>=</span><span class=p>[</span><span class=mi>10</span><span class=p>,</span><span class=mi>20</span><span class=p>,</span><span class=mi>30</span><span class=p>,</span><span class=mi>40</span><span class=p>,</span><span class=mi>50</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=n>arr</span><span class=p>.</span><span class=n>iter</span><span class=p>(){</span><span class=w> </span><span class=c1>//迭代器 iter(),iter_num()
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>        </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;for in iter() 遍历: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=mi>0</span><span class=o>..</span><span class=n>arr</span><span class=p>.</span><span class=n>len</span><span class=p>(){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;for in 下标 遍历: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=7-所有权-ownership>7: 所有权 ownership</h2><p>// rust 所有权
// 1: Rust 中的每一个值都有一个变量，称其为所有者；
// 2：一次只能有一个所有者；
// 3：当所有者不在程序的运行范围时，该值将被删除。</p></div><div class=read-more><a href=/post/rust/003-rust%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/rust/001-win10%E5%AE%89%E8%A3%85rust%E6%AD%A5%E9%AA%A4/>01-win10安装Rust步骤</a></h1><div class=post-meta><span class=post-time>2021-04-25</span><div class=post-category><a href=/categories/rust/>Rust</a></div></div></header><div class=post-content><div class=post-summary><h1 id=1-首先配置环境变量>1: 首先配置环境变量</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 修改为国内镜像</span>
</span></span><span class=line><span class=cl><span class=c1>#    由于rustup的官方服务器在国外，如果直接按照rust官网的方式安装，</span>
</span></span><span class=line><span class=cl><span class=c1>#    非常慢且容易fail</span>
</span></span><span class=line><span class=cl><span class=nv>RUSTUP_DIST_SERVER</span><span class=o>=</span>http://mirrors.ustc.edu.cn/rust-static
</span></span><span class=line><span class=cl><span class=nv>RUSTUP_UPDATE_ROOT</span><span class=o>=</span>http://mirrors.ustc.edu.cn/rust-static/rustup
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># rust 安装路径</span>
</span></span><span class=line><span class=cl>CARGO_HOME：D:<span class=se>\P</span>rogram Files<span class=se>\R</span>UST<span class=se>\.</span>cargo
</span></span><span class=line><span class=cl>RUSTUP_HOME：D:<span class=se>\P</span>rogram Files<span class=se>\R</span>UST<span class=se>\.</span>rustup
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl>~/.cargo/bin 添加到PATH
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 下载安装racer (rust代码补全程序)</span>
</span></span><span class=line><span class=cl><span class=c1># 如果不成功，先将rustup更新成nightly版本，再进行下载：</span>
</span></span><span class=line><span class=cl>rustup install nightly
</span></span><span class=line><span class=cl>cargo +nightly install racer
</span></span></code></pre></td></tr></table></div></div><h1 id=2按照官网方式进行安装>2：按照官网方式进行安装</h1><p>地址:https://www.rust-lang.org/zh-CN/tools/install</p></div><div class=read-more><a href=/post/rust/001-win10%E5%AE%89%E8%A3%85rust%E6%AD%A5%E9%AA%A4/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/golang/005-net.http-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/>01-Golang net/http 性能优化</a></h1><div class=post-meta><span class=post-time>2021-04-24</span><div class=post-category><a href=/categories/go/>Go</a></div></div></header><div class=post-content><div class=post-summary><ul><li><a href=#golang-nethttp-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96>Golang net/http 性能优化</a><ul><li><a href=#1-%E4%BD%BF%E7%94%A8-defaultclient>1: 使用 DefaultClient</a></li><li><a href=#2-%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E7%9A%84-defaulttransport>2: 使用默认的 DefaultTransport</a></li><li><a href=#3%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E6%98%AF%E8%87%AA%E5%B7%B1%E8%AE%BE%E7%BD%AE-defaultmaxidleconnsperhost>3: 解决办法是自己设置 DefaultMaxIdleConnsPerHost</a></li></ul></li></ul><h1 id=golang-nethttp-性能优化>Golang net/http 性能优化</h1><p>Go 语言内置 net\http 包十分优秀，我们通过这个包可以很方便的去实现 HTTP 的客户端和服务端。</p></div><div class=read-more><a href=/post/golang/005-net.http-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/linux/015-linux-manual/>01-Linux Manual</a></h1><div class=post-meta><span class=post-time>2021-04-19</span><div class=post-category><a href=/categories/linux/>Linux</a></div></div></header><div class=post-content><div class=post-summary><ul><li><a href=#1-%E6%96%87%E4%BB%B6>1: 文件</a><ul><li><a href=#11-%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9>1.1 查看文件内容</a><ul><li><a href=#111-head>1.1.1 head</a></li><li><a href=#112-tail>1.1.2 tail</a></li><li><a href=#113-cat>1.1.3 cat</a></li><li><a href=#114-nl>1.1.4 nl</a></li><li><a href=#115-more>1.1.5 more</a></li></ul></li><li><a href=#12-%E5%88%9B%E5%BB%BA>1.2 创建</a><ul><li><a href=#121-touch>1.2.1 touch</a></li><li><a href=#122-mkdir>1.2.2 mkdir</a></li><li><a href=#123-mktemp>1.2.3 mktemp</a></li></ul></li><li><a href=#13-%E5%88%A0%E9%99%A4>1.3 删除</a><ul><li><a href=#131-rm>1.3.1 rm</a></li><li><a href=#132-rmdir>1.3.2 rmdir</a></li></ul></li><li><a href=#14-%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6>1.4 查找文件</a><ul><li><a href=#141-find>1.4.1 find</a></li><li><a href=#142-locate>1.4.2 locate</a></li></ul></li><li><a href=#15-ls>1.5 ls</a></li><li><a href=#16-pwd>1.6 pwd</a></li><li><a href=#17-wc>1.7 wc</a></li><li><a href=#18-chattr>1.8 chattr</a></li><li><a href=#19-paste>1.9 paste</a></li><li><a href=#110-stat>1.10 stat</a></li><li><a href=#111-grep>1.11 grep</a></li><li><a href=#112-sed>1.12 sed</a><ul><li><a href=#1121-%E6%89%A7%E8%A1%8C%E5%A4%9A%E4%B8%AA%E5%91%BD%E4%BB%A4>1.12.1 执行多个命令</a></li><li><a href=#1122-%E4%BB%8E%E6%96%87%E4%BB%B6%E4%B8%AD%E8%AF%BB%E5%8F%96%E7%BC%96%E8%BE%91%E5%99%A8%E5%91%BD%E4%BB%A4>1.12.2 从文件中读取编辑器命令</a></li><li><a href=#1123-%E7%9B%B4%E6%8E%A5%E7%BC%96%E8%BE%91>1.12.3 直接编辑</a></li><li><a href=#1124-%E6%9B%BF%E6%8D%A2%E6%A0%87%E8%AE%B0>1.12.4 替换标记</a></li><li><a href=#1125-%E6%9B%BF%E6%8D%A2%E5%8F%8D%E6%96%9C%E6%9D%A0>1.12.5 替换反斜杠</a></li><li><a href=#1126-%E4%BD%BF%E7%94%A8%E5%9C%B0%E5%9D%80>1.12.6 使用地址</a></li><li><a href=#1127-%E5%88%A0%E9%99%A4%E8%A1%8C>1.12.7 删除行</a></li><li><a href=#1128-%E6%89%93%E5%8D%B0%E5%86%85%E5%AE%B9>1.12.8 打印内容</a></li></ul></li><li><a href=#113-cd>1.13 cd</a></li><li><a href=#114-cp>1.14 cp</a></li><li><a href=#114-mv>1.14 mv</a></li><li><a href=#115-open>1.15 open</a></li><li><a href=#116-source>1.16 source</a></li><li><a href=#117-tree>1.17 tree</a></li><li><a href=#118-ln>1.18 ln</a></li><li><a href=#119-file>1.19 file</a></li><li><a href=#120-sort>1.20 sort</a></li><li><a href=#121-uniq>1.21 uniq</a></li><li><a href=#122-split>1.22 split</a></li><li><a href=#123-vim>1.23 vim</a></li></ul></li><li><a href=#2-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86>2: 系统管理</a><ul><li><a href=#21-nohup>2.1 nohup</a></li><li><a href=#22-watch>2.2 watch</a></li><li><a href=#23-ping>2.3 ping</a></li><li><a href=#24-which>2.4 which</a></li><li><a href=#25-shutdown>2.5 shutdown</a></li><li><a href=#26-reboot>2.6 reboot</a></li><li><a href=#27-uptime>2.7 uptime</a></li><li><a href=#28-crontab>2.8 crontab</a></li><li><a href=#29-at>2.9 at</a></li><li><a href=#210-uname>2.10 uname</a></li><li><a href=#211-ifconfig>2.11 ifconfig</a></li><li><a href=#212-whereis>2.12 whereis</a></li><li><a href=#213-chmod>2.13 chmod</a><ul><li><a href=#2131-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E7%A0%81>2.13.1 文件权限码</a></li></ul></li><li><a href=#214-chown>2.14 chown</a></li><li><a href=#215-lsof>2.15 lsof</a></li><li><a href=#216-systemctl>2.16 systemctl</a></li><li><a href=#217-service>2.17 service</a></li><li><a href=#218-free>2.18 free</a></li><li><a href=#219-type>2.19 type</a></li><li><a href=#220-alias>2.20 alias</a></li><li><a href=#221-time>2.21 time</a></li><li><a href=#222-jobs>2.22 jobs</a></li><li><a href=#223->2.23 &</a></li></ul></li><li><a href=#3-%E7%B3%BB%E7%BB%9F%E8%BF%9B%E7%A8%8B>3: 系统进程</a><ul><li><a href=#ps>ps</a> * <a href=#unix-%E9%A3%8E%E6%A0%BC%E5%8F%82%E6%95%B0>Unix 风格参数</a></li><li><a href=#pstree>pstree</a>
_ <a href=#%E6%98%BE%E7%A4%BA%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%89%80%E6%9C%89%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF>显示所有进程的所有详细信息</a>
_ <a href=#%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%BF%9B%E7%A8%8B%E5%8F%B7%E5%92%8C%E8%BF%9B%E7%A8%8B-id>显示当前所有进程的进程号和进程 id</a></li><li><a href=#top>top</a></li><li><a href=#netstat>netstat</a></li><li><a href=#kill>kill</a> * <a href=#%E8%BF%9B%E7%A8%8B%E4%BF%A1%E5%8F%B7>进程信号</a></li><li><a href=#killall>killall</a></li></ul></li><li><a href=#4-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86>4: 用户管理</a><ul><li><a href=#useradd>useradd</a>
_ <a href=#useradd-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0>useradd 命令行参数</a><br>_ <a href=#%E6%9B%B4%E6%94%B9%E9%BB%98%E8%AE%A4%E5%80%BC%E5%8F%82%E6%95%B0>更改默认值参数</a></li><li><a href=#userdel>userdel</a></li><li><a href=#passwd>passwd</a></li><li><a href=#chpasswd>chpasswd</a></li><li><a href=#chsh>chsh</a></li><li><a href=#chfn>chfn</a> * <a href=#%E4%BF%AE%E6%94%B9%E7%9C%9F%E5%AE%9E%E5%A7%93%E5%90%8D>修改真实姓名</a></li><li><a href=#usermod>usermod</a></li><li><a href=#users>users</a></li><li><a href=#who>who</a></li><li><a href=#w>w</a></li><li><a href=#last>last</a></li><li><a href=#su>su</a></li><li><a href=#whoami>whoami</a></li></ul></li><li><a href=#5-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F>5: 环境变量</a><ul><li><a href=#printenv>printenv</a></li><li><a href=#set>set</a></li><li><a href=#export>export</a></li><li><a href=#unset>unset</a></li></ul></li><li><a href=#6-%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B>6: 压缩、解压</a><ul><li><a href=#zip>zip</a></li><li><a href=#unzip>unzip</a></li><li><a href=#gzip>gzip</a></li><li><a href=#bzip2>bzip2</a></li><li><a href=#tar>tar</a></li></ul></li><li><a href=#7-%E5%8A%A0%E8%A7%A3%E5%AF%86>7: 加解密</a><ul><li><a href=#md5sum>md5sum</a></li><li><a href=#base64>base64</a></li></ul></li><li><a href=#8-%E7%BD%91%E7%BB%9C>8: 网络</a><ul><li><a href=#ssh>ssh</a></li><li><a href=#wget>wget</a></li><li><a href=#curl>curl</a><br>_ <a href=#%E4%B8%8D%E4%BC%A0%E9%80%92%E4%BB%BB%E4%BD%95%E5%8F%82%E6%95%B0%E5%8F%AA%E6%89%93%E5%8D%B0-http-%E5%93%8D%E5%BA%94%E5%86%85%E5%AE%B9>不传递任何参数只打印 HTTP 响应内容</a><br>_ <a href=#-s-%E4%B8%8D%E8%BE%93%E5%87%BA%E9%94%99%E8%AF%AF%E5%92%8C%E8%BF%9B%E5%BA%A6%E4%BF%A1%E6%81%AF-%E5%8F%AA%E6%98%BE%E7%A4%BA%E6%AD%A3%E5%B8%B8%E7%BB%93%E6%9E%9C>-s 不输出错误和进度信息, 只显示正常结果</a><br>_ <a href=#-o-%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E5%90%8D%E4%B8%8B%E8%BD%BD%E5%88%B0%E6%9C%AC%E5%9C%B0%E7%AD%89%E4%BB%B7%E4%BA%8E-wget>-o 指定文件名下载到本地，等价于 wget</a><br>_ <a href=#-o-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E5%88%B0%E6%9C%AC%E5%9C%B0-%E5%B9%B6%E5%B0%86-url-%E6%9C%80%E5%90%8E%E9%83%A8%E5%88%86%E5%BD%93%E5%81%9A%E6%96%87%E4%BB%B6%E5%90%8D>-O 下载文件到本地, 并将 URL 最后部分当做文件名</a><br>_ <a href=#--progress-%E6%98%BE%E7%A4%BA%E8%BF%9B%E5%BA%A6%E6%9D%A1>&ndash;progress 显示进度条</a><br>_ <a href=#-l-http-%E8%AF%B7%E6%B1%82%E8%B7%9F%E9%9A%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%87%8D%E5%AE%9A%E5%90%91>-L HTTP 请求跟随服务器重定向</a><br>_ <a href=#-i-%E6%88%96---head-%E6%98%BE%E7%A4%BA-http-%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87-%E4%B8%8D%E6%89%93%E5%8D%B0%E5%93%8D%E5%BA%94%E5%86%85%E5%AE%B9>-I 或 &ndash;head 显示 HTTP 响应报文, 不打印响应内容</a><br>_ <a href=#-h-%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E5%A4%B4>-H 设置请求头</a><br>_ <a href=#-x-%E6%8C%87%E6%98%8E-http-%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95>-X 指明 HTTP 请求方法</a><br>_ <a href=#-d-%E8%A6%81%E5%8F%91%E9%80%81%E7%9A%84%E5%AE%9E%E4%BD%93%E5%86%85%E5%AE%B9>-d 要发送的实体内容</a>
_ <a href=#--cookie-http-%E8%AF%B7%E6%B1%82%E6%97%B6%E6%90%BA%E5%B8%A6%E7%9A%84-cookie-%E4%BF%A1%E6%81%AF>&ndash;cookie HTTP 请求时携带的 cookie 信息</a><br>_ <a href=#-v-%E6%89%93%E5%8D%B0%E6%95%B4%E4%B8%AA%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B>-v 打印整个传输过程</a><br>_ <a href=#-f-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E9%BB%98%E8%AE%A4%E4%BB%A5-post-%E6%96%B9%E6%B3%95%E8%AF%B7%E6%B1%82>-F 上传文件，默认以 POST 方法请求</a><br>_ <a href=#-u-%E8%AF%B7%E6%B1%82%E6%8E%88%E6%9D%83>-u 请求授权</a> * <a href=#--retry-%E8%AF%B7%E6%B1%82%E9%87%8D%E8%AF%95>&ndash;retry 请求重试</a></li><li><a href=#scp>scp</a></li><li><a href=#rsync>rsync</a>
_ <a href=#%E6%9C%AC%E5%9C%B0%E5%90%8C%E6%AD%A5%E6%96%87%E4%BB%B6>本地同步文件</a>
_ <a href=#%E8%BF%9C%E7%A8%8B%E5%90%8C%E6%AD%A5%E6%96%87%E4%BB%B6>远程同步文件</a>
_ <a href=#%E5%A2%9E%E9%87%8F%E5%A4%87%E4%BB%BD>增量备份</a>
_ <a href=#%E5%85%B6%E4%BB%96%E7%94%A8%E6%B3%95>其他用法</a></li></ul></li><li><a href=#9-%E7%A3%81%E7%9B%98>9: 磁盘</a><ul><li><a href=#df>df</a> * <a href=#%E6%8F%8F%E8%BF%B0>描述</a></li><li><a href=#du>du</a></li></ul></li><li><a href=#10-%E5%8C%85%E7%AE%A1%E7%90%86>10: 包管理</a><ul><li><a href=#yum>yum</a></li><li><a href=#apt-get>apt-get</a></li></ul></li><li><a href=#11-%E5%85%B6%E4%BB%96>11: 其他</a><ul><li><a href=#%E7%9B%AE%E5%BD%95%E5%90%8D%E7%A7%B0%E5%90%AB%E4%B9%89>目录名称含义</a></li><li><a href=#%E9%87%8D%E5%AE%9A%E5%90%91%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA>重定向输入和输出</a>
_ <a href=#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91>输出重定向</a>
_ <a href=#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91>输入重定向</a></li><li><a href=#%E7%AE%A1%E9%81%93>管道</a></li><li><a href=#echo>echo</a></li><li><a href=#date>date</a></li><li><a href=#man>man</a></li><li><a href=#sleep>sleep</a></li><li><a href=#history>history</a></li><li><a href=#xargs>xargs</a></li><li><a href=#cal>cal</a></li><li><a href=#expr>expr</a></li><li><a href=#bc>bc</a></li><li><a href=#timeout>timeout</a></li><li><a href=#exit>exit</a></li><li><a href=#basename>basename</a></li><li><a href=#read>read</a></li><li><a href=#tee>tee</a></li><li><a href=#clear>clear</a></li></ul></li></ul><h1 id=1-文件>1: 文件</h1><h2 id=11-查看文件内容>1.1 查看文件内容</h2><h3 id=111-head>1.1.1 head</h3><p>显示文件的头部内容，默认前 10 行</p></div><div class=read-more><a href=/post/linux/015-linux-manual/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/golang/002-go%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%8D%A0%E4%BD%8D%E7%AC%A6%E6%B1%87%E6%80%BB/>01-Go格式化占位符汇总</a></h1><div class=post-meta><span class=post-time>2021-04-17</span><div class=post-category><a href=/categories/go/>Go</a></div></div></header><div class=post-content><div class=post-summary><div align=center><font size=35>Go格式化占位符汇总</font></div><ul><li><a href=#1%E5%8D%A0%E4%BD%8D%E7%AC%A6-placeholder>1：占位符 placeholder</a><ul><li><a href=#11-%E9%80%9A%E7%94%A8%E5%8D%A0%E4%BD%8D%E7%AC%A6-placeholder>1.1 通用占位符 placeholder</a></li><li><a href=#12-%E6%95%B4%E5%BD%A2%E5%8D%A0%E4%BD%8D%E7%AC%A6-placeholder>1.2 整形占位符 placeholder</a></li><li><a href=#13-%E6%B5%AE%E7%82%B9%E6%95%B0%E4%B8%8E%E5%A4%8D%E6%95%B0-placeholder>1.3 浮点数与复数 placeholder</a></li><li><a href=#14-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8Cbyte-placeholder>1.4 字符串和[]byte placeholder</a></li><li><a href=#15-pointer>1.5 pointer</a></li><li><a href=#16-%E5%AE%BD%E5%BA%A6%E6%A0%87%E8%AF%86%E7%AC%A6-placeholder>1.6 宽度标识符 placeholder</a></li><li><a href=#17-%E5%85%B6%E4%BB%96-flag>1.7 其他 flag</a></li></ul></li><li><a href=#2go-%E5%8D%A0%E4%BD%8D%E7%AC%A6>2：go 占位符</a></li></ul><h1 id=1占位符-placeholder>1：占位符 placeholder</h1><h2 id=11-通用占位符-placeholder>1.1 通用占位符 placeholder</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// %v: 值的默认格式表示</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%v\n&#34;</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span> <span class=c1>//100</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %+v: 类似%v，但输出结构体时会添加字段名</span>
</span></span><span class=line><span class=cl><span class=nx>o</span> <span class=o>:=</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>name</span> <span class=kt>string</span> <span class=p>}{</span><span class=s>&#34;tim&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%+v\n&#34;</span><span class=p>,</span> <span class=nx>o</span><span class=p>)</span>  <span class=c1>//{name:tim}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %#v: 值的 Go 语法表示</span>
</span></span><span class=line><span class=cl><span class=nx>o</span> <span class=o>:=</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>name</span> <span class=kt>string</span> <span class=p>}{</span><span class=s>&#34;tim&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%#v\n&#34;</span><span class=p>,</span> <span class=nx>o</span><span class=p>)</span>  <span class=c1>//struct { name string }{name:&#34;tim&#34;}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %T: 打印值的类型</span>
</span></span><span class=line><span class=cl><span class=nx>o</span> <span class=o>:=</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>name</span> <span class=kt>string</span> <span class=p>}{</span><span class=s>&#34;tim&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%T\n&#34;</span><span class=p>,</span> <span class=nx>o</span><span class=p>)</span> <span class=c1>//struct { name string }</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %%: 打印%百分号</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;100%%\n&#34;</span><span class=p>)</span>  <span class=c1>//100%</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %t: 布尔型 boolean(true,flase)</span>
</span></span><span class=line><span class=cl><span class=nx>t</span> <span class=o>:=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: %t&#34;</span><span class=p>,</span> <span class=nx>t</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=12-整形占位符-placeholder>1.2 整形占位符 placeholder</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// %b 整形二进制</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%b\n&#34;</span><span class=p>,</span> <span class=mi>65</span><span class=p>)</span><span class=c1>//1000001</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %c 该值对应的unicode码值</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%c\n&#34;</span><span class=p>,</span> <span class=mi>65</span><span class=p>)</span><span class=c1>//A</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %d 表示为十进制</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%d\n&#34;</span><span class=p>,</span> <span class=mi>65</span><span class=p>)</span><span class=c1>//65</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %o 表示为八进制</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%o\n&#34;</span><span class=p>,</span> <span class=mi>65</span><span class=p>)</span><span class=c1>//101</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %x 表示为十六进制，使用1-f</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%x\n&#34;</span><span class=p>,</span> <span class=mi>65</span><span class=p>)</span><span class=c1>//41</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %X 表示为十六进制，使用A-F</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%X\n&#34;</span><span class=p>,</span> <span class=mi>65</span><span class=p>)</span><span class=c1>//41</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %U 表示为Unicode格式：U+1234，等价于”U+%04X”</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%U\n&#34;</span><span class=p>,</span> <span class=mi>65</span><span class=p>)</span> <span class=c1>// U+0041</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %q 该值对应的单引号括起来的go语法字符字面值必要时会采用安全的转义表示</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%q\n&#34;</span><span class=p>,</span> <span class=mi>65</span><span class=p>)</span><span class=c1>//&#39;A&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=13-浮点数与复数-placeholder>1.3 浮点数与复数 placeholder</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>f</span> <span class=o>:=</span> <span class=mf>12.34</span>
</span></span><span class=line><span class=cl><span class=c1>// 浮点型,有小数部分但无指数部分</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%f\n&#34;</span><span class=p>,</span> <span class=nx>f</span><span class=p>)</span> <span class=c1>// 12.340000</span>
</span></span><span class=line><span class=cl><span class=c1>// 小数点后2位小数</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%.2f\n&#34;</span><span class=p>,</span> <span class=nx>f</span><span class=p>)</span> <span class=c1>// 12.34</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%F\n&#34;</span><span class=p>,</span> <span class=nx>f</span><span class=p>)</span>   <span class=c1>// 12.340000</span>
</span></span><span class=line><span class=cl><span class=c1>// 无小数部分、二进制指数的科学计数法</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%b\n&#34;</span><span class=p>,</span> <span class=nx>f</span><span class=p>)</span> <span class=c1>// 6946802425218990p-49</span>
</span></span><span class=line><span class=cl><span class=c1>// 科学计数法</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%e\n&#34;</span><span class=p>,</span> <span class=nx>f</span><span class=p>)</span> <span class=c1>// 1.234000e+01</span>
</span></span><span class=line><span class=cl><span class=c1>// 根据实际情况采用%e或%f格式</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%g\n&#34;</span><span class=p>,</span> <span class=nx>f</span><span class=p>)</span> <span class=c1>// 12.34</span>
</span></span><span class=line><span class=cl><span class=c1>// 根据实际情况采用%E或%F格式</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%G\n&#34;</span><span class=p>,</span> <span class=nx>f</span><span class=p>)</span> <span class=c1>// 12.34</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=14-字符串和byte-placeholder>1.4 字符串和[]byte placeholder</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// %s  直接输出字符串或者[]byte</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%s\n&#34;</span><span class=p>,</span> <span class=s>&#34;tim&#34;</span><span class=p>)</span> <span class=c1>//tim</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %q 该值对应的双引号括起来的go语法字符串字面值，必要时会采用安全的转义表示</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%q\n&#34;</span><span class=p>,</span> <span class=s>&#34;tim&#34;</span><span class=p>)</span> <span class=c1>//&#34;tim&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %x 每个字节用两字符十六进制数表示（使用1-f)</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%x\n&#34;</span><span class=p>,</span> <span class=s>&#34;tim&#34;</span><span class=p>)</span> <span class=c1>//74696d</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %X 每个字节用两字符十六进制数表示（使用1-F）</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;%X\n&#34;</span><span class=p>,</span> <span class=s>&#34;tim&#34;</span><span class=p>)</span> <span class=c1>//74696D</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=15-pointer>1.5 pointer</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// %p 表示为十六进制，并加上前导的0x</span>
</span></span><span class=line><span class=cl><span class=nx>t</span> <span class=o>:=</span> <span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: %p&#34;</span><span class=p>,</span> <span class=nx>t</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// value: 0x14000190008</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=16-宽度标识符-placeholder>1.6 宽度标识符 placeholder</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// %f 默认宽度，默认精度</span>
</span></span><span class=line><span class=cl><span class=nx>v</span> <span class=o>:=</span> <span class=mf>92873.2309837</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: %f\n&#34;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=c1>// value: 92873.230984</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %9f 宽度9，默认精度</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: %9f\n&#34;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=c1>// value: 92873.230984</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %9.f  宽度9，精度0</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: %9.f\n&#34;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=c1>// value:     92873</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// %9.2f 宽度9，精度2</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: %9.2f\n&#34;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=c1>// value:  92873.23</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=17-其他-flag>1.7 其他 flag</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=sc>&#39;+&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>总是输出数值的正负号</span><span class=err>；</span><span class=nx>对</span><span class=o>%</span><span class=nx>q</span><span class=err>（</span><span class=o>%+</span><span class=nx>q</span><span class=err>）</span><span class=nx>会生成全部是ASCII字符的输出</span><span class=err>（</span><span class=nx>通过转义</span><span class=err>）</span>
</span></span><span class=line><span class=cl><span class=nx>v</span> <span class=o>:=</span> <span class=mf>92873.2309837</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: %+f&#34;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=c1>// value: +92873.230984</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=sc>&#39; &#39;</span>
</span></span><span class=line><span class=cl><span class=nx>对数值</span><span class=err>，</span><span class=nx>正数前加空格而负数前加负号</span><span class=err>；</span><span class=nx>对字符串采用</span><span class=o>%</span><span class=nx>x或</span><span class=o>%</span><span class=nx>X时</span><span class=err>（</span><span class=o>%</span> <span class=nx>x或</span><span class=o>%</span> <span class=nx>X</span><span class=err>）</span><span class=nx>会给各打印的字节之间加空格</span>
</span></span><span class=line><span class=cl><span class=nx>v</span> <span class=o>:=</span> <span class=mf>92873.2309837</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: %+f\n&#34;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=c1>// value: +92873.230984</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: % f\n&#34;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=c1>// value:  92873.230984</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=sc>&#39;0&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>使用0而不是空格填充</span><span class=err>，</span><span class=nx>对于数值类型会把填充的0放在正负号后面</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: %07.2f\n&#34;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=c1>// value: 92873.23</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=sc>&#39;#&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>八进制数前加0</span><span class=err>（</span><span class=o>%</span><span class=err>#</span><span class=nx>o</span><span class=err>），</span><span class=nx>十六进制数前加0x</span><span class=err>（</span><span class=o>%</span><span class=err>#</span><span class=nx>x</span><span class=err>）</span><span class=nx>或0X</span><span class=err>（</span><span class=o>%</span><span class=err>#</span><span class=nx>X</span><span class=err>），</span><span class=nx>指针去掉前面的0x</span><span class=err>（</span><span class=o>%</span><span class=err>#</span><span class=nx>p</span><span class=err>）</span><span class=nx>对</span><span class=o>%</span><span class=nx>q</span><span class=err>（</span><span class=o>%</span><span class=err>#</span><span class=nx>q</span><span class=err>），</span><span class=nx>对</span><span class=o>%</span><span class=nx>U</span><span class=err>（</span><span class=o>%</span><span class=err>#</span><span class=nx>U</span><span class=err>）</span><span class=nx>会输出空格和单引号括起来的go字面值</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=sc>&#39;-&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>在输出右边填充空白而不是默认的左边</span><span class=err>（</span><span class=nx>即从默认的右对齐切换为左对齐</span><span class=err>）</span>
</span></span><span class=line><span class=cl><span class=nx>v</span> <span class=o>:=</span> <span class=mf>101.35345345</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;value: %-3.1f\n&#34;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span> <span class=c1>// value: 101.4</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=2go-占位符>2：go 占位符</h1><p><img src=/images/Snipaste_2021-12-21_10-10-46.png alt="通用占位符 placeholder"></p></div><div class=read-more><a href=/post/golang/002-go%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%8D%A0%E4%BD%8D%E7%AC%A6%E6%B1%87%E6%80%BB/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/golang/001-go%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E7%A5%9E%E5%99%A8%E6%B1%87%E6%80%BB/>01-Go开发效率神器汇总</a></h1><div class=post-meta><span class=post-time>2021-04-17</span><div class=post-category><a href=/categories/go/>Go</a></div></div></header><div class=post-content><div class=post-summary><h1 id=table-of-contents>Table of Contents</h1><ul><li><a href=#table-of-contents>Table of Contents</a></li><li><a href=#1%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7>1：开发工具</a></li><li><a href=#2%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7>2：调试工具</a></li><li><a href=#3%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7>3：网络工具</a></li></ul><h1 id=1开发工具>1：开发工具</h1><blockquote><p>1: <strong>sql2go</strong> sql 语句转换为 Go 结构体，使用 ddl。
<a href=http://stming.cn/tool/sql2go.html>http://stming.cn/tool/sql2go.html</a></p></blockquote><blockquote><p>2: <strong>json2go</strong> 将 json 格式转为 Go struct
<a href=https://mholt.github.io/json-to-go/>https://mholt.github.io/json-to-go/</a></p></blockquote><blockquote><p>3: <strong>toml2go</strong> 将编码后的 toml 文本转为 Go struct
<a href=https://xuri.me/toml-to-go/>https://xuri.me/toml-to-go/</a></p></blockquote><blockquote><p>4: <strong>curl2go</strong> 将 curl 命令转为 go 代码
<a href=https://mholt.github.io/curl-to-go/>https://mholt.github.io/curl-to-go/</a></p></blockquote><blockquote><p>5: <strong>msql 转 ES</strong> sql 语句转换为 ES 语句.
<a href=http://www.ischoolbar.com/EsParser/>http://www.ischoolbar.com/EsParser/</a></p></div><div class=read-more><a href=/post/golang/001-go%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E7%A5%9E%E5%99%A8%E6%B1%87%E6%80%BB/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/golang/003-go%E5%B8%B8%E7%94%A8%E5%BA%93%E7%A7%AF%E7%B4%AF/>02-Go常用库积累</a></h1><div class=post-meta><span class=post-time>2021-04-17</span><div class=post-category><a href=/categories/go/>Go</a></div></div></header><div class=post-content><div class=post-summary><ul><li><a href=#1%E6%97%A5%E5%BF%97%E5%BA%93>1：日志库</a></li><li><a href=#2%E9%85%8D%E7%BD%AE%E5%BA%93>2：配置库</a></li><li><a href=#3%E5%AD%98%E5%82%A8%E7%9B%B8%E5%85%B3>3：存储相关</a></li><li><a href=#4%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84>4：数据结构</a></li><li><a href=#5cli-%E5%91%BD%E4%BB%A4%E8%A1%8C>5：CLI 命令行</a></li><li><a href=#6web-%E6%A1%86%E6%9E%B6>6：web 框架</a></li><li><a href=#7rpc-%E5%92%8C%E5%BE%AE%E6%9C%8D%E5%8A%A1>7：RPC 和微服务</a><ul><li><a href=#71-remote-procedure-call>7.1 Remote Procedure Call</a><ul><li><a href=#711-%E5%8E%9F%E7%94%9F-rpc>7.1.1 原生 RPC</a></li><li><a href=#712-grpc>7.1.2 GRPC</a><ul><li><a href=#7121-grpc-%E5%AE%89%E8%A3%85>7.1.2.1 GRPC 安装</a></li><li><a href=#7122-grpc-%E4%BD%BF%E7%94%A8>7.1.2.2 GRPC 使用</a></li><li><a href=#7123-grpc-middleware>7.1.2.3 grpc-middleware</a></li><li><a href=#7124-grpc-%E6%B5%8B%E8%AF%95>7.1.2.4 GRPC 测试</a></li><li><a href=#7125-grpc-%E5%8E%8B%E6%B5%8B-ghz>7.1.2.5 GRPC 压测 ghz</a></li></ul></li></ul></li><li><a href=#72-micro-services>7.2 Micro Services</a></li></ul></li><li><a href=#8%E5%A5%BD%E7%94%A8%E5%8F%AF%E6%9B%BF%E6%8D%A2%E5%BA%93>8：好用可替换库</a></li><li><a href=#9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3>9：数据库相关</a></li><li><a href=#10mq-%E5%BA%93>10：MQ 库</a></li><li><a href=#11%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%BB%84%E4%BB%B6%E5%BA%93>11：微服务组件库</a><ul><li><a href=#111-%E9%99%90%E6%B5%81>11.1 限流</a></li><li><a href=#112-%E7%86%94%E6%96%AD-circuitbreaker>11.2 熔断 CircuitBreaker</a></li><li><a href=#113-%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA>11.3 链路追踪</a><ul><li><a href=#1131-opentracing>11.3.1 openTracing</a></li><li><a href=#1132-oepntelemetry>11.3.2 oepnTelemetry</a></li></ul></li></ul></li><li><a href=#12-%E6%B5%8B%E8%AF%95%E7%9B%B8%E5%85%B3-related>12: 测试相关 related</a><ul><li><a href=#121-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95>12.1 单元测试</a></li><li><a href=#122-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95>12.2 性能测试</a></li><li><a href=#123-fuzztesting>12.3 FuzzTesting</a></li><li><a href=#124-loadtesting>12.4 LoadTesting</a></li></ul></li><li><a href=#14-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90>14: 性能分析</a><ul><li><a href=#141-prof>14.1 prof</a></li><li><a href=#142-trace>14.2 trace</a></li><li><a href=#143-%E6%80%A7%E8%83%BD%E5%8F%AF%E8%A7%86%E5%8C%96%E5%88%86%E6%9E%90>14.3 性能可视化分析</a></li></ul></li><li><a href=#13-%E4%BB%A3%E7%A0%81%E6%A3%80%E6%B5%8B-related>13: 代码检测 related</a><ul><li><a href=#131-%E7%AB%9E%E6%80%81%E6%A3%80%E6%B5%8B>13.1 竞态检测</a></li><li><a href=#132-go-vet-%E9%9D%99%E6%80%81%E6%A3%80%E6%9F%A5>13.2 go vet 静态检查</a></li><li><a href=#133-shadowing-variable>13.3 Shadowing variable</a></li><li><a href=#134-errcheck>13.4 errcheck</a></li></ul></li><li><a href=#15-healthstatus-checking>15: health/status checking</a></li><li><a href=#16-others>16: Others</a><ul><li><a href=#161-email-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6>16.1 email 电子邮件</a></li><li><a href=#162-%E7%83%AD%E7%BC%96%E8%AF%91>16.2 热编译</a></li><li><a href=#163-%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C>16.3 参数校验</a></li><li><a href=#164-%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E5%B7%A5%E5%85%B7>16.4 任务调度工具</a></li><li><a href=#165-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B9%B3%E5%8F%B0>16.5 自动化运维平台</a></li><li><a href=#166-deep-preety-print>16.6 deep preety print</a></li><li><a href=#167-juniper-%E6%98%AF%E4%B8%80%E4%B8%AA%E4%BD%BF%E7%94%A8%E6%B3%9B%E5%9E%8B%E6%89%A9%E5%B1%95-go-%E6%A0%87%E5%87%86%E5%BA%93%E7%9A%84%E5%BA%93%E5%8C%85%E6%8B%AC%E5%AE%B9%E5%99%A8%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C-stream>16.7 Juniper 是一个使用泛型扩展 Go 标准库的库，包括容器、迭代器和 stream</a></li><li><a href=#168-samberlo>16.8 samber/lo</a></li><li><a href=#169-gopsutil>16.9 gopsutil</a></li><li><a href=#1610-%E6%95%B0%E5%AD%A6%E7%9B%B8%E5%85%B3%E7%9A%84%E5%BA%93>16.10 数学相关的库</a></li><li><a href=#1611-%E6%8F%90%E4%BE%9B%E4%BC%98%E5%8C%96%E7%9A%84%E7%AE%97%E6%B3%95%E4%BB%A5%E5%88%A9%E7%94%A8%E7%8E%B0%E4%BB%A3-cpu-%E7%9A%84%E7%89%B9%E6%80%A7>16.11 提供优化的算法以利用现代 CPU 的特性</a></li><li><a href=#1612-ftp>16.12 FTP</a></li><li><a href=#1613-%E4%BD%BF%E7%94%A8-cmux-%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%BF%9E%E6%8E%A5%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8>16.13 使用 cmux 实现服务端连接多路复用</a></li><li><a href=#1614-golang-%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F>16.14 Golang 时间与日期</a></li><li><a href=#1615-console-progress-bar-%E8%BF%9B%E5%BA%A6%E6%9D%A1>16.15 Console progress bar 进度条</a></li><li><a href=#1616-%E5%9B%BE%E8%A1%A8-chart>16.16 图表 chart</a></li><li><a href=#1617-%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6%E7%9B%B8%E5%85%B3>16.17 读写文件相关</a></li><li><a href=#1618-%E6%95%B0%E5%AD%A6-math>16.18 数学 math</a></li><li><a href=#1619-%E6%B5%81%E9%87%8F%E5%BD%95%E5%88%B6>16.19 流量录制</a></li><li><a href=#1620-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6-sdk>16.20 常用软件 SDK</a><ul><li><a href=#16201-%E9%92%89%E9%92%89-dingtalk>16.20.1 钉钉 dingtalk</a></li><li><a href=#16201-%E5%BE%AE%E4%BF%A1-wechat>16.20.1 微信 wechat</a></li></ul></li><li><a href=#1621-go-%E5%8A%A0%E8%A7%A3%E5%AF%86>16.21 go 加解密</a></li></ul></li><li><a href=#17-%E4%B8%80%E4%BA%9B%E7%89%B9%E6%AE%8A%E7%9A%84%E5%BA%93-lib>17 一些特殊的库 Lib</a></li><li><a href=#18-tools-%E5%B7%A5%E5%85%B7%E5%BA%93>18 tools 工具库</a></li><li><a href=#19-%E9%87%91%E8%9E%8D%E4%BA%A4%E6%98%93%E7%9B%B8%E5%85%B3>19 金融交易相关</a></li><li><a href=#20-gosdk>20 gosdk</a><ul><li><a href=#201-%E5%BE%AE%E4%BF%A1>20.1 微信</a></li><li><a href=#202-%E9%92%89%E9%92%89>20.2 钉钉</a></li></ul></li><li><a href=#21-go-devops>21 go devops</a></li><li><a href=#22-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90>22 数据分析</a></li></ul><h1 id=1日志库>1：日志库</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/hunterhug/golog</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/uber-go/zap</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/rs/zerolog</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/Sirupsen/logrus</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 日志滚动包</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/natefinch/lumberjack</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 日志分析和查询平台</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/clickvisual/clickvisual</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=2配置库>2：配置库</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// viper 兼容 json，toml，yaml，hcl 等格式的配置库.</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/spf13/viper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// configor Golang Configuration tool that support YAML, JSON, TOML, Shell Environment</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/jinzhu/configor</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// env</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/caarlos0/env</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Support for JSON, TOML, YAML, env, command line, file, S3 etc. Alternative to viper.</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/knadh/koanf</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// A dead simple configuration manager for Go applications.</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/tucnak/store</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=3存储相关>3：存储相关</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>mysql</span><span class=p>:</span> <span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/go-xorm/xorm</span>
</span></span><span class=line><span class=cl><span class=nx>es</span><span class=p>:</span> <span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/elastic/elasticsearch</span>
</span></span><span class=line><span class=cl><span class=nx>redis</span><span class=p>:</span> <span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/gomodule/redigo</span>
</span></span><span class=line><span class=cl><span class=nx>mongo</span><span class=p>:</span> <span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/mongodb/mongo-go-driver</span>
</span></span><span class=line><span class=cl><span class=nx>kafka</span><span class=p>:</span> <span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/Shopify/sarama</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=4数据结构>4：数据结构</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/emirpasic/gods (go数据结构，sets,lists,stacks,maps.trees,queues ...)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// mapstructure</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/mitchellh/mapstructure (map和struct转换)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// json</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/liu-cn/json-filter</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 延迟队列(delay queue)</span>
</span></span><span class=line><span class=cl><span class=nx>github</span><span class=p>.</span><span class=nx>com</span><span class=o>/</span><span class=nx>morikuni</span><span class=o>/</span><span class=k>go</span><span class=o>-</span><span class=nx>dqueue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 无锁队列</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/lppgo/go-lockfree-queue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// map</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/cornelk/hashmap (线程安全,lockfree hashmap)</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/alphadose/haxmap (Fastest and most memory efficient golang concurrent hashmap)</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/orcaman/concurrent-map</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// xmap</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=5cli-命令行>5：CLI 命令行</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/spf13/cobra</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/urfave/cli/</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=6web-框架>6：web 框架</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// gin</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/JGLTechnologies/gin-rate-limit</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/appleboy/gin-jwt</span>
</span></span><span class=line><span class=cl><span class=c1>// echo</span>
</span></span><span class=line><span class=cl><span class=c1>// beego</span>
</span></span><span class=line><span class=cl><span class=c1>// goframe</span>
</span></span><span class=line><span class=cl><span class=c1>// firber</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>gocondor</span> <span class=p>[</span><span class=nx>A</span> <span class=nx>golang</span> <span class=nx>framework</span> <span class=k>for</span> <span class=nx>building</span> <span class=nx>modern</span> <span class=nx>APIs</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1>// https://github.com/gocondor/gocondor</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=7rpc-和微服务>7：RPC 和微服务</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// grpc</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/grpc/grpc-go</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// micro</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/asim/go-micro</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// kratos</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//go-kratos.dev/docs/getting-started/usage</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//</span>
</span></span><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/air-go/rpc</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=71-remote-procedure-call>7.1 Remote Procedure Call</h2><h3 id=711-原生-rpc>7.1.1 原生 RPC</h3><h3 id=712-grpc>7.1.2 GRPC</h3><h4 id=7121-grpc-安装>7.1.2.1 GRPC 安装</h4><h4 id=7122-grpc-使用>7.1.2.2 GRPC 使用</h4><h4 id=7123-grpc-middleware>7.1.2.3 grpc-middleware</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>https</span><span class=p>:</span><span class=c1>//github.com/grpc-ecosystem/go-grpc-middleware</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><a href=https://github.com/grpc-ecosystem/go-grpc-middleware>Go gRPC Middleware</a>:提供了拦截器的 interceptor 链式的功能，可以将多个拦截器组合成一个拦截器链，当然它还提供了其它的功能，所以以 gRPC 中间件命名;</li><li><a href=https://github.com/kazegusuri/grpc-multi-interceptor>grpc-multi-interceptor</a>: 是另一个 interceptor 链式功能的库，也可以将单向的或者流式的拦截器组合;</li><li><a href=https://github.com/grpc-ecosystem/go-grpc-middleware/blob/master/auth>grpc_auth</a>: 身份验证拦截器;</li><li><a href=https://github.com/grpc-ecosystem/go-grpc-middleware/blob/master/tags>grpc_ctxtags</a>: 为上下文增加 Tag map 对象;</li><li><a href=https://github.com/grpc-ecosystem/go-grpc-middleware/blob/master/logging/zap>grpc_zap</a>: 支持 zap 日志框架;</li><li><a href=https://github.com/grpc-ecosystem/go-grpc-middleware/blob/master/logging/logrus>grpc_logrus</a>: 支持 logrus 日志框架;</li><li><a href=https://github.com/grpc-ecosystem/go-grpc-prometheus>grpc_prometheus</a>: 支持 prometheus;</li><li><a href=https://github.com/grpc-ecosystem/grpc-opentracing/tree/master/go/otgrpc>otgrpc</a>: 支持 opentracing/zipkin;</li><li><a href=https://github.com/grpc-ecosystem/go-grpc-middleware/blob/master/tracing/opentracing>grpc_opentracing</a>:支持 opentracing/zipkin;</li><li><a href=https://github.com/grpc-ecosystem/go-grpc-middleware/blob/master/retry>grpc_retry</a>: 为客户端增加重试的功能;</li><li><a href=https://github.com/grpc-ecosystem/go-grpc-middleware/blob/master/validator>grpc_validator</a>: 为服务器端增加校验的功能</li></ul><h4 id=7124-grpc-测试>7.1.2.4 GRPC 测试</h4><ul><li><p><strong>(1): <a href=https://github.com/uw-labs/bloomrpc>BloomRPC</a></strong></p></div><div class=read-more><a href=/post/golang/003-go%E5%B8%B8%E7%94%A8%E5%BA%93%E7%A7%AF%E7%B4%AF/ class=read-more-link>阅读更多</a></div></div></article></section><nav class=pagination><a class=prev href=/page/8/><i class="iconfont icon-left"></i>
<span class=prev-text>上一页</span>
</a><a class=next href=/page/10/><span class=next-text>下一页</span>
<i class="iconfont icon-right"></i></a></nav></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:golpp@qq.com class="iconfont icon-email" title=email></a><a href=http://localhost:1313 class="iconfont icon-stack-overflow" title=stack-overflow></a><a href=http://localhost:1313 class="iconfont icon-twitter" title=twitter></a><a href=http://localhost:1313 class="iconfont icon-facebook" title=facebook></a><a href=https://github.com/lppgo class="iconfont icon-github" title=github></a><a href=http://localhost:1313 class="iconfont icon-weibo" title=weibo></a><a href=https://github.com/lppgo class="iconfont icon-gitlab" title=gitlab></a><a href=http://localhost:1313 class="iconfont icon-bilibili" title=bilibili></a><a href=/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>由 <a class=hexo-link href=https://gohugo.io>Hugo</a> 强力驱动
</span><span class=division>|</span>
<span class=theme-info>主题 -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span><span class=copyright-year>&copy;
2015 -
2025<span class=heart><i class="iconfont icon-heart"></i></span><span></span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script><script id=baidu_push>(function(){if(window.location.hostname==="localhost")return;var t,n,e=document.createElement("script");e.async=!0,n=window.location.protocol.split(":")[0],n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></body></html>