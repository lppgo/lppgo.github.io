<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Even - A super concise theme for Hugo</title>
<meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=Cache-Control content="no-transform"><meta http-equiv=Cache-Control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content><meta name=description content="Hugo theme even example site."><meta name=keywords content="Hugo,theme,even"><meta name=generator content="Hugo 0.147.0 with theme even"><link rel=canonical href=https://lppgo.github.io/><link href=https://lppgo.github.io/index.xml rel=alternate type=application/rss+xml title="Even - A super concise theme for Hugo"><link href=https://lppgo.github.io/index.xml rel=feed type=application/rss+xml title="Even - A super concise theme for Hugo"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:url" content="https://lppgo.github.io/"><meta property="og:site_name" content="Even - A super concise theme for Hugo"><meta property="og:title" content="Even - A super concise theme for Hugo"><meta property="og:description" content="Hugo theme even example site."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Even - A super concise theme for Hugo"><meta itemprop=description content="Hugo theme even example site."><meta itemprop=datePublished content="2025-03-17T00:00:00+00:00"><meta itemprop=dateModified content="2025-04-29T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Even - A super concise theme for Hugo"><meta name=twitter:description content="Hugo theme even example site."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>lppgo</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>lppgo</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><section id=posts class=posts><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/linux/013-top%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/>01-top命令基本使用</a></h1><div class=post-meta><span class=post-time>2021-09-11</span><div class=post-category><a href=/categories/linux/>Linux</a></div></div></header><div class=post-content><div class=post-summary><ul><li><a href=#1-top-%E5%91%BD%E4%BB%A4%E6%8C%89%E9%94%AE>1: Top 命令按键</a></li><li><a href=#2-top-%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E>2 Top 参数说明</a><ul><li><a href=#21-cpu-%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF>2.1 CPU 状态信息</a></li><li><a href=#22-memestate>2.2 MemeState</a></li><li><a href=#23-swap-%E4%BA%A4%E6%8D%A2%E5%86%85%E5%AD%98>2.3 Swap 交换内存</a></li><li><a href=#24-%E5%90%84%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%E7%9B%91%E6%8E%A7>2.4 各进程状态监控</a></li><li><a href=#25-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A>2.5 名词解释</a><ul><li><a href=#251-virtvirtual-memory-usage-%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98>2.5.1 VIRT：virtual memory usage 虚拟内存</a></li><li><a href=#252-resresident-memory-usage-%E5%B8%B8%E9%A9%BB%E5%86%85%E5%AD%98>2.5.2 RES：resident memory usage 常驻内存</a></li><li><a href=#253-shrshared-memory-%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98>2.5.3 SHR：shared memory 共享内存</a></li><li><a href=#254-data>2.5.4 DATA</a></li></ul></li></ul></li></ul><h1 id=1-top-命令按键>1: Top 命令按键</h1><table><thead><tr><th style=text-align:center>options</th><th style=text-align:center>按键</th><th style=text-align:left>说明</th><th style=text-align:left>示例</th><th style=text-align:left>其他</th></tr></thead><tbody><tr><td style=text-align:center><code>-u</code></td><td style=text-align:center></td><td style=text-align:left>显示特定 user 的进程</td><td style=text-align:left><code>top -u lucas</code></td><td style=text-align:left></td></tr><tr><td style=text-align:center><code>-p</code></td><td style=text-align:center></td><td style=text-align:left>显示特定 PID 的进程</td><td style=text-align:left><code>top -p 10001 10002</code></td><td style=text-align:left></td></tr><tr><td style=text-align:center><code>-n</code></td><td style=text-align:center></td><td style=text-align:left>10 次输出后退出程</td><td style=text-align:left><code>top -n 10</code></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>1</code></td><td style=text-align:left>按数字 1 可以显示每个 CPU 核心使用情况</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>M</code></td><td style=text-align:left>根据驻留内存<code>RES</code>大小进行排序,由大到小（注意大小写)</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>R</code></td><td style=text-align:left>按<code>RES</code>反序排序</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>P</code></td><td style=text-align:left>根据 CPU 使用百分比大小进行</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>T</code></td><td style=text-align:left>根据时间/累计时间进行排序</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>c</code></td><td style=text-align:left>切换显示命令名称和完整命令行</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>i</code></td><td style=text-align:left>忽略闲置和僵死进程。这是一个开关式命令。</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>f</code></td><td style=text-align:left>更改显示内容通过 f 键可以选择显示的内容。按 f 键之后会显示列的列表，空格确定显示或者取消显示 a 是切换</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>d</code></td><td style=text-align:left>更改刷新时间</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>o</code></td><td style=text-align:left>进入 top 后，按下 o 后，会让你输入过滤条件,输入 <code>COMMAND=nginx</code>,现在就只剩下模糊匹配 nginx 关键字的进程了</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>Shift+P</code></td><td style=text-align:left>对进程 CPU 利用率进行排序</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:center></td><td style=text-align:center><code>Shift+O</code></td><td style=text-align:left>对进程 Memory 利用率进行排序</td><td style=text-align:left></td><td style=text-align:left></td></tr></tbody></table><h1 id=2-top-参数说明>2 Top 参数说明</h1><h2 id=21-cpu-状态信息>2.1 CPU 状态信息</h2><p>0.0%us 【user space】— 用户空间占用 CPU 的百分比。</p></div><div class=read-more><a href=/post/linux/013-top%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/others/001-zshrc/>01-zshrc 笔记</a></h1><div class=post-meta><span class=post-time>2021-09-11</span><div class=post-category><a href=/categories/other/>other </a><a href=/categories/linux/>Linux</a></div></div></header><div class=post-content><div class=post-summary><div align=center><font size=35>zshrc笔记</font></div><ul><li><a href=#1zshrc-%E6%96%87%E4%BB%B6>1：zshrc 文件</a></li><li><a href=#2%E5%85%B6%E4%BB%96%E8%AF%B4%E6%98%8E>2：其他说明</a></li></ul><h1 id=1zshrc-文件>1：zshrc 文件</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># If you come from bash you might have to change your $PATH.</span>
</span></span><span class=line><span class=cl><span class=c1># export PATH=$HOME/bin:/usr/local/bin:$PATH</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Path to your oh-my-zsh installation.</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>ZSH</span><span class=o>=</span><span class=s2>&#34;/home/lucas/.oh-my-zsh&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set name of the theme to load --- if set to &#34;random&#34;, it will</span>
</span></span><span class=line><span class=cl><span class=c1># load a random theme each time oh-my-zsh is loaded, in which case,</span>
</span></span><span class=line><span class=cl><span class=c1># to know which specific one was loaded, run: echo $RANDOM_THEME</span>
</span></span><span class=line><span class=cl><span class=c1># See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 修改默认主题</span>
</span></span><span class=line><span class=cl><span class=nv>ZSH_THEME</span><span class=o>=</span><span class=s2>&#34;ys&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set list of themes to pick from when loading at random</span>
</span></span><span class=line><span class=cl><span class=c1># Setting this variable when ZSH_THEME=random will cause zsh to load</span>
</span></span><span class=line><span class=cl><span class=c1># a theme from this variable instead of looking in $ZSH/themes/</span>
</span></span><span class=line><span class=cl><span class=c1># If set to an empty array, this variable will have no effect.</span>
</span></span><span class=line><span class=cl><span class=c1># ZSH_THEME_RANDOM_CANDIDATES=( &#34;robbyrussell&#34; &#34;agnoster&#34; )</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line to use case-sensitive completion.</span>
</span></span><span class=line><span class=cl><span class=c1># CASE_SENSITIVE=&#34;true&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line to use hyphen-insensitive completion.</span>
</span></span><span class=line><span class=cl><span class=c1># Case-sensitive completion must be off. _ and - will be interchangeable.</span>
</span></span><span class=line><span class=cl><span class=c1># HYPHEN_INSENSITIVE=&#34;true&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line to disable bi-weekly auto-update checks.</span>
</span></span><span class=line><span class=cl><span class=c1># DISABLE_AUTO_UPDATE=&#34;true&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line to automatically update without prompting.</span>
</span></span><span class=line><span class=cl><span class=c1># DISABLE_UPDATE_PROMPT=&#34;true&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line to change how often to auto-update (in days).</span>
</span></span><span class=line><span class=cl><span class=c1># export UPDATE_ZSH_DAYS=13</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line if pasting URLs and other text is messed up.</span>
</span></span><span class=line><span class=cl><span class=c1># DISABLE_MAGIC_FUNCTIONS=true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line to disable colors in ls.</span>
</span></span><span class=line><span class=cl><span class=c1># DISABLE_LS_COLORS=&#34;true&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line to disable auto-setting terminal title.</span>
</span></span><span class=line><span class=cl><span class=c1># DISABLE_AUTO_TITLE=&#34;true&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line to enable command auto-correction.</span>
</span></span><span class=line><span class=cl><span class=c1># ENABLE_CORRECTION=&#34;true&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line to display red dots whilst waiting for completion.</span>
</span></span><span class=line><span class=cl><span class=c1># COMPLETION_WAITING_DOTS=&#34;true&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line if you want to disable marking untracked files</span>
</span></span><span class=line><span class=cl><span class=c1># under VCS as dirty. This makes repository status check for large repositories</span>
</span></span><span class=line><span class=cl><span class=c1># much, much faster.</span>
</span></span><span class=line><span class=cl><span class=c1># DISABLE_UNTRACKED_FILES_DIRTY=&#34;true&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment the following line if you want to change the command execution time</span>
</span></span><span class=line><span class=cl><span class=c1># stamp shown in the history command output.</span>
</span></span><span class=line><span class=cl><span class=c1># You can set one of the optional three formats:</span>
</span></span><span class=line><span class=cl><span class=c1># &#34;mm/dd/yyyy&#34;|&#34;dd.mm.yyyy&#34;|&#34;yyyy-mm-dd&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># or set a custom format using the strftime function format specifications,</span>
</span></span><span class=line><span class=cl><span class=c1># see &#39;man strftime&#39; for details.</span>
</span></span><span class=line><span class=cl><span class=c1># HIST_STAMPS=&#34;mm/dd/yyyy&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Would you like to use another custom folder than $ZSH/custom?</span>
</span></span><span class=line><span class=cl><span class=c1># ZSH_CUSTOM=/path/to/new-custom-folder</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Which plugins would you like to load?</span>
</span></span><span class=line><span class=cl><span class=c1># Standard plugins can be found in $ZSH/plugins/</span>
</span></span><span class=line><span class=cl><span class=c1># Custom plugins may be added to $ZSH_CUSTOM/plugins/</span>
</span></span><span class=line><span class=cl><span class=c1># Example format: plugins=(rails git textmate ruby lighthouse)</span>
</span></span><span class=line><span class=cl><span class=c1># Add wisely, as too many plugins slow down shell startup.</span>
</span></span><span class=line><span class=cl><span class=nv>plugins</span><span class=o>=(</span>
</span></span><span class=line><span class=cl>    git
</span></span><span class=line><span class=cl>    zsh-syntax-highlighting
</span></span><span class=line><span class=cl>    zsh-autosuggestions
</span></span><span class=line><span class=cl>    sudo
</span></span><span class=line><span class=cl><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>source</span> <span class=nv>$ZSH</span>/oh-my-zsh.sh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># User configuration</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># export MANPATH=&#34;/usr/local/man:$MANPATH&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># You may need to manually set your language environment</span>
</span></span><span class=line><span class=cl><span class=c1># export LANG=en_US.UTF-8</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Preferred editor for local and remote sessions</span>
</span></span><span class=line><span class=cl><span class=c1># if [[ -n $SSH_CONNECTION ]]; then</span>
</span></span><span class=line><span class=cl><span class=c1>#   export EDITOR=&#39;vim&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># else</span>
</span></span><span class=line><span class=cl><span class=c1>#   export EDITOR=&#39;mvim&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Compilation flags</span>
</span></span><span class=line><span class=cl><span class=c1># export ARCHFLAGS=&#34;-arch x86_64&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set personal aliases, overriding those provided by oh-my-zsh libs,</span>
</span></span><span class=line><span class=cl><span class=c1># plugins, and themes. Aliases can be placed here, though oh-my-zsh</span>
</span></span><span class=line><span class=cl><span class=c1># users are encouraged to define aliases within the ZSH_CUSTOM folder.</span>
</span></span><span class=line><span class=cl><span class=c1># For a full list of active aliases, run `alias`.</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># Example aliases</span>
</span></span><span class=line><span class=cl><span class=c1># alias zshconfig=&#34;mate ~/.zshrc&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># alias ohmyzsh=&#34;mate ~/.oh-my-zsh&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>source</span> <span class=nv>$ZSH_CUSTOM</span>/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
</span></span><span class=line><span class=cl><span class=nb>source</span> <span class=nv>$ZSH_CUSTOM</span>/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 修改默认编辑器为vim</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>EDITOR</span><span class=o>=</span>/usr/bin/vim
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GOROOT</span><span class=o>=</span>/usr/local/go
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GOPATH</span><span class=o>=</span><span class=nv>$HOME</span>/go
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GOBIN</span><span class=o>=</span><span class=nv>$GOPATH</span>/bin
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=nv>$GOPATH</span>:<span class=nv>$GOBIN</span>:<span class=nv>$GOROOT</span>/bin:<span class=nv>$PATH</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>RUSTUP_DIST_SERVER</span><span class=o>=</span>https://mirrors.ustc.edu.cn/rust-static
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>RUSTUP_UPDATE_ROOT</span><span class=o>=</span>https://mirrors.ustc.edu.cn/rust-static/rustup
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/bin:</span><span class=nv>$HOME</span><span class=s2>/.local/bin:</span><span class=nv>$PATH</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$PATH</span><span class=s2>:/mnt/c/Program\ Files/Docker/Docker/resources/bin&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$PATH</span><span class=s2>:/usr/local/lib/node-v16.4.2-linux-x64/bin&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># export DOCKER_HOST=&#34;tcp://0.0.0.0:2375&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># alias</span>
</span></span><span class=line><span class=cl><span class=c1># alias docker=docker.exe</span>
</span></span><span class=line><span class=cl><span class=c1># alias docker-compose=docker-compose.exe</span>
</span></span><span class=line><span class=cl><span class=c1># alias go colorgo</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># history 命令显示时间</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>HIST_STAMPS</span><span class=o>=</span><span class=s2>&#34;yyyy-mm-dd&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ----------------proxy----------------------</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=nv>WindowsIP</span><span class=o>=</span><span class=k>$(</span>cat /etc/resolv.conf <span class=p>|</span> grep -oP <span class=s1>&#39;(?&lt;=nameserver\ ).*&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=cl><span class=nv>PROXY_PORT</span><span class=o>=</span><span class=m>7078</span>
</span></span><span class=line><span class=cl><span class=nv>PROXY_HTTP</span><span class=o>=</span><span class=s2>&#34;http://</span><span class=si>${</span><span class=nv>WindowsIP</span><span class=si>}</span><span class=s2>:</span><span class=si>${</span><span class=nv>PROXY_PORT</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># Git &amp; SSH for Git proxy</span>
</span></span><span class=line><span class=cl>proxy_git<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    git config --global http.https://github.com.proxy <span class=si>${</span><span class=nv>PROXY_HTTP</span><span class=si>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> ! grep -qF <span class=s2>&#34;Host github.com&#34;</span> ~/.ssh/config<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Host github.com&#34;</span> &gt;&gt;~/.ssh/config
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;  User git&#34;</span> &gt;&gt;~/.ssh/config
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;  ProxyCommand nc -X 5 -x </span><span class=si>${</span><span class=nv>PROXY_SOCKS5</span><span class=si>}</span><span class=s2> %h %p&#34;</span> &gt;&gt;~/.ssh/config
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=nv>lino</span><span class=o>=</span><span class=k>$(($(</span>awk <span class=s1>&#39;/Host github.com/{print NR}&#39;</span> ~/.ssh/config<span class=k>)</span> <span class=o>+</span> <span class=m>2</span><span class=k>))</span>
</span></span><span class=line><span class=cl>        sed -i <span class=s2>&#34;</span><span class=si>${</span><span class=nv>lino</span><span class=si>}</span><span class=s2>c\  ProxyCommand nc -X 5 -x </span><span class=si>${</span><span class=nv>PROXY_SOCKS5</span><span class=si>}</span><span class=s2> %h %p&#34;</span> ~/.ssh/config
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=c1># Set proxy</span>
</span></span><span class=line><span class=cl>set_proxy<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>export</span> <span class=nv>http_proxy</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PROXY_HTTP</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>export</span> <span class=nv>https_proxy</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>PROXY_HTTP</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    proxy_git
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=c1># Unset proxy</span>
</span></span><span class=line><span class=cl>unset_proxy<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>unset</span> http_proxy
</span></span><span class=line><span class=cl>    <span class=nb>unset</span> https_proxy
</span></span><span class=line><span class=cl>    git config --global --unset http.https://github.com.proxy
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set alias</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>proxy</span><span class=o>=</span>set_proxy
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>deproxy</span><span class=o>=</span>unset_proxy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>px</span><span class=o>=</span><span class=s1>&#39;proxychains4&#39;</span> <span class=c1># 此后 px curl google.com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># wsl sync time</span>
</span></span><span class=line><span class=cl><span class=c1># alias synctime=&#39;sudo ntpdate asia.pool.ntp.org;sudo ntpdate time.nist.gov;&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>synctime1</span><span class=o>=</span><span class=s1>&#39;sudo ntpdate asia.pool.ntp.org;&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>synctime2</span><span class=o>=</span><span class=s1>&#39;sudo ntpdate time.nist.gov;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 手动释放内存</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>freemem</span><span class=o>=</span><span class=s1>&#39;~/myshell/free-mem.sh&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># alias godoc=&#39;GO111MODULE=off godoc&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>fy</span><span class=o>=</span><span class=s1>&#39;unproxy dict&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=2其他说明>2：其他说明</h1></div><div class=read-more><a href=/post/others/001-zshrc/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/c++/001-c++vscode%E9%85%8D%E7%BD%AE/>01-C++VScode 配置</a></h1><div class=post-meta><span class=post-time>2021-09-07</span><div class=post-category><a href=/categories/c++/>C++</a></div></div></header><div class=post-content><div class=post-summary><div align=center><font size=50>C++ VScode 配置</font></div><ul><li><a href=#1-cc%E5%9F%BA%E7%A1%80>1 C/C++基础</a></li><li><a href=#2-vscode-%E5%AE%89%E8%A3%85-cc%E6%8F%92%E4%BB%B6>2 Vscode 安装 C/C++插件</a></li><li><a href=#3-taskjsonlaunchjson>3 task.json，launch.json</a><ul><li><a href=#31-taskjson-%E6%98%AF%E7%BC%96%E8%AF%91%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E7%9A%84%E6%8C%87%E4%BB%A4>3.1 task.json 是编译当前文件的指令</a></li><li><a href=#32-launchjson>3.2 launch.json</a></li><li><a href=#33-c_cpp_propertiesjson>3.3 c_cpp_properties.json</a></li></ul></li><li><a href=#4-cmake>4 cmake</a></li></ul><h1 id=1-cc基础>1 C/C++基础</h1><ul><li><code>gcc</code>工具用来编译运行 C 语言编写的源文件；</li><li><code>g++</code>工具用来编译运行 C++语言编写的源文件；</li><li><code>gdb</code>工具用来调试 C/C++代码。</li><li>gcc -v</li><li>g++ -v</li></ul><p>在命令行环境中，基本的编译运行命令大致如下：</p></div><div class=read-more><a href=/post/c++/001-c++vscode%E9%85%8D%E7%BD%AE/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/golang/015-file-and-io/>01-Golang Files and I/O</a></h1><div class=post-meta><span class=post-time>2021-08-10</span><div class=post-category><a href=/categories/go/>Go</a></div></div></header><div class=post-content><div class=post-summary><div align=center><font size=50>Golang Files and I/O</font></div><h1 id=table-of-contents>Table of Contents</h1><ul><li><a href=#table-of-contents>Table of Contents</a></li><li><a href=#%E4%B8%80%E8%AF%BB%E6%96%87%E4%BB%B6>一：读文件</a><ul><li><a href=#11-%E8%AF%BB%E4%B8%80%E4%B8%AA-whole-%E6%96%87%E4%BB%B6>1.1 读一个 whole 文件</a></li><li><a href=#12-%E8%AF%BB%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6close>1.2 读一个文件，close</a></li><li><a href=#13-read-file-by-line>1.3 read file by line</a></li></ul></li><li><a href=#%E4%BA%8C%E5%86%99%E6%96%87%E4%BB%B6>二：写文件</a><ul><li><a href=#21-write-the-whole-file>2.1 Write the whole file</a></li><li><a href=#22-open-file-for-writing>2.2 Open file for writing</a></li><li><a href=#23-open-file-for-appending>2.3 Open file for appending</a></li><li><a href=#24-write-to-a-file>2.4 Write to a file</a></li><li><a href=#25-file-permissions-when-creating-files>2.5 File permissions when creating files</a></li></ul></li><li><a href=#%E4%B8%89file-operations>三：File Operations</a><ul><li><a href=#31-%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6-size>3.1 获取文件 size</a></li><li><a href=#32-%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6-information>3.2 获取文件 information</a></li><li><a href=#33-%E6%A3%80%E6%9F%A5%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6-exist>3.3 检查文件是否 Exist</a></li><li><a href=#34-delete-file>3.4 Delete File</a></li><li><a href=#35-rename-file>3.5 Rename File</a></li><li><a href=#36-copy-a-file>3.6 Copy a File</a></li></ul></li><li><a href=#%E5%9B%9B%E7%9B%AE%E5%BD%95%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C-directory-operations>四：目录相关操作 Directory Operations</a><ul><li><a href=#41-create-directory>4.1 Create directory</a></li><li><a href=#42-remove-directory>4.2 Remove Directory</a></li><li><a href=#43-%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95%E4%B8%8B%E9%9D%A2%E7%9A%84%E6%96%87%E4%BB%B6-list-files-in-a-directory>4.3 列出目录下面的文件 List files in a directory</a></li><li><a href=#44-recursive-%E9%80%92%E5%BD%92%E7%9A%84-list-%E6%96%87%E4%BB%B6>4.4 Recursive 递归的 List 文件</a></li></ul></li><li><a href=#%E4%BA%94file-path-operations>五：File Path Operations</a><ul><li><a href=#51-join-a-path>5.1 Join a path</a></li><li><a href=#52-split-a-path-into-a-directory-and-file>5.2 Split a path into a directory and file</a></li><li><a href=#53-split-list-of-paths>5.3 Split list of paths</a></li><li><a href=#54-get-file-name-from-path>5.4 Get file name from path</a></li><li><a href=#55-get-directory-name-from-path>5.5 Get directory name from path</a></li><li><a href=#56-%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E6%8B%93%E5%B1%95%E5%90%8D-get-file-extension>5.6 获取文件拓展名 Get file extension</a></li></ul></li><li><a href=#%E5%85%ADio-related-interface>六：IO related interface</a><ul><li><a href=#61-ioreader>6.1 io.Reader</a></li><li><a href=#62-iowriter>6.2 io.Writer</a></li><li><a href=#63-iocloser>6.3 io.Closer</a></li><li><a href=#64-ioreaderat>6.4 io.ReaderAt</a></li><li><a href=#65-iowriterat>6.5 io.WriterAt</a></li><li><a href=#66-ioseeker>6.6 io.Seeker</a></li></ul></li></ul><h1 id=一读文件>一：读文件</h1><h2 id=11-读一个-whole-文件>1.1 读一个 whole 文件</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>d</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>ioutil</span><span class=p>.</span><span class=nf>ReadFile</span><span class=p>(</span><span class=s>&#34;foo.txt&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>log</span><span class=p>.</span><span class=nf>Fatalf</span><span class=p>(</span><span class=s>&#34;ioutil.ReadFile failed with &#39;%s&#39;\n&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Size of &#39;foo.txt&#39;: %d bytes\n&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=nx>d</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=12-读一个文件close>1.2 读一个文件，close</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>f</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>Open</span><span class=p>(</span><span class=s>&#34;foo.txt&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>log</span><span class=p>.</span><span class=nf>Fatalf</span><span class=p>(</span><span class=s>&#34;os.Open failed with &#39;%s&#39;\n&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>defer</span> <span class=nx>f</span><span class=p>.</span><span class=nf>Close</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=13-read-file-by-line>1.3 read file by line</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// ReadLines reads all lines from a file</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>ReadLines</span><span class=p>(</span><span class=nx>filePath</span> <span class=kt>string</span><span class=p>)</span> <span class=p>([]</span><span class=kt>string</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>file</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>OpenFile</span><span class=p>(</span><span class=nx>filePath</span><span class=p>,</span> <span class=nx>os</span><span class=p>.</span><span class=nx>O_RDONLY</span><span class=p>,</span> <span class=mo>0644</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=kc>nil</span><span class=p>,</span> <span class=nx>err</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>defer</span> <span class=nx>file</span><span class=p>.</span><span class=nf>Close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=nx>scanner</span> <span class=o>:=</span> <span class=nx>bufio</span><span class=p>.</span><span class=nf>NewScanner</span><span class=p>(</span><span class=nx>file</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>res</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>string</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>scanner</span><span class=p>.</span><span class=nf>Scan</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>line</span> <span class=o>:=</span> <span class=nx>scanner</span><span class=p>.</span><span class=nf>Text</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=nx>res</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>res</span><span class=p>,</span> <span class=nx>line</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=p>=</span> <span class=nx>scanner</span><span class=p>.</span><span class=nf>Err</span><span class=p>();</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=kc>nil</span><span class=p>,</span> <span class=nx>err</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>res</span><span class=p>,</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>path</span> <span class=o>:=</span> <span class=s>&#34;main.go&#34;</span>
</span></span><span class=line><span class=cl>	<span class=nx>lines</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nf>ReadLines</span><span class=p>(</span><span class=nx>path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>log</span><span class=p>.</span><span class=nf>Fatalf</span><span class=p>(</span><span class=s>&#34;ReadLines failed with &#39;%s&#39;\n&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;File %s has %d lines\n&#34;</span><span class=p>,</span> <span class=nx>path</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=nx>lines</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=二写文件>二：写文件</h1><h2 id=21-write-the-whole-file>2.1 Write the whole file</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>d</span> <span class=o>:=</span> <span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>&#34;content of the file&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>err</span> <span class=o>:=</span> <span class=nx>ioutil</span><span class=p>.</span><span class=nf>WriteFile</span><span class=p>(</span><span class=s>&#34;foo.txt&#34;</span><span class=p>,</span> <span class=nx>d</span><span class=p>,</span> <span class=mo>0644</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>log</span><span class=p>.</span><span class=nf>Fatalf</span><span class=p>(</span><span class=s>&#34;ioutil.WriteFile failed with &#39;%s&#39;\n&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=22-open-file-for-writing>2.2 Open file for writing</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>f</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>Create</span><span class=p>(</span><span class=s>&#34;foo.txt&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>log</span><span class=p>.</span><span class=nf>Fatalf</span><span class=p>(</span><span class=s>&#34;os.Open failed with &#39;%s&#39;\n&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=23-open-file-for-appending>2.3 Open file for appending</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>f</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>OpenFile</span><span class=p>(</span><span class=nx>filePath</span><span class=p>,</span> <span class=nx>os</span><span class=p>.</span><span class=nx>O_WRONLY</span> <span class=p>|</span> <span class=nx>os</span><span class=p>.</span><span class=nx>O_APPEND</span> <span class=p>|</span> <span class=nx>os</span><span class=p>.</span><span class=nx>O_CREATE</span><span class=p>,</span> <span class=mo>0666</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>log</span><span class=p>.</span><span class=nf>Fatalf</span><span class=p>(</span><span class=s>&#34;os.Open failed with &#39;%s&#39;\n&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=24-write-to-a-file>2.4 Write to a file</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>d</span> <span class=o>:=</span> <span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>&#34;data to write&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>nWritten</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>f</span><span class=p>.</span><span class=nf>Write</span><span class=p>(</span><span class=nx>d</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=25-file-permissions-when-creating-files>2.5 File permissions when creating files</h2><p>使用 os.Create 或创建新文件时 os.OpenFile，需要为新文件提供文件权限。</p></div><div class=read-more><a href=/post/golang/015-file-and-io/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/golang/013-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E9%99%90%E6%B5%81%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/>01-微服务限流简单实现</a></h1><div class=post-meta><span class=post-time>2021-08-03</span><div class=post-category><a href=/categories/go/>Go</a></div></div></header><div class=post-content><div class=post-summary><div align=center><font size=50>微服务限流简单实现</font></div><h1 id=table-of-contents>Table of Contents</h1><ul><li><a href=#table-of-contents>Table of Contents</a></li><li><a href=#%E4%B8%80%E9%99%90%E6%B5%81%E7%9A%84%E7%9B%AE%E7%9A%84>一：限流的目的</a></li><li><a href=#%E4%BA%8C%E9%99%90%E6%B5%81%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F>二：限流实现方式</a><ul><li><a href=#1%E5%9B%BA%E5%AE%9A%E7%AA%97%E5%8F%A3>1：固定窗口</a><ul><li><a href=#%E6%80%9D%E6%83%B3>思想</a></li><li><a href=#%E5%AE%9E%E7%8E%B0>实现</a></li><li><a href=#%E9%97%AE%E9%A2%98>问题</a></li></ul></li><li><a href=#2%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3>2：滑动窗口</a><ul><li><a href=#%E6%80%9D%E6%83%B3-1>思想</a></li><li><a href=#%E5%AE%9E%E7%8E%B0-1>实现</a></li><li><a href=#%E7%9B%B8%E5%AF%B9%E4%BA%8E%E5%9B%BA%E5%AE%9A%E7%AA%97%E5%8F%A3%E7%9A%84%E6%94%B9%E8%BF%9B>相对于固定窗口的改进</a></li></ul></li><li><a href=#3%E6%BC%8F%E6%A1%B6>3：漏桶</a><ul><li><a href=#%E6%80%9D%E6%83%B3-2>思想</a></li><li><a href=#%E5%AE%9E%E7%8E%B0-2>实现</a></li><li><a href=#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF>适用场景</a></li></ul></li><li><a href=#4%E4%BB%A4%E7%89%8C%E6%A1%B6>4：令牌桶</a><ul><li><a href=#%E6%80%9D%E6%83%B3-3>思想</a></li><li><a href=#%E5%AE%9E%E7%8E%B0-3>实现</a></li><li><a href=#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-1>适用场景</a>
_ <a href=#%E6%80%9D%E6%83%B3-3>思想</a>
_ <a href=#%E5%AE%9E%E7%8E%B0-3>实现</a> * <a href=#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF-1>适用场景</a></li></ul></li></ul></li></ul><h1 id=一限流的目的>一：限流的目的</h1><p>保障服务稳定的三大利器：熔断、降级、服务限流。今天和大家谈谈限流算法的几种实现方式，本文所说的限流并非是 Nginx、网关层面的限流，而是业务代码中的逻辑限流。</p></div><div class=read-more><a href=/post/golang/013-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E9%99%90%E6%B5%81%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/dockerk8s/009-docker-registry-http-api-v2/>01-docker registry http api v2</a></h1><div class=post-meta><span class=post-time>2021-07-28</span><div class=post-category><a href=/categories/docker/>Docker</a></div></div></header><div class=post-content><div class=post-summary><div align=center><font size=50>docker registry http api v2</font></div><h1 id=table-of-contents>Table of Contents</h1><ul><li><a href=#table-of-contents>Table of Contents</a></li><li><a href=#1-overview>1: Overview</a></li><li><a href=#2-%E4%B8%93%E6%9C%89%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A>2: 专有名词解释</a></li><li><a href=#3-push-image-%E8%BF%87%E7%A8%8B>3: Push image 过程</a><ul><li><a href=#31-pushing-a-layer%E4%B8%8A%E4%BC%A0%E5%B1%82>3.1 Pushing a Layer（上传层）</a><ul><li><a href=#311-existing-layers%E6%A3%80%E6%9F%A5%E5%B1%82%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8>3.1.1 Existing Layers(检查层是否存在)</a></li><li><a href=#312-starting-an-upload%E5%90%AF%E5%8A%A8%E4%B8%8A%E4%BC%A0%E6%9C%8D%E5%8A%A1>3.1.2 Starting An Upload(启动上传服务)</a></li><li><a href=#313-uploading-the-layer%E4%B8%8A%E4%BC%A0%E5%B1%82>3.1.3 Uploading the Layer(上传层)</a><ul><li><a href=#3131-upload-progress%E4%B8%8A%E4%BC%A0%E8%BF%9B%E5%BA%A6>3.1.3.1 Upload Progress(上传进度)</a></li><li><a href=#3132-monolithic-upload%E6%95%B4%E5%9D%97%E4%B8%8A%E4%BC%A0>3.1.3.2 Monolithic Upload(整块上传）</a></li><li><a href=#3133-chunked-upload%E5%88%86%E5%9D%97%E4%B8%8A%E4%BC%A0>3.1.3.3 Chunked Upload（分块上传）</a></li><li><a href=#3134-completed-upload%E4%B8%8A%E4%BC%A0%E5%AE%8C%E6%88%90>3.1.3.4 Completed Upload(上传完成)</a></li><li><a href=#3135-canceling-an-upload%E5%8F%96%E6%B6%88%E4%B8%8A%E4%BC%A0>3.1.3.5 Canceling an Upload(取消上传)</a></li><li><a href=#3136-cross-repository-blob-mount%E4%BA%A4%E5%8F%89%E6%8C%82%E8%BD%BD%E5%B1%82>3.1.3.6 Cross Repository Blob Mount（交叉挂载层）</a></li></ul></li></ul></li><li><a href=#32-deleting-a-layer%E5%88%A0%E9%99%A4%E5%B1%82>3.2 Deleting a Layer(删除层)</a></li><li><a href=#33-pushing-an-image-manifest%E4%B8%8A%E4%BC%A0%E9%95%9C%E5%83%8F%E6%B8%85%E5%8D%95>3.3 Pushing an Image Manifest（上传镜像清单）</a></li></ul></li><li><a href=#4-pull-image-%E8%BF%87%E7%A8%8B>4: Pull image 过程</a><ul><li><a href=#41-pulling-an-image-manifest%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%E6%B8%85%E5%8D%95>4.1 Pulling an Image Manifest（拉取镜像清单）</a></li><li><a href=#42-pulling-a-layer%E6%8B%89%E5%8F%96%E5%B1%82>4.2 Pulling a Layer（拉取层）</a></li></ul></li><li><a href=#5-retrieve-%E6%A3%80%E7%B4%A2%E5%8A%9F%E8%83%BD>5: Retrieve 检索功能</a><ul><li><a href=#51-listing-repositories%E5%88%97%E5%87%BA%E5%AD%98%E5%82%A8%E5%BA%93>5.1 Listing Repositories（列出存储库）</a></li><li><a href=#52-pagination%E9%83%A8%E5%88%86%E5%88%97%E5%87%BA%E5%AD%98%E5%82%A8%E5%BA%93>5.2 Pagination(部分列出存储库)</a></li><li><a href=#53-listing-image-tags%E5%88%97%E5%87%BA%E9%95%9C%E5%83%8F-tag>5.3 Listing Image Tags(列出镜像 tag)</a></li><li><a href=#54-pagination%E9%83%A8%E5%88%86%E5%88%97%E5%87%BA%E9%95%9C%E5%83%8F-tag>5.4 Pagination(部分列出镜像 tag)</a></li></ul></li><li><a href=#6-deleteing-an-image%E5%88%A0%E9%99%A4%E9%95%9C%E5%83%8F>6: Deleteing an Image（删除镜像）</a></li><li><a href=#7-errors-%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF>7: Errors 错误信息</a></li></ul><h1 id=1-overview>1: Overview</h1><table><thead><tr><th>methods</th><th>path</th><th>Entity</th><th>Description</th></tr></thead><tbody><tr><td>GET</td><td>/v2/</td><td>Base</td><td>检查 the endpoint 是否实现了 Docker Registry API V2.</td></tr><tr><td>GET</td><td>/v2/{name}/tags/list</td><td>Tags</td><td>通过 name 获取 repository 下的 tags</td></tr><tr><td>GET</td><td>/v2/{name}/manifests/{reference}</td><td>Manifest</td><td>获取由 name 和 references 标识的 manifest，其中 referencec 可以是 tag 或 digest。还可以向该 endpoint 发出 HEAD 请求以获取资源信息，而不接收所有数据。</td></tr><tr><td>PUT</td><td>/v2/{name}/manifests/{reference}</td><td>Manifest</td><td>Put 由 name 和 reference 标识的 manifest</td></tr><tr><td>DELETE</td><td>/v2/{name}/manifests/{reference}</td><td>Manifest</td><td>删除由 digest 标识的 manifest</td></tr><tr><td>GET</td><td>/v2/{name}/blobs/{digest}</td><td>Blob</td><td>从 registry retrieve 由 digest 标识的 blobs</td></tr><tr><td>DELETE</td><td>/v2/{name}/blobs/{digest}</td><td>Blob</td><td>Delete the blob identified by name and digest</td></tr><tr><td>POST</td><td>/v2/{name}/blobs/uploads/</td><td>Initiate(启动) Blob upload 服务</td><td>启动可恢复的 blob upload 服务。如果成功，将提供上载位置以完成上载。或者，如果存在 digest 参数，则请求正文将用于在单个请求中完成上载。</td></tr><tr><td>GET</td><td>/v2/{name}/blobs/uploads/{uuid}</td><td>Blob Upload</td><td>检索由 uuid 标识的上传状态。此 endpoint 的主要目的是 resolve 可恢复 upload 的当前状态。</td></tr><tr><td>PATCH</td><td>/v2/{name}/blobs/uploads/{uuid}</td><td>Blob Upload</td><td>上传 指定 upload 的 chunk 数据块</td></tr><tr><td>PUT</td><td>/v2/{name}/blobs/uploads/{uuid}</td><td>Blob Upload</td><td>完成 uuid 指定的上传，可以选择附加 body 作为最后一个块</td></tr><tr><td>DELETE</td><td>/v2/{name}/blobs/uploads/{uuid}</td><td>Blob Upload</td><td>Cancel <strong>outstanding</strong> upload processes, releasing associated resources. If this is not called, the unfinished uploads will <strong>eventually</strong> timeout.</td></tr><tr><td>GET</td><td>/v2/_catalog</td><td>Catalog</td><td>在 registry 中检索一个有序的，可用的 repositry 的 json 列表</td></tr></tbody></table><h1 id=2-专有名词解释>2: 专有名词解释</h1><ul><li><strong>repositry name</strong>(存储库名称):存储库指在库中存储的镜像</li><li><strong>digest</strong>(摘要):是 image 各个层的唯一标识。虽然算法允许使用任意算法，但是为了兼容性应该使用 sha256。
例：<code>sha256:6c3c624b58dbbcd3c0dd82b4c53f04194d1247c6eebdaab7c610cf7d66709b3b</code></li></ul><h1 id=3-push-image-过程>3: Push image 过程</h1><blockquote><p>先推各个 Layer 层到 registry 仓库，然后上传清单 Manifest</p></div><div class=read-more><a href=/post/dockerk8s/009-docker-registry-http-api-v2/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/dockerk8s/001-wsl2%E4%B8%AD%E9%85%8D%E7%BD%AEdocker%E8%BF%9C%E7%A8%8Btcp/>01-WSL2中配置docker远程tcp</a></h1><div class=post-meta><span class=post-time>2021-07-27</span><div class=post-category><a href=/categories/docker/>Docker</a></div></div></header><div class=post-content><div class=post-summary><div align=center><font size=50>WSL2中配置docker远程tcp</font></div><ul><li><a href=#1-%E4%BF%AE%E6%94%B9-libsystemdsystemdockerservice>1: 修改 <code>/lib/systemd/system/docker.service</code></a></li><li><a href=#2-%E8%AE%BE%E7%BD%AE-docker_host-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F>2: 设置 <code>DOCKER_HOST</code> 环境变量</a></li><li><a href=#3-%E4%BF%AE%E6%94%B9-docker-%E5%90%AF%E5%8A%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6etcdefaultdocker>3: 修改 docker 启动配置文件<code>/etc/default/docker</code></a></li><li><a href=#4-%E9%87%8D%E5%90%AF-docker>4: 重启 docker</a></li></ul><hr><h1 id=1-修改-libsystemdsystemdockerservice>1: 修改 <code>/lib/systemd/system/docker.service</code></h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># sudo vim /lib/systemd/system/docker.service</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Service<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>ExecStart</span><span class=o>=</span>/usr/bin/dockerd -H tcp://0.0.0.0:2375 -H unix:///var/run/docker.sock -H fd:// --containerd<span class=o>=</span>/run/containerd/containerd.sock
</span></span><span class=line><span class=cl><span class=c1># 上面这一行,主要是增加了`-H tcp://0.0.0.0:2375 -H unix:///var/run/docker.sock`</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=2-设置-docker_host-环境变量>2: 设置 <code>DOCKER_HOST</code> 环境变量</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># sudo vim ~/.zshrc</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>DOCKER_HOST</span><span class=o>=</span>tcp://0.0.0.0:2375
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>source</span> ~/.zshrc
</span></span></code></pre></td></tr></table></div></div><h1 id=3-修改-docker-启动配置文件etcdefaultdocker>3: 修改 docker 启动配置文件<code>/etc/default/docker</code></h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 开启远程访问 -H tcp://0.0.0.0:2375</span>
</span></span><span class=line><span class=cl><span class=c1># 开启本地套接字访问 -H unix:///var/run/docker.sock</span>
</span></span><span class=line><span class=cl><span class=nv>DOCKER_OPTS</span><span class=o>=</span><span class=s2>&#34;-H tcp://0.0.0.0:2375 -H unix:///var/run/docker.sock&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=4-重启-docker>4: 重启 docker</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo service docker restart
</span></span></code></pre></td></tr></table></div></div></div><div class=read-more><a href=/post/dockerk8s/001-wsl2%E4%B8%AD%E9%85%8D%E7%BD%AEdocker%E8%BF%9C%E7%A8%8Btcp/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/database/005-mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96%E6%9C%80%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/>01-mysql数据库优化最完整指南</a></h1><div class=post-meta><span class=post-time>2021-06-11</span><div class=post-category><a href=/categories/database/>DataBase</a></div></div></header><div class=post-content><div class=post-summary><ul><li><a href=#%E9%98%B6%E6%AE%B5%E4%B8%80-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E8%AE%BE%E8%AE%A1>阶段一: 数据库表设计</a></li><li><a href=#%E9%98%B6%E6%AE%B5%E4%BA%8C-%E6%95%B0%E6%8D%AE%E5%BA%93%E9%83%A8%E7%BD%B2>阶段二: 数据库部署</a></li><li><a href=#%E9%98%B6%E6%AE%B5%E4%B8%89-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96>阶段三: 数据库性能优化</a><ul><li><a href=#31-%E7%A1%AC%E4%BB%B6%E9%85%8D%E7%BD%AE>3.1 硬件配置</a></li><li><a href=#32-%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96>3.2 数据库配置优化</a></li><li><a href=#33-%E7%B3%BB%E7%BB%9F%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0%E4%BC%98%E5%8C%96>3.3 系统内核参数优化</a></li></ul></li><li><a href=#%E9%98%B6%E6%AE%B5%E5%9B%9B-sql-%E8%AF%AD%E5%8F%A5%E4%BC%98%E5%8C%96>阶段四: SQL 语句优化</a></li><li><a href=#%E9%98%B6%E6%AE%B5%E4%BA%94-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9E%B6%E6%9E%84%E6%89%A9%E5%B1%95>阶段五: 数据库架构扩展</a><ul><li><a href=#51-%E5%A2%9E%E5%8A%A0-cache-%E7%BC%93%E5%AD%98>5.1 增加 cache 缓存</a></li><li><a href=#52-masterslave-%E5%A4%8D%E5%88%B6%E5%92%8C%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB>5.2 Master/Slave 复制和读写分离</a></li><li><a href=#53-%E5%88%86%E5%BA%93>5.3 分库</a></li><li><a href=#54-%E5%88%86%E8%A1%A8>5.4 分表</a></li><li><a href=#55-%E5%88%86%E5%8C%BA>5.5 分区</a></li></ul></li><li><a href=#%E9%98%B6%E6%AE%B5%E5%85%AD-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%B4%E6%8A%A4>阶段六: 数据库维护</a><ul><li><a href=#61-%E6%80%A7%E8%83%BD%E7%8A%B6%E6%80%81%E5%85%B3%E9%94%AE%E6%8C%87%E6%A0%87-quota>6.1 性能状态关键指标 quota</a><ul><li><a href=#611-qps>6.1.1 QPS</a></li><li><a href=#612-tps>6.1.2 TPS</a></li></ul></li><li><a href=#62-%E5%BC%80%E5%90%AF%E6%85%A2%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97>6.2 开启慢查询日志</a></li><li><a href=#63-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD>6.3 数据库备份</a></li><li><a href=#64-%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BF%AE%E5%A4%8D>6.4 数据库修复</a></li><li><a href=#65-mysql-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90>6.5 mysql 服务器性能分析</a></li></ul></li><li><a href=#%E9%98%B6%E6%AE%B5%E4%B8%83-%E5%85%B6%E4%BB%96>阶段七: 其他</a></li></ul><h1 id=阶段一-数据库表设计>阶段一: 数据库表设计</h1><ul><li>表结构设计</li></ul><h1 id=阶段二-数据库部署>阶段二: 数据库部署</h1><ul><li>主从复制</li><li>集群</li><li>主从复制+Keepalived 实现双机热备份</li></ul><blockquote><p>主流的 HA 软件有: Keepalived,Heartbeat</p></div><div class=read-more><a href=/post/database/005-mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96%E6%9C%80%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/golang/011-convert-json-to-csv/>01-Convert json to csv</a></h1><div class=post-meta><span class=post-time>2021-06-09</span><div class=post-category><a href=/categories/go/>Go</a></div></div></header><div class=post-content><div class=post-summary><h1 id=table-of-contents>Table of Contents</h1><ul><li><a href=#table-of-contents>Table of Contents</a></li><li><a href=#1-convert-json-to-csv>1: Convert json to csv</a><ul><li><a href=#11-json-%E6%96%87%E4%BB%B6>1.1 json 文件</a></li><li><a href=#12-convert>1.2 convert</a></li></ul></li></ul><h1 id=1-convert-json-to-csv>1: Convert json to csv</h1><h2 id=11-json-文件>1.1 json 文件</h2><ul><li>company.json</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;App&#34;</span><span class=p>:</span> <span class=s2>&#34;Instagram&#34;</span><span class=p>,</span> <span class=nt>&#34;Company&#34;</span><span class=p>:</span> <span class=s2>&#34;Facebook&#34;</span><span class=p>,</span> <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Social Media&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;App&#34;</span><span class=p>:</span> <span class=s2>&#34;WeChat&#34;</span><span class=p>,</span> <span class=nt>&#34;Company&#34;</span><span class=p>:</span> <span class=s2>&#34;Tencent&#34;</span><span class=p>,</span> <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Social Media&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;App&#34;</span><span class=p>:</span> <span class=s2>&#34;Hotstar&#34;</span><span class=p>,</span> <span class=nt>&#34;Company&#34;</span><span class=p>:</span> <span class=s2>&#34;Disney&#34;</span><span class=p>,</span> <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Entertainment&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;App&#34;</span><span class=p>:</span> <span class=s2>&#34;CNBC&#34;</span><span class=p>,</span> <span class=nt>&#34;Company&#34;</span><span class=p>:</span> <span class=s2>&#34;Comcast&#34;</span><span class=p>,</span> <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;News&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nt>&#34;App&#34;</span><span class=p>:</span> <span class=s2>&#34;SnapChat&#34;</span><span class=p>,</span> <span class=nt>&#34;Company&#34;</span><span class=p>:</span> <span class=s2>&#34;Snap&#34;</span><span class=p>,</span> <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Social Media&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=12-convert>1.2 convert</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>package main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import <span class=o>(</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;encoding/csv&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;encoding/json&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;io/ioutil&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;os&#34;</span>
</span></span><span class=line><span class=cl><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// Application struct
</span></span><span class=line><span class=cl><span class=nb>type</span> Application struct <span class=o>{</span>
</span></span><span class=line><span class=cl>    App      string
</span></span><span class=line><span class=cl>    Company  string
</span></span><span class=line><span class=cl>    Category string
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>func main<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    // <span class=nb>read</span> data from file
</span></span><span class=line><span class=cl>    jsonDataFromFile, err :<span class=o>=</span> ioutil.ReadFile<span class=o>(</span><span class=s2>&#34;./company.json&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> err !<span class=o>=</span> nil <span class=o>{</span>
</span></span><span class=line><span class=cl>        fmt.Println<span class=o>(</span>err<span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    // Unmarshal JSON data
</span></span><span class=line><span class=cl>    var jsonData <span class=o>[]</span>Application
</span></span><span class=line><span class=cl>    <span class=nv>err</span> <span class=o>=</span> json.Unmarshal<span class=o>([]</span>byte<span class=o>(</span>jsonDataFromFile<span class=o>)</span>, <span class=p>&amp;</span>jsonData<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> err !<span class=o>=</span> nil <span class=o>{</span>
</span></span><span class=line><span class=cl>        fmt.Println<span class=o>(</span>err<span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    csvFile, err :<span class=o>=</span> os.Create<span class=o>(</span><span class=s2>&#34;./data.csv&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> err !<span class=o>=</span> nil <span class=o>{</span>
</span></span><span class=line><span class=cl>        fmt.Println<span class=o>(</span>err<span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    defer csvFile.Close<span class=o>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    writer :<span class=o>=</span> csv.NewWriter<span class=o>(</span>csvFile<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> _, usance :<span class=o>=</span> range jsonData <span class=o>{</span>
</span></span><span class=line><span class=cl>        var row <span class=o>[]</span>string
</span></span><span class=line><span class=cl>        <span class=nv>row</span> <span class=o>=</span> append<span class=o>(</span>row, usance.App<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nv>row</span> <span class=o>=</span> append<span class=o>(</span>row, usance.Company<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nv>row</span> <span class=o>=</span> append<span class=o>(</span>row, usance.Category<span class=o>)</span>
</span></span><span class=line><span class=cl>        writer.Write<span class=o>(</span>row<span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    // remember to flush!
</span></span><span class=line><span class=cl>    writer.Flush<span class=o>()</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div></div><div class=read-more><a href=/post/golang/011-convert-json-to-csv/ class=read-more-link>阅读更多</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/dockerk8s/005-minikube%E6%90%AD%E5%BB%BA/>01-MInikube搭建</a></h1><div class=post-meta><span class=post-time>2021-06-07</span><div class=post-category><a href=/categories/k8s/>k8s</a></div></div></header><div class=post-content><div class=post-summary><p>[toc]</p><h1 id=1-安装-docker-环境>1: 安装 Docker 环境</h1><h2 id=11-安装-docker>1.1: 安装 docker</h2><h2 id=12-配置-docker>1.2: 配置 docker</h2><p>docker 加速 <code>/etc/docker/daemon.json</code>
重启 docker,使配置生效</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl daemon-reload
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo systemctl restart docker
</span></span></code></pre></td></tr></table></div></div><h1 id=2-安装-minikube>2: 安装 Minikube</h1><p><a href=https://cloud.tencent.com/developer/article/1817826>https://cloud.tencent.com/developer/article/1817826</a></p><h2 id=21-使用普通的-minikube>2.1 使用普通的 minikube</h2><h3 id=211-更新软件源>2.1.1 更新软件源</h3><h3 id=212-更新软件包>2.1.2 更新软件包</h3><h3 id=213-安装-docker>2.1.3 安装 docker</h3><h3 id=214-安装-k8s>2.1.4 安装 k8s</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 执行以下命令安装 https 工具以及 k8s</span>
</span></span><span class=line><span class=cl>apt-get update <span class=o>&amp;&amp;</span> apt-get install -y apt-transport-https curl
</span></span><span class=line><span class=cl>apt-get install -y kubelet kubeadm kubectl --allow-unauthenticated
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 执行下面命令测试是否正常</span>
</span></span><span class=line><span class=cl>kubeadm init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 如果安装时，出现下面情况，说明系统得镜像源中，找不到 k8s 的软件包</span>
</span></span><span class=line><span class=cl>No apt package <span class=s2>&#34;kubeadm&#34;</span>, but there is a snap with that name.
</span></span><span class=line><span class=cl>Try <span class=s2>&#34;snap install kubeadm&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>No apt package <span class=s2>&#34;kubectl&#34;</span>, but there is a snap with that name.
</span></span><span class=line><span class=cl>Try <span class=s2>&#34;snap install kubectl&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 可以打开 /etc/apt/sources.list  文件，添加一行</span>
</span></span><span class=line><span class=cl>deb https://mirrors.aliyun.com/kubernetes/apt kubernetes-xenial main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 再次执行安装k8s</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 如果出现下面</span>
</span></span><span class=line><span class=cl>The following signatures couldn<span class=err>&#39;</span>t be verified because the public key is not available
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 则执行下面命令，添加key</span>
</span></span><span class=line><span class=cl>curl https://mirrors.aliyun.com/kubernetes/apt/doc/apt-key.gpg <span class=p>|</span> sudo apt-key add
</span></span></code></pre></td></tr></table></div></div><blockquote><p>上面命令，安装了 <code>kubelet</code>、<code>kubeadm</code>、<code>kubectl</code></p></div><div class=read-more><a href=/post/dockerk8s/005-minikube%E6%90%AD%E5%BB%BA/ class=read-more-link>阅读更多</a></div></div></article></section><nav class=pagination><a class=prev href=/page/6/><i class="iconfont icon-left"></i>
<span class=prev-text>上一页</span>
</a><a class=next href=/page/8/><span class=next-text>下一页</span>
<i class="iconfont icon-right"></i></a></nav></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:golpp@qq.com class="iconfont icon-email" title=email></a><a href=http://localhost:1313 class="iconfont icon-stack-overflow" title=stack-overflow></a><a href=http://localhost:1313 class="iconfont icon-twitter" title=twitter></a><a href=http://localhost:1313 class="iconfont icon-facebook" title=facebook></a><a href=https://github.com/lppgo class="iconfont icon-github" title=github></a><a href=http://localhost:1313 class="iconfont icon-weibo" title=weibo></a><a href=https://github.com/lppgo class="iconfont icon-gitlab" title=gitlab></a><a href=http://localhost:1313 class="iconfont icon-bilibili" title=bilibili></a><a href=/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>由 <a class=hexo-link href=https://gohugo.io>Hugo</a> 强力驱动
</span><span class=division>|</span>
<span class=theme-info>主题 -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span><span class=copyright-year>&copy;
2015 -
2025<span class=heart><i class="iconfont icon-heart"></i></span><span></span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script><script id=baidu_push>(function(){if(window.location.hostname==="localhost")return;var t,n,e=document.createElement("script");e.async=!0,n=window.location.protocol.split(":")[0],n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></body></html>